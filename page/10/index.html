<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>RainVisitor Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="RainVisitor Blog">
<meta property="og:url" content="https://blog.rainvisitor.me/page/10/index.html">
<meta property="og:site_name" content="RainVisitor Blog">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="Rainvisitor">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="RainVisitor Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">RainVisitor Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.rainvisitor.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2021-09-30T20:38:27.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/4eaa459e.html" class="article-date">
  <time datetime="2021-09-30T12:38:27.000Z" itemprop="datePublished">2021-09-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/4eaa459e.html">【文章翻譯】Supernova: a design system platform</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="早期採用者使用-Flutter-Web-應用程式開發的經驗"><a href="#早期採用者使用-Flutter-Web-應用程式開發的經驗" class="headerlink" title="早期採用者使用 Flutter Web 應用程式開發的經驗"></a>早期採用者使用 Flutter Web 應用程式開發的經驗</h2><p>兩年前，Flutter 宣布為準備使用 Flutter Web 支援進行開發的公司提供 <a href="https://medium.com/flutter/flutter-for-web-early-adopter-program-now-open-9f1fb146e4c4">早期採用者計劃</a>。今天，其中一家早期採用者 <a href="https://www.supernova.io/">Supernova</a>， 推出了其設計系統平台，該平台同時使用 Flutter 建立，並為 Flutter 輸出程式碼。</p>
<p>我們認為 Supernova 是 Flutter 在 Web 上實現的體驗的一個很好的例子。我和 Supernova 的 CEO <a href="https://twitter.com/JiriTrecak">Jiří Třečák</a> 和 CTO <a href="https://twitter.com/ArtemUfimtcev">Artem Ufimtcev</a> 坐在一起，了解更多關於他們使用 Flutter Web 支援所構建的內容。</p>
<h4 id="您如何向從未聽說過-Supernova-的人描述它？"><a href="#您如何向從未聽說過-Supernova-的人描述它？" class="headerlink" title="您如何向從未聽說過 Supernova 的人描述它？"></a>您如何向從未聽說過 Supernova 的人描述它？</h4><p>通常情況下，設計和開發團隊是分開的，從未真正共同合作；這是因為工具是專為其中一個團隊而設計的。因此，我們決定建立一個平台，讓設計師和開發人員可以走到一起，作為一個團隊共同合作。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*GOSImwOIA3oqItUMRmq5Kw.png" />
</figure>

<h4 id="告訴我更多關於-Supernova-概念背後的靈感。"><a href="#告訴我更多關於-Supernova-概念背後的靈感。" class="headerlink" title="告訴我更多關於 Supernova 概念背後的靈感。"></a>告訴我更多關於 Supernova 概念背後的靈感。</h4><p>這個概念源於在設計過程中需要一定程度的自動化，以減輕迭代工作流程的繁瑣。我們今天推出的工具可以自動將設計師建立的設計系統轉換為開發人員可以直接使用的程式碼形式。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*oqPmxo8kmisR_7oiZn06vQ.png" />
<figcaption>Supernova，一個自動化設計流程的平台</figcaption>
</figure>

<h4 id="您能更詳細地說明使用者在此版本中可以期待的功能嗎？"><a href="#您能更詳細地說明使用者在此版本中可以期待的功能嗎？" class="headerlink" title="您能更詳細地說明使用者在此版本中可以期待的功能嗎？"></a>您能更詳細地說明使用者在此版本中可以期待的功能嗎？</h4><p>在此版本中，您可以將 Figma 設計導入 Supernova，管理樣式、素材或其他元件，然後將它們輸出為程式碼。我們建立了一個文件編輯器，讓您可以根據您的設計系統建立文件，最後，還建立了一個自動化引擎，可以在設計更改時自動更新您的文件和程式碼。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*YaZp-vdLHW17_b9ktY_4mQ.png" />
<figcaption>Supernova 的文件編輯器</figcaption>
</figure>

<p>我們平台中的 <em>所有內容</em> 都是使用 Flutter 和 Dart 建立的。其中有很多複雜的邏輯，因此我們的應用程式比大多數應用程式更依賴于 Dart，Flutter 用於視覺化層。除了 Flutter 的 CanvasKit 渲染器之外，我們還擁有自己的 Skia 引擎，用於從 Figma 中的資料模型解析和渲染元件。</p>
<h4 id="為什麼您選擇-Flutter-和-Dart-作為構建內容的不可或缺的一部分？"><a href="#為什麼您選擇-Flutter-和-Dart-作為構建內容的不可或缺的一部分？" class="headerlink" title="為什麼您選擇 Flutter 和 Dart 作為構建內容的不可或缺的一部分？"></a>為什麼您選擇 Flutter 和 Dart 作為構建內容的不可或缺的一部分？</h4><blockquote>我們選擇 Flutter 的主要原因是我們能夠按照自己的意愿改造平台。</blockquote>

<p>最初，Supernova 是一個原生 macOS 應用程式，但我們看到了對基於 Web 的解決方案的濃厚興趣。Flutter 承諾使用一個程式碼庫部署到其他平台，這使得它成為一個有吸引力的選擇。我們知道我們最終希望有一個桌面應用程式，因為我們的工具非常依賴於計算，並且與典型的網站相比，它對效能的要求更高。</p>
<p>我們選擇 Flutter 的主要原因是我們能夠按照自己的意愿改造平台。我們知道我們將擁有許多不常見的視覺操作，而不是使用 WebGL 從頭開始構建，Flutter 為我們提供了一種存取低層渲染引擎的方法，以便我們能夠以自己的方式構建它，使用經過良好測試的框架。</p>
<p>儘管我們在早期遇到了一些困難，但由於 Flutter 提供的靈活性，我們認為做出了正確的決定。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*0vWG-4VTlJkHX_9z0nGNWg.png" />
<figcaption>Supernova 不僅使用 Flutter 建立，還輸出 Flutter 程式碼</figcaption>
</figure>

<h4 id="因此，這並不總是順風順水。你能描述一下這些困難以及你在這過程中學到了什麼嗎？"><a href="#因此，這並不總是順風順水。你能描述一下這些困難以及你在這過程中學到了什麼嗎？" class="headerlink" title="因此，這並不總是順風順水。你能描述一下這些困難以及你在這過程中學到了什麼嗎？"></a>因此，這並不總是順風順水。你能描述一下這些困難以及你在這過程中學到了什麼嗎？</h4><p>我們在開發 Flutter Web 應用程式時遇到的第一個技術挑戰之一是路由問題。當 Router API 發佈時，我們立即重新設計了路由系統以採用它，這被證明對 Web 應用程式更有效。雖然它提供了更好的整合到瀏覽器歷史記錄中，但它對於巢狀路由來說過於複雜。因此，我們讓在頁面之間共享狀態控制器（在本例中是 MobX 儲存）成為可能，以模擬巢狀路由。這種方法使維護和實作變得更加簡單。</p>
<p>我們學到的最主要的一點是 Dart 和 JavaScript 之間的互操作性對於 Web 應用程式的重要性。如果您還目標是 Flutter 支援的其他平台，那麼使用 Web 特定函式庫會有一些限制，但如果您的主要關注點是 Web 應用程式，那麼它可以節省大量時間。我們了解到，使用 JavaScript 函式庫和嵌入 HTML 可以彌補缺少 Web 支援的 Plugin。例如，我們使用這種方法來建立程式碼預覽 Widget，我們將其作為 HTML 嵌入，並使用 JavaScript 函式庫來進行語法高亮顯示。我認為，在建立 Flutter Web 應用程式時，熟悉 JavaScript 非常有幫助，同時還要了解 Dart&#x2F;JavaScript 互操作性和 HTML 嵌入的優點和限制。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Zo9xfW_VtnLJmaTYq5ZJyg.png" />
<figcaption>使用 Dart/JavaScript 互操作性建立的程式碼預覽 Widget</figcaption>
</figure>

<p>我們還了解到，使用 Flutter 為 Web 應用程式優化效能與為 Flutter 支援的其他平台優化效能並沒有太大區别。在大多數情况下，可以使用兩種方法解决问题：</p>
<ol>
<li>將 Widget 重新建立定位到 Widget 樹的尽可能小的部分。使用 MobX 作為主要狀態管理系統意味著重新建立只會影響 UI 中必要的部分。</li>
<li>使用带有按需子项构建器的列表。我们尽力在任何地方使用 ListView 构建器和 Sliver，以便我们只构建当前在屏幕上可见的部分。</li>
</ol>
<h4 id="尽管有困难，但-Flutter-是否帮助你克服了某些特定的技术挑战？"><a href="#尽管有困难，但-Flutter-是否帮助你克服了某些特定的技术挑战？" class="headerlink" title="尽管有困难，但 Flutter 是否帮助你克服了某些特定的技术挑战？"></a>尽管有困难，但 Flutter 是否帮助你克服了某些特定的技术挑战？</h4><p>透過 Flutter 使用 CanvasKit 渲染器比使用 WebGL 從頭開始撰寫著色器要愉快得多。CanvasKit 為我們提供了更多更高級别的渲染工具，讓我們可以專注於將 Figma 的非標準矢量模型轉換為與我們的 Skia 渲染引擎一起使用的細微差別。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*J7beI4HVjgoaD4JHk-JUyw.png" />
</figure>

<p>開發人員通常低估了字體管理的挑戰。在本例中，我們必須支援設計師可能使用的所有字體。由於 <a href="https://pub.dev/packages/google_fonts">google_fonts 套件</a> 可以自動從 Google 直接下載字體，Flutter 在這方面幫助很大。</p>
<p>最後，Flutter 還允許我們共享驅動 Supernova 平台和我們建立的用於在 Figma 中運行的獨立 Plugin 的程式碼庫。雖然前端完全不同，但它們共享相同的資料模型和邏輯。</p>
<h4 id="我很好奇，您如何看待使用-Flutter-在-Web-上的體驗與使用更傳統的框架相比？"><a href="#我很好奇，您如何看待使用-Flutter-在-Web-上的體驗與使用更傳統的框架相比？" class="headerlink" title="我很好奇，您如何看待使用 Flutter 在 Web 上的體驗與使用更傳統的框架相比？"></a>我很好奇，您如何看待使用 Flutter 在 Web 上的體驗與使用更傳統的框架相比？</h4><p>總體而言，有很多相似之处。Flutter 中的概念，例如它对 UI 的反应式方法、Widget、Flexbox 布局，甚至状态管理，都可以在许多现代 Web 框架中找到。</p>
<p>然而，Flutter 有几方面不同。與其他 Web 框架不同，Flutter 不依賴於 HTML 或 CSS 來撰寫 UI 元件。相反，您必須了解哪些 Widget 存在，以及如何將它們組合在一起以實現與使用 CSS 才能實現的相同 UI。也就是说，Flutter 附带了对 Material 的开箱即用支持，因此如果您习惯了这种外观和感觉，它可以帮助您入门。</p>
<blockquote>我发现 Dart 背后的理念大相径庭。</blockquote>

<p>另一个重要区别是语言。虽然本质上 Dart 与 JavaScript 相似，但我发现 Dart 背后的理念大相径庭。在使用 Dart 编写代码一段时间后，您会发现它专为安全性、可预测性而设计。诸如健全的空安全之类的语言功能在 JavaScript 和与 JavaScript 兼容的语言世界中并不常见，我们发现它们对于使复杂应用程序稳定且可维护至关重要。另一个令我们惊喜的是 Dart 的注解处理和代码生成功能。</p>
<h4 id="由于您是早期采用者，您觉得-Flutter-的-Web-支持有哪些改进？"><a href="#由于您是早期采用者，您觉得-Flutter-的-Web-支持有哪些改进？" class="headerlink" title="由于您是早期采用者，您觉得 Flutter 的 Web 支持有哪些改进？"></a>由于您是早期采用者，您觉得 Flutter 的 Web 支持有哪些改进？</h4><p>我們一直從第一個技術預覽版開始就在 Web 上使用 Flutter。在那時，Web 目標不支持使用瀏覽器歷史記錄的導航，效能很差，缺少很多 Widget 和 Plugin，工具和偵錯程式也不存在。</p>
<p>現在有了穩定版本，我們在所有這些領域都看到了進步，並且對我們在 Web 上使用 Flutter 的決定充滿信心。如果您將技術預覽版與 Flutter 2.5 版本進行比較，您會發現效能有了實質性改进，特別是在渲染複雜佈局方面。</p>
<p>也就是说，仍然有提高的空间！特别是，我们期待看到用于检查 CanvasKit 渲染 Widget 的更好的工具，因为今天的浏览器工具不支持它。</p>
<h4 id="最后一个问题，如何开始使用-Supernova？"><a href="#最后一个问题，如何开始使用-Supernova？" class="headerlink" title="最后一个问题，如何开始使用 Supernova？"></a>最后一个问题，如何开始使用 Supernova？</h4><p>隨著今天的發佈，Supernova 現在對每個人都可用！要開始使用，請訪問 <a href="https://www.supernova.io/">supernova.io</a> 註冊並提供您 Figma 設計檔案的連結。然後，從那裡開始，基本而言，整個世界都向您敞開了。您可以立即開始為 Flutter（或任何其他框架）輸出程式碼，或獲取圖示的素材以開始撰寫文件。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*mtTv0oMcbsbStL_T9RSsZw.png" />
<figcaption>Supernova 的元件管理器與 Figma 整合在一起</figcaption>
</figure>

<p>我們很高興看到 Flutter 的早期採用者在 Web 上推出產品。請務必親自查看！如果您正在使用 Flutter 在 Web 上進行開發，請告訴我們。一如既往，您可以在 Twitter 上找到我們 <a href="https://twitter.com/FlutterDev">FlutterDev</a>。我們迫不及待地想看看您創作了什麼！</p>
<p><a href="http://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/4eaa459e.html" data-id="cm1oza4zr0001dj17av0jaol4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/design/" rel="tag">design</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/design-systems/" rel="tag">design-systems</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/figma/" rel="tag">figma</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter/" rel="tag">flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web-development/" rel="tag">web-development</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2021-09-14T19:31:45.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/9effe491.html" class="article-date">
  <time datetime="2021-09-14T11:31:45.000Z" itemprop="datePublished">2021-09-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/9effe491.html">【文章翻譯】Flutter: What’s next on the Web?</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="我們對未來版本優先考慮事項，重點關注效能、開發者體驗和-Web-整合"><a href="#我們對未來版本優先考慮事項，重點關注效能、開發者體驗和-Web-整合" class="headerlink" title="我們對未來版本優先考慮事項，重點關注效能、開發者體驗和 Web 整合"></a>我們對未來版本優先考慮事項，重點關注效能、開發者體驗和 Web 整合</h2><figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*7iBUzC4UvwNi8agIsCrZ7w.png" />
</figure>

<p>Flutter 的 Web 支援在 2021 年 3 月 <a href="https://medium.com/flutter/flutter-web-support-hits-the-stable-milestone-d6b84e83b425">達到了穩定里程碑</a>。那麼接下來呢？</p>
<p>根據我們的使用者研究，Web 是超過 10% Flutter 專案的目標。因此，我們現在的重點是提高初始穩定版本的品質，並讓更多人能夠將他們的 Flutter Web 應用程式部署到生產環境。</p>
<p>我們根據 Flutter 季度調查的結果以及我們在問題、面對面討論和社交媒體上聽到的意見來確立這些優先事項。我們剛剛收到了第三季度調查的結果，我們很高興看到這個計畫符合您的回饋。</p>
<p>本文將更詳細地介紹我們的路線圖以及為每個優先事項規劃的工作。某些功能可能跨越幾個季度，而其他功能則需要 [調查 (🔍)] 才能確定解決方案。</p>
<h3 id="WEB-外觀和感覺"><a href="#WEB-外觀和感覺" class="headerlink" title="WEB 外觀和感覺"></a>WEB 外觀和感覺</h3><p>Flutter Web 應用程式在 Web 上感覺自然至關重要。這包括諸如捲軸行為、文字功能、啟動畫面、超連結、SEO 和其他 Web 特定的 UI 功能等功能。</p>
<h4 id="RTL-文字"><a href="#RTL-文字" class="headerlink" title="RTL 文字"></a><strong>RTL 文字</strong></h4><p>先前，Flutter 為阿拉伯語和希伯來語等從右到左 (RTL) 語言提供了不完整的 Web 支援。雖然框架本身支援 RTL 文字，但 Web 引擎生成了未定義的行為，因為它忽略了 LTR 和 RTL 之間的區別。</p>
<p>最近的穩定版本 (2.5) 加入基本的 RTL 支援，因此所有主要 RTL 語言的使用案例都可以在 Flutter Web 應用程式中支援和使用。大部分與基本支援相關的問題都已解決，我們計畫修復剩餘的問題。</p>
<ul>
<li><a href="https://github.com/flutter/flutter/issues/32239">為文字編輯實作 RTL 支援</a>（已修復）</li>
<li><a href="https://github.com/flutter/flutter/issues/69396">Web 上的 RTL 文字渲染故障</a>（已修復）</li>
<li><a href="https://github.com/flutter/flutter/issues/78550">具有 TextDirection.rtl 的 TextField，在 Web 上游標位置錯誤</a>（已規劃）</li>
<li><a href="https://github.com/flutter/flutter/issues/82136">RichText 中的 InlineSpans 在 RTL 應用程式中重疊</a>（已修復）</li>
</ul>
<h4 id="捲軸行為"><a href="#捲軸行為" class="headerlink" title="捲軸行為"></a><strong>捲軸行為</strong></h4><p>雖然 Flutter 2 包含 <a href="https://github.com/flutter/flutter/pulls?q=is:pr+is:closed+is:merged+label:%22f:+scrolling%22">多項改進</a> 以支援桌面瀏覽器上的捲軸行為（例如捲軸列支援），但在瀏覽器或執行 Web 應用程式的作業系統上，捲軸行為有時看起來或感覺不對。</p>
<p>雖然其中一些行為取決於 Flutter 桌面支援的工作，但我們計畫在此路線圖中解決一些特定於捲軸物理和捲軸列的問題（如下所列）。我們也計畫調查觸控板支援。</p>
<ul>
<li><a href="https://github.com/flutter/flutter/issues/35687">PageScrollPhysics 有奇怪的行為</a></li>
<li><a href="https://github.com/flutter/flutter/issues/41434">(無限) 列表 Widget 中沒有捲軸列</a></li>
<li><a href="https://github.com/flutter/flutter/issues/85579">Mac 桌面捲軸物理應維持範圍</a></li>
<li><a href="https://github.com/flutter/flutter/issues/13253">讓捲軸列避免遮擋 Sliver 和媒體查詢填充</a></li>
<li><a href="https://github.com/flutter/flutter/issues/87739">MaterialScrollBehavior.buildScrollbar 需要更新</a></li>
</ul>
<p><a href="https://github.com/flutter/flutter/issues/23604">🔍 研究觸控板支援</a></p>
<h4 id="應用程式載入-API"><a href="#應用程式載入-API" class="headerlink" title="應用程式載入 API"></a><strong>應用程式載入 API</strong></h4><p>某些 Web 應用程式在應用程式載入時或提供自訂體驗時，更喜歡顯示啟動畫面、載入指示器或登陸頁面。目前，沒有簡單的方法可以實作自訂體驗或指示 Flutter Web 應用程式正在載入；當使用 CanvasKit 的較大 bundle 大小渲染時，這變得更加重要。</p>
<p>我們在此的工作重點是為您提供應用程式啟動週期的明確 API，該 API 可用於預載應用程式、控制應用程式的載入週期，以及建立啟動畫面或載入指示器。</p>
<ul>
<li><a href="https://github.com/flutter/flutter/issues/48468">為 Web 加入啟動畫面支援</a></li>
</ul>
<h3 id="無障礙性"><a href="#無障礙性" class="headerlink" title="無障礙性"></a>無障礙性</h3><p>無障礙性是我們的首要任務之一；我們的目標是為您提供必要的工具來建立無障礙的 Web 應用程式，這些應用程式可以在最常見的螢幕閱讀器上良好運行。</p>
<p>Flutter 2.2 對無障礙性支援進行了重大改進。從那以後，我們聽到了一些嘗試使用螢幕閱讀器（例如 <a href="https://www.freedomscientific.com/products/software/jaws/">JAWS</a>）瀏覽 Web 應用程式的最終使用者的意見。</p>
<p>在此路線圖中，我們專注於使用 <a href="https://flutter.dev/docs/development/accessibility-and-localization/accessibility#screen-readers">支援的螢幕閱讀器</a>（例如桌面瀏覽器的快顯通知）時出現的問題。我們還將繼續調查改進整體無障礙性支援的方法。</p>
<ul>
<li><a href="https://github.com/flutter/flutter/issues/83812">使用 Enter 鍵時，無法宣布按鈕按下</a></li>
<li><a href="https://github.com/flutter/flutter/issues/83809">方向鍵和 B 鍵不會更新螢幕閱讀器焦點</a></li>
</ul>
<h3 id="效能"><a href="#效能" class="headerlink" title="效能"></a>效能</h3><p>效能是我們始終優先考慮的領域，以改善使用 Flutter Web 應用程式的使用者體驗。目前，我們的重點是改善捲軸卡頓，並加快 Web 應用程式的初始載入速度。</p>
<h4 id="捲軸卡頓"><a href="#捲軸卡頓" class="headerlink" title="捲軸卡頓"></a><strong>捲軸卡頓</strong></h4><p>根據我們最近的季度調查，捲軸卡頓是所報告的頂級效能問題之一。我們的目標是確保 Flutter Web 應用程式可以透過行動設備上的手勢或桌面上的滑鼠&#x2F;鍵盤順暢捲軸，但這也取決於 Web 應用程式期望使用者捲軸瀏覽的內容類型和數量。</p>
<p>在接下來的幾個月裡，我們將主要專注於改善由於圖片解碼引起的卡頓，我們將繼續調查捲軸效能問題，以找出可以改善的其他使用案例。</p>
<ul>
<li><a href="https://github.com/flutter/flutter/issues/63397">將圖片解碼移動到 Web 工作執行緒</a></li>
<li><a href="https://github.com/flutter/flutter/issues/71884">在 CanvasKit 渲染器中降低平台視圖的成本</a></li>
</ul>
<h4 id="捆綁-CanvasKit（離線支援）"><a href="#捆綁-CanvasKit（離線支援）" class="headerlink" title="捆綁 CanvasKit（離線支援）"></a><strong>捆綁 CanvasKit（離線支援）</strong></h4><p>目前，在 CanvasKit 中渲染的 Flutter Web 應用程式需要額外的步驟才能作為漸進式 Web 應用程式 (PWA) 在離線狀態下運行。為了讓應用程式在離線模式下能直接作為 PWA 完整運行，並確保應用程式符合嚴格的內容安全政策，我們需要捆綁 CanvasKit 和字體備份。</p>
<p>我們將首先捆綁 CanvasKit，然後捆綁字體，最後加入必要的工具以啟用離線模式。</p>
<ul>
<li><a href="https://github.com/flutter/flutter/issues/85793">CanvasKit 後端不應依賴於易變的 Google 字體</a></li>
<li><a href="https://github.com/flutter/flutter/issues/70101">支援捆綁 CanvasKit 而不是 CDN</a></li>
</ul>
<h4 id="CanvasKit-下載大小"><a href="#CanvasKit-下載大小" class="headerlink" title="CanvasKit 下載大小"></a><strong>CanvasKit 下載大小</strong></h4><p>CanvasKit 比基於 DOM 的方法具有更好的效能，因此它是在桌面瀏覽器上的預設渲染器。但是，下載應用程式所需的時間會影響初始載入效能（以及在 Web 上運行的 Flutter 應用程式的 Lighthouse 分數）。</p>
<p>在此路線圖中，我們將調查減少 CanvasKit 下載大小的方法，以改善初始載入效能。我們希望確保最終使用者的設備或瀏覽器不會處理過大的負載。</p>
<p><a href="https://github.com/flutter/flutter/issues/89616">🔍 改進 CanvasKit 下載大小</a></p>
<p><a href="https://github.com/flutter/flutter/issues/76248">🔍 尋找合理大小的 emoji 字體備份</a></p>
<h3 id="與-HTML-內容整合"><a href="#與-HTML-內容整合" class="headerlink" title="與 HTML 內容整合"></a>與 HTML 內容整合</h3><p>能夠與瀏覽器程式碼整合對於利用 Web 平台的優勢至關重要。Flutter Web 應用程式有兩種方式可以與 HTML 整合：1) 在 Flutter Web 應用程式中使用 HTML 平台視圖，或 2) 將 Flutter 作為內容島嵌入到現有的 Web 應用程式中（有點像 Web 的加到應用程式）。雖然前者現在存在，可能需要改進，但後者將是一個需要進一步設計和開發的新功能。</p>
<h4 id="使用自訂元素嵌入（加到應用程式）"><a href="#使用自訂元素嵌入（加到應用程式）" class="headerlink" title="使用自訂元素嵌入（加到應用程式）"></a><strong>使用自訂元素嵌入（加到應用程式）</strong></h4><p>目前，將 Flutter Web 應用程式嵌入到現有的網站&#x2F;Web 應用程式中的唯一方式是透過 iframe。雖然這對某些使用案例有效，但對於那些逐漸遷移 Web 應用程式以使用 Flutter 來說並不總是理想的解決方案。</p>
<p>在此路線圖中，我們將調查和設計自訂解決方案，讓您能夠嵌入 Flutter Web 應用程式，類似於加到應用程式的行動情境。</p>
<p><a href="https://github.com/flutter/flutter/issues/32329">🔍 將應用程式渲染到自訂元素中</a></p>
<h3 id="開發者體驗"><a href="#開發者體驗" class="headerlink" title="開發者體驗"></a>開發者體驗</h3><p>Flutter 生態系統包括您在開發中使用的功能，但目前缺乏 Web 支援，例如外掛、除錯、熱重載等等。為了讓您在 Web 上擁有良好的開發者體驗，我們將繼續縮減行動和 Web 之間的差異。</p>
<h4 id="相機外掛"><a href="#相機外掛" class="headerlink" title="相機外掛"></a><strong>相機外掛</strong></h4><p>自初始穩定版本發佈以來，相機外掛一直是最常被要求的外掛之一；許多人發現，當將 Flutter 行動應用程式移植到 Web 時，這種差異是一個障礙。</p>
<p>在 Flutter 2.5 穩定版本中，我們提供了一個 <a href="https://pub.dev/packages/camera_web">外掛</a> 的早期版本，該外掛可以初始化相機、顯示相機預覽並拍照。隨著我們收到回饋，我們將改進此外掛。</p>
<ul>
<li><a href="https://github.com/flutter/flutter/issues/45297">為 Web 加入相機支援</a>（已透過部分待審查的 PR 修復）</li>
</ul>
<h3 id="感謝您！"><a href="#感謝您！" class="headerlink" title="感謝您！"></a>感謝您！</h3><p>雖然這是我們目前 Web 路線圖的概述，但我們的 <a href="https://github.com/flutter/flutter/issues?q=is:open+is:issue+label:platform-web+">GitHub 問題列表</a> 仍然是我們正在進行的工作的真實來源。我們可能會根據我們的學習成果和您的意見來加入、延長或延遲功能。</p>
<p>與往常一樣，我們非常重視您的回饋，並感謝您的支援！</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=e0454bff964" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/flutter-whats-next-on-the-web-e0454bff964">Flutter：Web 上的下一步是什麼？</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/9effe491.html" data-id="cm1ozcxya000qlw177rau2yb1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/developer/" rel="tag">developer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter/" rel="tag">flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter-web/" rel="tag">flutter-web</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/" rel="tag">web</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web-development/" rel="tag">web-development</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2021-09-08T16:56:13.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/aa7c2387.html" class="article-date">
  <time datetime="2021-09-08T08:56:13.000Z" itemprop="datePublished">2021-09-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/aa7c2387.html">【文章翻譯】What’s new in Flutter 2.5</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="Flutter-2-5-的新功能"><a href="#Flutter-2-5-的新功能" class="headerlink" title="Flutter 2.5 的新功能"></a>Flutter 2.5 的新功能</h2><p>您好，歡迎來到 Flutter 2.5！這是一個重大版本，在 Flutter 版本史上擁有第二高的統計數據：來自 252 位貢獻者和 216 位審查者的 4600 個已關閉議題和 3932 個已合併 PR。如果我們回顧過去一年，我們看到 1337 位貢獻者創建了 21,072 個 PR，其中 15,172 個已合併。雖然「Flutter 的新功能」部落格文章重點關注新功能，但我們在 Flutter 中的首要任務始終是確保您擁有所需功能的最高品質水準。</p>
<p>事實上，此版本繼續進行許多重要的效能和工具改進，以追蹤您自己應用程式中的效能問題。同時，還有一些新功能，包括 Android 全螢幕支援、更多 Material You（也稱為 v3）支援、更新的文字編輯以支援可切換的鍵盤快捷鍵、在 Widget Inspector 中更詳細地查看您的 Widget，以及在 Visual Studio Code 專案中新增相依性的新支援，以及在 IntelliJ&#x2F;Android Studio 中從測試執行中獲取覆蓋率資訊的新支援，以及一個全新的應用程式範本，作為您真實世界 Flutter 應用程式的更好基礎。此版本充滿了令人興奮的最新更新，讓我們開始吧。</p>
<h3 id="效能：iOS-著色器預熱、非同步任務、GC-和訊息傳遞"><a href="#效能：iOS-著色器預熱、非同步任務、GC-和訊息傳遞" class="headerlink" title="效能：iOS 著色器預熱、非同步任務、GC 和訊息傳遞"></a>效能：iOS 著色器預熱、非同步任務、GC 和訊息傳遞</h3><p>此版本附帶了一些效能改進。此列表中的第一項是關於從離線訓練執行中建立 Metal 著色器預編譯的 PR (<a href="https://github.com/flutter/engine/pull/25644">#25644</a>)，如我們的基準測試所示，它將最差情況下的影格柵格化時間縮短了 2&#x2F;3，將第 99 個百分位數的影格縮短了一半。我們繼續努力減少 iOS 卡頓，這是在這條道路上的又一步。然而，著色器預熱只是一個卡頓的來源。先前，處理來自網路、檔案系統、外掛或其他隔離區的非同步事件可能會中斷動畫，這是另一個卡頓的來源。在這個版本中，針對 UI 隔離區事件迴圈的排程策略進行了改進 (<a href="https://github.com/flutter/engine/pull/25789">#25789</a>)，現在影格處理優先於處理其他非同步事件，在我們的測試中消除了這種來源的卡頓。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/925/0*4O_Zg7UAwbnGissJ" />
<figcaption><em>處理非同步事件結果之前和之後的影格延遲</em></figcaption>
</figure>

<p>另一個卡頓的原因是，當垃圾收集器 (GC) 暫停 UI 線程以回收記憶體時。先前，一些圖片的記憶體只會在 Dart VM 執行的 GC 響應中被懶惰地回收。作為先前版本中的解決方案，Flutter 引擎將提示 Dart VM，圖片記憶體可以透過 GC 回收，這在理論上可以導致更及時的記憶體回收。不幸的是，在實際中，這導致了過多的主要 GC，有時記憶體仍然無法快速回收，以避免記憶體有限設備上的低記憶體情況。在此版本中，未使用的圖片的記憶體被渴望地回收 (<a href="https://github.com/flutter/engine/pull/26219">#26219</a>，<a href="https://github.com/flutter/flutter/pull/82883">#82883</a>，<a href="https://github.com/flutter/flutter/pull/84740">#84740</a>)，大幅減少 GC。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*OJrGTdsznMa2N0DI" />
<figcaption><em>新增渴望回收未使用的巨大圖片記憶體的修復之前和之後的 GC</em></figcaption>
</figure>

<p>例如，在我們的其中一項測試中，播放 20 秒的動態 GIF 從需要 400 多個 GC 變為只需要 4 個 GC。較少的 GC 表示涉及圖片出現和消失的動畫會有更少的卡頓，並消耗更少的 CPU 和電源。</p>
<p>Flutter 2.5 中的另一個效能改進是 Dart 和 Objective-C&#x2F;Swift (iOS) 或 Dart 和 Java&#x2F;Kotlin (Android) 之間傳送訊息的延遲。作為 <a href="https://docs.google.com/document/d/1oNLxJr_ZqjENVhF94-PqxsGPx0qGXx-pRJxXL6LSagc/edit#heading=h.9gabvat7tlxf">調整訊息通道</a> 的一部分，從訊息編解碼器中移除不必要的複製操作會根據訊息大小和設備減少延遲，最多可達 50% (<a href="https://github.com/flutter/engine/pull/25988">#25988</a>，<a href="https://github.com/flutter/engine/pull/26331">#26331</a>) 。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*TvARS8SsME4sl-Ib" />
<figcaption><em>iOS 訊息延遲，之前和之後</em></figcaption>
</figure>

<p>您可以在 Aaron Clarke 的 <a href="https://medium.com/flutter/improving-platform-channel-performance-in-flutter-e5b4e5df04af">改善 Flutter 中平台通道效能</a> 部落格文章中閱讀有關此工作的更多詳細資訊。</p>
<p>如果您要定位 iOS，則最後一個效能更新是：在此版本中，在 Apple Silicon M1 Mac 上構建的 Flutter 應用程式可在 ARM iOS 模擬器上原生運行 (<a href="https://github.com/flutter/flutter/pull/85642">#pull&#x2F;85642</a>)。這表示在 Intel x86_64 指令與 ARM 之間沒有 Rosetta 轉換，這會提高 iOS 應用程式測試期間的效能，並讓您避免一些細微的 Rosetta 問題 (<a href="https://github.com/flutter/flutter/issues/74970#issuecomment-858170914">#74970</a>，<a href="https://github.com/flutter/flutter/issues/79641">#79641</a>)。這是 Flutter 對 Apple Silicon 的全面支援之路上的又一步。敬請期待更多資訊。</p>
<h3 id="Dart-2-14：格式化、語言功能、預設提供的-pub-和-lint"><a href="#Dart-2-14：格式化、語言功能、預設提供的-pub-和-lint" class="headerlink" title="Dart 2.14：格式化、語言功能、預設提供的 pub 和 lint"></a>Dart 2.14：格式化、語言功能、預設提供的 pub 和 lint</h3><p>當然，沒有 Flutter 語言和運行時，Flutter 就不是 Flutter。此版本 Flutter 附帶了 Dart 2.14。<a href="https://medium.com/@mit.mit/announcing-dart-2-14-b48b9bb2fb67">Dart 的新版本</a> 附帶了新的格式化，使 <a href="https://dart.dev/guides/language/language-tour#cascade-notation">級聯</a> 更加清晰，新的 pub 支援忽略檔案，以及新的語言功能，包括傳奇的三重移位運算子的回歸。此外，Dart 2.14 最棒的功能之一是，此版本創建了一組標準的 lint，在新的 Dart 和 Flutter 專案之間共享，這些 lint 預設提供。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*CNbVsc26rivkp2vI" />
<figcaption><em>`flutter create` 預設提供一個 `analysis_options.yaml` 檔案，其中預先填寫了推薦的 Flutter lint</em></figcaption>
</figure>

<p>您不僅在創建新的 Dart 或 Flutter 專案時會獲得這些 lint，而且透過 <a href="https://flutter.dev/docs/release/breaking-changes/flutter-lints-package#migration-guide">幾個步驟</a>，您也可以將相同的分析添加到現有的應用程式中。有關這些 lint、新的語言功能等的詳細資訊，請查看 <a href="https://medium.com/dartlang/announcing-dart-2-13-c6d547b57067">Dart 2.14 的版本發布公告</a>。</p>
<h3 id="架構：Android-全螢幕、Material-You-和文字編輯快捷鍵"><a href="#架構：Android-全螢幕、Material-You-和文字編輯快捷鍵" class="headerlink" title="架構：Android 全螢幕、Material You 和文字編輯快捷鍵"></a>架構：Android 全螢幕、Material You 和文字編輯快捷鍵</h3><p>Flutter 2.5 版本包含一些對框架的修復和改進。從 <a href="https://github.com/flutter/flutter/pull/81303">Android 開始，我們修復了一組與全螢幕模式相關的問題</a>，這些問題總共獲得了將近 100 個好評。模式本身的名稱使它成為我們最喜歡的新功能之一：<em>放鬆、粘性、粘性沉浸式和邊到邊</em>。此更改還添加了一種方法，可以在其他模式下監聽全螢幕更改。例如，如果使用者與應用程式互動，當系統 UI 回來時，開發人員現在可以編寫程式碼以返回全螢幕或執行其他操作。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/960/0*-5pu9nXQw88jixos" />
<figcaption><em>新的 Android 邊到邊模式：常規模式（左）、邊到邊模式（中間）、具有自訂 SystemUIOverlayStyle 的邊到邊模式（右）</em></figcaption>
</figure>

<p>在此版本中，我們繼續為新的 Material You（也稱為 v3）規範構建支援，包括對浮動動作按鈕大小和主題的更新 (<a href="https://github.com/flutter/flutter/pull/86441">#86441</a>)，以及一個新的 MaterialState.scrolledUnder 狀態，您可以在 PR 中的範例程式碼中看到 (<a href="https://github.com/flutter/flutter/pull/79999">#79999</a>)。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/382/0*7ivd_3xtI3uaZ4nO" />
<figcaption><em>新的 Material You FAB 大小</em></figcaption>
</figure>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*uTH_ZL2MFJSlPvhuZ81o5A.gif" />
<figcaption><em>新的 MaterialState.scrolledUnder 狀態在動作中</em></figcaption>
</figure>

<p>在談到捲軸時，另一個改進是添加了捲軸指標通知 (<a href="https://github.com/flutter/flutter/pull/85221">#85221</a>，<a href="https://github.com/flutter/flutter/pull/85499">#85499</a>)，即使使用者沒有捲軸，它也會提供可捲軸區域的通知。例如，以下顯示了根據 <code>ListView</code> 的底層大小顯示或隱藏捲軸條：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/992/0*11VHtSVUTukATeQN" />
<figcaption><em>新的捲軸指標通知，讓捲軸條可以在沒有捲軸的情況下自動顯示和隱藏</em></figcaption>
</figure>

<p>在這種情况下，您不需要编写任何代码，但如果您想要捕获 <a href="https://master-api.flutter.dev/flutter/widgets/ScrollMetricsNotification-class.html">ScrollMetricNotification</a> 变化，您可以这样做。特别感谢社区贡献者 <a href="https://github.com/xu-baolin">xu-baolin</a>，他为这部分工作付出了很多努力，并想出了一个很棒的解决方案。</p>
<p>社区的另一个优秀贡献是在 ScaffoldMessenger 中添加了 Material 横幅支持。您可能还记得 ScaffoldMessenger 来自 <a href="https://medium.com/flutter/whats-new-in-flutter-2-0-fe8e95ecc65">Flutter 2.0 版本发布公告</a>，它是一种更健壮的方式，可以在屏幕底部显示 SnackBars 以向用户提供通知。在 Flutter 2.5 中，您现在可以在支架的顶部添加横幅，它会一直保持直到用户将其关闭。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/852/0*WnLtflm5SF1I9GxK" />
</figure>

<p>您的应用程序可以通过调用 ScaffoldMessenger 的 showMaterialBanner 方法来获得此行为：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/56ddfca5460187fd609f019496f1052e/href">https://medium.com/media/56ddfca5460187fd609f019496f1052e/href</a></iframe>

<p><a href="https://material.io/components/banners#usage">横幅的 Material 指南</a> 指出您的应用程序应该一次只显示一个，因此如果您的应用程序多次调用 showMaterialBanner，ScaffoldMessenger 将维护一个队列，并在前一个横幅关闭时显示每个新的横幅。感谢 <a href="https://github.com/Calamity210">Calamity210</a> 为 Flutter 中的 Material 支持添加了这个很棒的功能！</p>
<p>在 Flutter 2.0 及其新的文字编辑功能（如文字选择枢轴点以及在处理键盘事件后能够停止其传播）的基础上，在此版本中，我们添加了使文字编辑键盘快捷键可覆盖 (<a href="https://github.com/flutter/flutter/pull/85381">#85381</a>) 的功能。如果您希望 <strong>Ctrl-A</strong> 执行自定义操作而不是选择所有文字，您可以执行此操作。<a href="https://github.com/flutter/flutter/blob/b524270af147847f64fa296cf6eed3633ffe683d/packages/flutter/lib/src/widgets/default_text_editing_shortcuts.dart#L163">DefaultTextEditingShortcuts</a> 类包含 Flutter 在每个平台上支持的每个键盘快捷键的列表。如果您想覆盖任何内容，请使用 Flutter 现有的 <a href="https://api.flutter.dev/flutter/widgets/Shortcuts-class.html">Shortcuts</a> Widget 将任何快捷键重新映射到现有的或自定义意图。您可以在想要应用覆盖的 Widget 树中的任何位置放置该 Widget。在 <a href="https://api.flutter.dev/flutter/widgets/DefaultTextEditingShortcuts-class.html">API 参考</a> 中查看一些示例。</p>
<h3 id="外掛：相機、圖片選取器和-Plus-外掛"><a href="#外掛：相機、圖片選取器和-Plus-外掛" class="headerlink" title="外掛：相機、圖片選取器和 Plus 外掛"></a>外掛：相機、圖片選取器和 Plus 外掛</h3><p>另一個已進行大量改進的外掛是 <a href="https://pub.dev/packages/camera">相機外掛</a>：</p>
<ul>
<li><a href="https://github.com/flutter/plugins/pull/3795">3795</a> [camera] android-rework part 1: 支持 Android 相机功能的基础类</li>
<li><a href="https://github.com/flutter/plugins/pull/3796">3796</a> [camera] android-rework part 2: Android 自动对焦功能</li>
<li><a href="https://github.com/flutter/plugins/pull/3797">3797</a> [camera] android-rework part 3: Android 与曝光相关的功能</li>
<li><a href="https://github.com/flutter/plugins/pull/3798">3798</a> [camera] android-rework part 4: Android 闪光灯和缩放功能</li>
<li><a href="https://github.com/flutter/plugins/pull/3799">3799</a> [camera] android-rework part 5: Android FPS 范围、分辨率和传感器方向功能</li>
<li><a href="https://github.com/flutter/plugins/pull/4039">4039</a> [camera] android-rework part 6: Android 曝光和对焦点功能</li>
<li><a href="https://github.com/flutter/plugins/pull/4052">4052</a> [camera] android-rework part 7: Android 降噪功能</li>
<li><a href="https://github.com/flutter/plugins/pull/4054">4054</a> [camera] android-rework part 8: 支持最终实现的模块</li>
<li><a href="https://github.com/flutter/plugins/pull/4010">4010</a> [camera] 不要在 iOS 上触发平坦的设备方向</li>
<li><a href="https://github.com/flutter/plugins/pull/4158">4158</a> [camera] 修复在 iOS 上设置对焦和曝光点的坐标旋转</li>
<li><a href="https://github.com/flutter/plugins/pull/4197">4197</a> [camera] 修复相机预览不始终在方向改变时重建</li>
<li><a href="https://github.com/flutter/plugins/pull/3992">3992</a> [camera] 阻止在设置不支持的对焦模式时崩溃</li>
<li><a href="https://github.com/flutter/plugins/pull/4151">4151</a> [camera] 引入 camera_web 包</li>
</ul>
<p><a href="https://pub.dev/packages/image_picker">image_picker 外掛</a> 也進行了很多工作，重點關注端到端的相機體驗：</p>
<ul>
<li><a href="https://github.com/flutter/plugins/pull/3898">3898</a> [image_picker] 图片选择器修复相机设备</li>
<li><a href="https://github.com/flutter/plugins/pull/3956">3956</a> [image_picker] 更改 Android 上相机捕获的存储位置为内部缓存，以符合新的 Google Play 存储要求</li>
<li><a href="https://github.com/flutter/plugins/pull/4001">4001</a> [image_picker] 删除对相机权限的冗余请求</li>
<li><a href="https://github.com/flutter/plugins/pull/4019">4019</a> [image_picker] 修复相机作为来源时的旋转</li>
</ul>
<p>这项工作改进了相机和 image_picker 外掛在 Android 上的功能和稳健性。此外，您会注意到 <a href="https://pub.dev/packages/camera_web">camera 外掛</a> 的早期版本已提供，其中包含 Web 支援 (<a href="https://github.com/flutter/plugins/pull/4151">#4151</a>)。此預覽版為在 Web 上查看相机预览、拍照、使用闪光灯和缩放控件提供了基本支持。它目前不是 <a href="https://flutter.dev/docs/development/packages-and-plugins/developing-packages#endorsed-federated-plugin">认可外掛</a>，因此您需要 <a href="https://pub.dev/packages/camera_web/install">显式地添加它</a> 才能在您的 Web 應用程式中使用。</p>
<p>最初的 Android 相機重寫工作是由 <a href="https://github.com/acoutts">acoutts</a> 貢獻的。相机和 image_picker 的工作由 <a href="https://www.baseflow.com/open-source/flutter">Baseflow</a> 完成，Baseflow 是一家专门从事 Flutter 的咨询公司，以 <a href="https://pub.dev/publishers/baseflow.com/packages">他们在 pub.dev 上的自己的包</a> 而闻名。camera_web 的工作主要由 <a href="https://verygood.ventures/">Very Good Ventures</a> 完成，这是一家位于美国的 Flutter 咨询公司。非常感谢大家对 Flutter 社区的贡献！</p>
<p>Flutter 社区组织的另一个宝贵社区贡献是 <a href="https://plus.fluttercommunity.dev/">“Plus” 外掛</a>。在这个 Flutter 版本中，Flutter 团队的每个对应外掛现在都带有类似于 <a href="https://pub.dev/packages/battery">battery</a> 的推荐：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*rvrCGEZ-vkRxga-n" />
</figure>

<p>此外，由于这些外掛不再积极维护，因此不再将其标记为 Flutter 收藏外掛。如果您还没这样做，我们建议您迁移到以下外掛的 Plus 版本：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*YX-xNXUTKnNuZNBAmt7CAQ.png" />
</figure>

<h3 id="Flutter-DevTools：效能、Widget-Inspector-和潤色"><a href="#Flutter-DevTools：效能、Widget-Inspector-和潤色" class="headerlink" title="Flutter DevTools：效能、Widget Inspector 和潤色"></a>Flutter DevTools：效能、Widget Inspector 和潤色</h3><p>此版本的 Flutter 附帶了一些對 Flutter DevTools 的改進。最重要的是，DevTools 中添加了支援，以利用引擎更新 (<a href="https://github.com/flutter/engine/pull/26205">#26205</a>，<a href="https://github.com/flutter/engine/pull/26233">#26233</a>，<a href="https://github.com/flutter/engine/pull/26237">#26237</a>，<a href="https://github.com/flutter/engine/pull/26970">#26970</a>，<a href="https://github.com/flutter/engine/pull/27074">#27074</a>，<a href="https://github.com/flutter/engine/pull/26617">#26617</a>)。這些更新中的一組使 Flutter 能夠更好地將追蹤事件與特定影格關聯起來，這有助於開發者確定影格超支的原因。您可以在 DevTools 影格圖表中看到這一點，該圖表已重建為「實時」的；影格會在您的應用程式中渲染時在該圖表中填充。從該圖表中選擇一個影格將導航到該影格的時間軸事件：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*8evmW5s37nGUIc98" />
</figure>

<p>Flutter 引擎現在還會在時間軸中識別著色器編譯事件。Flutter DevTools 使用這些事件來幫助您診斷應用程式中的著色器編譯卡頓。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*esYsdKzKL64130ln" />
<figcaption>DevTools 檢測到由於著色器編譯而丟失的影格</figcaption>
</figure>

<p>有了這個新功能，DevTools 可以檢測到您是否由於著色器編譯而丟失了影格，以便您可以修復問題。要像第一次一樣運行您的應用程式（在您的著色器快取填充之前，就像它對任何使用者一樣），請使用 <code>flutter run</code> 和 <code>--purge-persistent-cache</code> 標誌。這將清除快取，以確保您正在重現使用者在「首次運行」或「重新打開」（iOS）體驗時看到的環境。此功能仍在開發中，因此請 <a href="https://b.corp.google.com/issues/new?component=775375&amp;template=1369639">提交議題</a> 報告您遇到的問題，或報告我們可以做出的任何改進，以幫助除錯著色器編譯卡頓。</p>
<p>此外，當您在應用程式中追蹤 CPU 效能問題時，您可能會被來自 Dart 和 Flutter 函式庫以及引擎的原生程式碼的分析資料淹沒。如果您想關閉這些資料中的任何資料以專注於您自己的程式碼，可以使用新的 CPU 分析工具 (<a href="https://github.com/flutter/devtools/pull/3236">#3236</a>)，它讓您能夠隱藏來自這些來源的分析資訊。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*IzjrKssfjooCGzKm" />
</figure>

<p>對於您沒有過濾掉的任何類別，它們現在都已使用顏色編碼 (<a href="https://github.com/flutter/devtools/pull/3310">#3310</a>，<a href="https://github.com/flutter/devtools/pull/3324">#3324</a>)，這樣您就可以輕鬆地看到 CPU 影格圖表中的哪些部分來自系統的哪些部分。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*ewigNSGco1ozScc0" />
<figcaption>彩色影格圖表，用於識別應用程式與原生、Dart 與 Flutter 程式碼活動</figcaption>
</figure>

<p>效能不是您要除錯的唯一事項。此版本的 DevTools 附帶了對 Widget Inspector 的更新，它讓您可以在 Widget 上懸停以評估物件、查看屬性、Widget 狀態等。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/469/0*cLXjl-F3Vj0bFkKg" />
</figure>

<p>而且，當您選取一個 Widget 時，它會自動填充到新的 Widget Inspector 主控台中，您可以在其中探索 Widget 的屬性。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1022/0*l8XoqqLcz6W0CkRE" />
</figure>

<p>在斷點處暫停時，您也可以從主控台中評估運算式。</p>
<p>除了新功能外，Widget Inspector 也經過了改頭換面。為了使 DevTools 成為一個更有用的目的地，用於了解和除錯您的 Flutter 應用程式，我們與位於芬蘭的創意科技公司 <a href="https://codemate.com/">Codemate</a> 合作，進行了一些更新。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*iN9uTsyfsUOt8cTw" />
<figcaption>Flutter DevTools 經過潤色的 UX，更易於使用</figcaption>
</figure>

<p>在此螢幕截圖中，您可以看到以下更改：</p>
<ul>
<li><strong>更好地傳達除錯切換按鈕的作用</strong> - 這些按鈕有新的圖示、以任務為導向的標籤，以及描述其作用和何時使用它們的豐富工具提示。每個工具提示都會進一步鏈接到功能的詳細文件。</li>
<li><strong>更容易扫描和定位感兴趣的 widget</strong> - Flutter 框架中常用的 widget 现在会在 Inspector 左侧的 widget 树视图中显示图标。它们还会根据其类别进行颜色编码。例如，布局 widget 将以蓝色显示，而内容 widget 将以绿色显示。此外，每个 Text widget 现在都会显示其内容的预览。</li>
<li><strong>将布局资源浏览器和 widget 树的颜色方案对齐</strong> - 现在更容易从布局资源浏览器和 widget 树中识别同一个 widget。例如，以下屏幕截图中的“Column” widget 在布局资源浏览器中以蓝色背景显示，而在 widget 树视图中则以蓝色图标显示。</li>
</ul>
<p>我們很樂意 <a href="https://github.com/flutter/devtools/issues">聽取您有關這些更新產生的任何問題的意見回饋</a>，以及我們可以做的任何其他改進，以確保 DevTools 運作良好。這些重點只是開始。若要完整列出此版本 Flutter 中 DevTools 的新增功能，請查看版本發布公告：</p>
<ul>
<li><a href="https://groups.google.com/g/flutter-announce/c/LSNbc2rKIjQ/m/7Y7cWgO2CQAJ">Flutter DevTools 2.3.2 版本發布公告</a></li>
<li><a href="https://groups.google.com/g/flutter-announce/c/qenYe5LuHb8/m/tkWcBCVaAQAJ">Flutter DevTools 2.4.0 版本發布公告</a></li>
<li><a href="https://groups.google.com/g/flutter-announce/c/yBEZOWdV9nc/m/KCX3m2BpCAAJ">Flutter DevTools 2.6.0 版本發布公告</a></li>
</ul>
<h3 id="IntelliJ-Android-Studio：整合測試、測試覆蓋率和圖示預覽"><a href="#IntelliJ-Android-Studio：整合測試、測試覆蓋率和圖示預覽" class="headerlink" title="IntelliJ&#x2F;Android Studio：整合測試、測試覆蓋率和圖示預覽"></a>IntelliJ&#x2F;Android Studio：整合測試、測試覆蓋率和圖示預覽</h3><p>Flutter 的 IntelliJ&#x2F;Android Studio 外掛在此版本中也進行了一些改進，首先是能夠運行整合測試 (<a href="https://github.com/flutter/flutter-intellij/pull/5459">#5459</a>)。整合測試是整個應用程式測試，在設備上運行，位於 <code>integration_test</code> 目錄中，並使用與 Widget 單元測試中相同的 <code>testWidgets()</code> 功能。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*kTKO_OcWee8OS0Lo" />
<figcaption>在 IntelliJ/Android Studio 中整合測試您的 Flutter 應用程式</figcaption>
</figure>

<p>若要將整合測試添加到您的專案，請 <a href="https://flutter.dev/docs/testing/integration-tests">按照 flutter.dev 上的說明操作</a>。若要將測試與 IntelliJ 或 Android Studio 連接，請添加一個運行配置，該配置啟動整合測試，並連接一個設備供測試使用。運行配置允許您運行測試，包括設置斷點、單步執行等。</p>
<p>此外，Flutter 的最新 IJ&#x2F;AS 外掛讓您能夠查看單元測試和整合測試運行的覆蓋率資訊。您可以從工具列按鈕中存取它，該按鈕位於「除錯」按鈕旁邊：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/554/0*vxdeNoUw3boFaeFu" />
</figure>

<p>覆蓋率資訊使用編輯器邊緣的紅色和綠色條顯示。在此示例中，第 9-13 行已測試，但第 3 和 4 行未測試。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/980/0*G5M8qrjxw3gyeT7a" />
</figure>

<p>最新版本還包括能夠預覽從 pub.dev 建立的基於 TrueType 字體檔案的包中使用的圖示 (<a href="https://github.com/flutter/flutter-intellij/pull/5504">#5504</a>，<a href="https://github.com/flutter/flutter-intellij/pull/5595">#5595</a>，<a href="https://github.com/flutter/flutter-intellij/pull/5677">#5677</a>，<a href="https://github.com/flutter/flutter-intellij/pull/5704">#5704</a>)，就像 Material 和 Cupertino 圖示支持預覽一樣。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*TK2px5OYQ_ggn2jx" />
<figcaption>IntelliJ/Android Studio 中的圖示預覽</figcaption>
</figure>

<p>若要啟用圖示預覽，您需要告訴外掛您正在使用哪些包。外掛設定&#x2F;偏好設定頁面中有一個新的文字欄位：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*GTrbuGlv9G-YPvOi" />
</figure>

<p>請注意，這適用於在類別中定義為靜態常數的圖示，如螢幕截圖中的範例程式碼所示。它不適用於運算式，例如 <code>LineIcons.addressBook()</code> 或 <code>LineIcons.values[&#39;code&#39;]</code>。如果您是未支援此功能的圖示包的作者，請創建一個 <a href="https://github.com/flutter/flutter-intellij/issues">議題</a>。</p>
<p>有關 Flutter 的 IntelliJ&#x2F;Android Studio 外掛的更多更新資訊，請查看版本發布公告：</p>
<ul>
<li><a href="https://groups.google.com/g/flutter-announce/c/nZPj0uIW3h4/m/2Xnx8KQtAwAJ">Flutter IntelliJ Plugin M57 版本發布</a></li>
<li><a href="https://groups.google.com/g/flutter-announce/c/WJUH0m6cu-U/m/_n0RltLFAAAJ">Flutter IntelliJ Plugin M58 版本發布</a></li>
<li><a href="https://groups.google.com/g/flutter-announce/c/CNzqxtybpBA/m/nSu7QabMAQAJ">Flutter IntelliJ Plugin M59 版本發布</a></li>
<li><a href="https://groups.google.com/g/flutter-announce/c/qc40yulxvAg/m/B_1HuGmoBQAJ">Flutter IntelliJ Plugin M60 版本發布</a></li>
</ul>
<h3 id="Visual-Studio-Code：相依性、修復全部和測試執行器"><a href="#Visual-Studio-Code：相依性、修復全部和測試執行器" class="headerlink" title="Visual Studio Code：相依性、修復全部和測試執行器"></a>Visual Studio Code：相依性、修復全部和測試執行器</h3><p>Flutter 的 Visual Studio Code 外掛也在此版本中得到了改進，首先是兩個新的命令「Dart: Add Dependency」和「Dart: Add Dev Dependency」 (<a href="https://github.com/Dart-Code/Dart-Code/issues/3306">#3306</a>，<a href="https://github.com/Dart-Code/Dart-Code/issues/3474">#3474</a>)。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/662/0*S8Nl6GbXHBHV64Rr" />
<figcaption>在 Visual Studio Code 中添加 Dart 相依性</figcaption>
</figure>

<p>這些命令提供了類似於 <a href="https://marketplace.visualstudio.com/items?itemName=jeroen-meijer.pubspec-assist">Jeroen Meijer 的 Pubspec Assist 外掛</a> 一段時間以來提供的功能。這些新的命令預設提供，並提供一個從 pub.dev 定期獲取的包類型以過濾的列表。</p>
<p>您可能還會對「Fix All」命令感興趣 (<a href="https://github.com/Dart-Code/Dart-Code/issues/3445">#3445</a>，<a href="https://github.com/Dart-Code/Dart-Code/issues/3469">#3469</a>)，該命令可用于 Dart 檔案，並可以修復與 <a href="https://dart.dev/tools/dart-fix">dart fix</a> 相同的所有問題，以一步驟修復當前打開的檔案。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/526/0*dzvJ63ojTXw-Grsu" />
<figcaption>使用 Flutter Fix 規則修復程式碼中所有已知的問題</figcaption>
</figure>

<p>這也可以通過將 <code>source.fixAll</code> 添加到 <code>editor.codeActionsOnSave</code> VS Code 设置来设置为在保存时运行。</p>
<p>或者，如果您想尝试预览功能，可以启用 <code>dart.previewVsCodeTestRunner</code> 设置，并查看使用新的 Visual Studio Code 測試執行器運行的 Dart 和 Flutter</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/aa7c2387.html" data-id="cm1orxykw004xj9173dxw5usd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/announcements/" rel="tag">announcements</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/devtools/" rel="tag">devtools</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter/" rel="tag">flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter-app-development/" rel="tag">flutter-app-development</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/material-you/" rel="tag">material-you</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2021-09-01T00:29:04.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/ef11ad01.html" class="article-date">
  <time datetime="2021-08-31T16:29:04.000Z" itemprop="datePublished">2021-09-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/ef11ad01.html">【文章翻譯】Raster thread performance optimization tips</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="柵格執行緒效能優化技巧"><a href="#柵格執行緒效能優化技巧" class="headerlink" title="柵格執行緒效能優化技巧"></a>柵格執行緒效能優化技巧</h2><p>最近，我坐下來調整 FlutterFolio 的效能，這個應用程式是作為 Flutter Engage 的設計展示而建立的。只改變了一處，我就讓 FlutterFolio 變得快了很多。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*16rv_KQNNU3IsAHCfI3G6A.png" />
</figure>

<p>不過，首先，我必須找出要改什麼。這篇文章就是關於這個搜尋的。</p>
<p>FlutterFolio 是一個功能完整的應用程式，從設計到實作，花了 6 個星期 (!) 時間完成，支援行動裝置、桌面和網頁。開發團隊顯然必須做一些妥協 - 沒有任何批評。專案的範圍和非常短的時程迫使他們這樣做。</p>
<iframe src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2Fx4xZkdlADWo%3Ffeature%3Doembed&amp;display_name=YouTube&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3Dx4xZkdlADWo&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2Fx4xZkdlADWo%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube" width="854" height="480" frameborder="0" scrolling="no"><a href="https://medium.com/media/7c22b91a90a681b78e65ebfbd4728965/href">https://medium.com/media/7c22b91a90a681b78e65ebfbd4728965/href</a></iframe>

<p>事實上，這是一個絕佳的機會，因為這個應用程式比我想到的所有範例應用程式都更加「真實」。</p>
<p>而且，效能優化在真實應用程式上比在合成問題上更好解釋。</p>
<h3 id="第-1-步：效能分析"><a href="#第-1-步：效能分析" class="headerlink" title="第 1 步：效能分析"></a>第 1 步：效能分析</h3><p>任何優化的第一步是什麼？量測。知道一個應用程式看起來很慢是不夠的。你需要更精確一點。兩個原因：</p>
<ol>
<li>量測可以將我們引導到最糟糕的肇事者。任何應用程式的每個部分都可以變得更快、更有效率。但是，你必須從某個地方開始。效能分析讓我們看到哪些部分做得還可以，哪些部分做得不好。然後，我們可以專注於做得不好的部分，並在有限的時間內取得更大的進展。</li>
<li>我們可以比較前後。有時，程式碼變更看起來像是個好主意，但實際上，它並沒有產生顯著的差異。有了基準（之前）就表示我們可以量化變更的影響。我們可以將之前與之後進行比較。</li>
</ol>
<p>應用程式的效能分析很困難。我在 2019 年寫了一篇關於這方面的 <a href="https://medium.com/flutter/performance-testing-of-flutter-apps-df7669bb7df7">長篇文章</a>。所以，讓我們從簡單的開始。我們在 profile 模式下執行應用程式，開啟效能覆蓋圖，並使用應用程式，同時觀察效能覆蓋圖的圖表。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/800/0*H6YKXQ1-ToTZ50v2" />
</figure>

<p>我們立即看到柵格執行緒正在努力。</p>
<p>這尤其發生在捲軸瀏覽應用程式的主頁時。您應該始終優先考慮使用者花費大部分時間的部分或效能問題對使用者特別明顯的部分。換句話說，如果您有兩個效能問題，其中一個發生在開始畫面，另一個埋藏在設定頁面中，請先修復開始畫面。</p>
<p>讓我們看看柵格執行緒在做什麼。</p>
<h3 id="旁白：UI-執行緒-vs-柵格執行緒"><a href="#旁白：UI-執行緒-vs-柵格執行緒" class="headerlink" title="旁白：UI 執行緒 vs. 柵格執行緒"></a>旁白：UI 執行緒 vs. 柵格執行緒</h3><p>其實，讓我們先澄清柵格執行緒做什麼。</p>
<p>所有 Flutter 應用程式都在至少兩個並行執行緒上運行：UI 執行緒和柵格執行緒。UI 執行緒是您建立 Widget 和應用程式邏輯運行的地方。（您可以建立隔離區，這表示您可以在其他執行緒上運行邏輯，但為了簡單起見，我們將忽略這一點。）柵格執行緒是 Flutter 用來 <em>柵格化</em> 您的應用程式的方式。它接收來自 UI 執行緒的指令，並將它們轉換成可以傳送到圖形卡的東西。</p>
<p>為了更具體，讓我們看看一個 build 函數：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  <span class="keyword">return</span> Image.asset(<span class="string">&#x27;dash.png&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的程式碼在 UI 執行緒上運行。Flutter 架構找出要放置 Widget 的位置、要給它什麼尺寸，等等 - 仍然在 UI 執行緒上。</p>
<p>然後，在 Flutter 知道有關畫面的所有資訊之後，它就會交給柵格執行緒。柵格執行緒會取得 <code>dash.png</code> 中的位元組，調整圖片的大小（如果需要），然後應用不透明度、混合模式、模糊等等，直到它取得最終的像素。然後，柵格執行緒將得到的資訊傳送到圖形卡，因此也傳送到螢幕。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/497/0*zJIzYT-PwDfPDcj3" />
</figure>

<h3 id="第-2-步：深入時間軸"><a href="#第-2-步：深入時間軸" class="headerlink" title="第 2 步：深入時間軸"></a>第 2 步：深入時間軸</h3><p>好的，回到 FlutterFolio。開啟 Flutter DevTools 讓我們可以更仔細地查看時間軸。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*ypQsScjnj0Mw5Ijg" />
</figure>

<p>在 <strong>效能</strong> 標籤中，您可以看到 UI 執行緒（淡藍色條）做得很好，而柵格執行緒（深藍色和紅色條）在每個畫面中花費了令人驚訝的時間，特別是在捲軸向下瀏覽主頁時。因此，問題不在於低效的 build 方法或商業邏輯。問題是要求柵格執行緒做太多事。</p>
<p>事實上，<em>每個畫面</em> 都花費了很長時間在柵格執行緒上，這告訴了我們一些事情。它表示我們要求柵格執行緒做一些工作 <em>一次又一次</em> - 它不是偶爾做一次的事情。</p>
<p>讓我們選擇一個畫面，看看 <strong>時間軸事件</strong> 面板。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*W7OF2hEK--gS5XwF" />
</figure>

<p>時間軸的頂部，帶有淺灰色背景，是 UI 執行緒。再次，您可以看到 UI 執行緒不是問題。</p>
<p>在 UI 執行緒下方，您可以看到柵格執行緒上的事件，從 GPURasterizer:Draw 開始。不幸的是，這就是事情變得有點模糊的地方。有許多對異國情調名稱方法的呼叫，例如 TransformLayer::Preroll、OpacityLayer::Preroll、PhysicalShapeLayer::Paint 等等。沒有關於這些方法中發生了什麼事情的詳細資訊，而且這些不是大多數 Flutter 開發人員認識的名稱。</p>
<p>它們是來自 Flutter 引擎的 C++ 方法。如果您想，您可以 <a href="https://www.google.com/search?q=PhysicalShapeLayer::Paint">搜尋</a> 這些方法名稱，閱讀程式碼和註解，看看幕後發生了什麼。有時，這可以讓您對柵格執行緒在做什麼有更多直覺。但是，這種研究對於找出效能問題來說並不嚴格需要。（我直到相對最近才做過這種研究，但仍然能夠優化許多應用程式的效能。）</p>
<p>然後，有一個標記為 SkCanvas::Flush 的長事件。它花了 18 毫秒，遠遠超過合理範圍。不幸的是，該事件也沒有任何詳細資訊，因此我們需要做一點偵探工作。</p>
<p>SkCanvas 中的 Sk 代表 <a href="https://skia.org/">Skia</a>，這是 Flutter 用於在其堆疊最底層進行渲染的圖形引擎。<a href="https://api.skia.org/classSkCanvas.html">SkCanvas</a> 是一個低階 C++ 類別，類似於 Flutter 自己 的 <a href="https://api.flutter.dev/flutter/dart-ui/Canvas-class.html">Canvas</a>（如果您使用 <a href="https://api.flutter.dev/flutter/widgets/CustomPaint-class.html">CustomPaint</a>，您可能已經熟悉它）。您應用程式的所有像素、線條、漸變 - 所有 UI - 都會經過 SkCanvas。而且，SkCanvas::Flush 是這個類別在收集到所有需要的資訊後進行大部分工作的地方。文件 <a href="https://api.skia.org/classSkCanvas.html#a3f8ea661c6021dc4dde325aab87870bf">指出</a> Flush 方法「解決所有未決的 GPU 作業」。</p>
<p>讓我們回顧一下我們從效能時間軸中学到的东西：</p>
<ul>
<li>柵格執行緒是主要問題。UI 執行緒做得相對良好。</li>
<li>在捲軸時，柵格執行緒在 <em>每個畫面</em> 中花費了很長時間。一些昂貴的柵格化工作一直在進行。</li>
<li><code>SkCanvas::Flush</code> 花費了很長時間，這表示 Skia 正在做很多功課。</li>
</ul>
<p>我們 <em>不知道</em> 那個功課是什麼。讓我們回顧一下程式碼。</p>
<h3 id="第-3-步：閱讀程式碼"><a href="#第-3-步：閱讀程式碼" class="headerlink" title="第 3 步：閱讀程式碼"></a>第 3 步：閱讀程式碼</h3><p>有了知識，讓我們看看原始碼。如果程式碼不熟悉（就像我對 FlutterFolio 的情況一樣），最好從 profile 模式切換到 debug 模式，並使用 <a href="https://flutter.dev/docs/development/tools/devtools/inspector">Flutter Inspector</a> 跳轉到相關 Widget 的原始碼。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/800/0*OvXs3e-CZJzW49hA" />
</figure>

<p>FlutterFolio 的主頁，至少在行動裝置上，似乎基本上是一個由 <a href="https://github.com/gskinnerTeam/flutter-folio/blob/2bb2101c14ee3f30e11f966e9ce6c50dee600c0b/lib/views/home_page/covers_flow_list_mobile.dart#L36-L40">BookCoverWidgets</a> 填充的垂直 <a href="https://github.com/gskinnerTeam/flutter-folio/blob/2bb2101c14ee3f30e11f966e9ce6c50dee600c0b/lib/views/home_page/covers_flow_list_mobile.dart#L36-L40">PageView</a>。查看 BookCoverWidget，您可以看到它本質上是一個 <a href="https://github.com/gskinnerTeam/flutter-folio/blob/2bb2101c14ee3f30e11f966e9ce6c50dee600c0b/lib/views/home_page/book_cover/book_cover.dart#L77-L122">各種 Widget 的堆疊</a>，從底部的大型圖片開始，繼續是一些動畫覆蓋層、主要文字內容，最後是頂部的滑鼠懸停覆蓋層。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">child: Stack(fit: StackFit.expand, children: [</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">/////////////////////////////<span class="language-xml"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span></span></span></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">背景圖片</span></span></span><br><span class="line">  <span class="comment">// 當我們滑鼠懸停時，動畫縮放</span></span><br><span class="line">  AnimatedScale(</span><br><span class="line">    duration: Times.slow,</span><br><span class="line">    begin: <span class="number">1</span>,</span><br><span class="line">    end: isClickable ? <span class="number">1.1</span> : <span class="number">1</span>,</span><br><span class="line">    child: BookCoverImage(widget.data),</span><br><span class="line">  ),</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">黑色覆蓋層，在滑鼠懸停時淡出</span></span></span><br><span class="line">  AnimatedContainer(duration: Times.slow, </span><br><span class="line">     color: Colors.black.withOpacity(overlayOpacity)),</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">當處於大型模式時，顯示一些漸變，</span></span></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">應該位於文字元素下方</span></span></span><br><span class="line">  <span class="keyword">if</span> (widget.largeMode) ...[</span><br><span class="line">    FadeInLeft(</span><br><span class="line">      duration: Times.slower,</span><br><span class="line">      child: _SideGradient(Colors.black),</span><br><span class="line">    ),</span><br><span class="line">    FadeInUp(child: _BottomGradientLg(Colors.black))</span><br><span class="line">  ] <span class="keyword">else</span> ...[</span><br><span class="line">    FadeInUp(child: _BottomGradientSm(Colors.black)),</span><br><span class="line">  ],</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">放在文字內容下方，點擊時取消焦點。</span></span></span><br><span class="line">  GestureDetector(behavior: HitTestBehavior.translucent, </span><br><span class="line">      onTap: InputUtils.unFocus),</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">BookContent，顯示大型封面或小型封面</span></span></span><br><span class="line">  Align(</span><br><span class="line">    alignment: widget.topTitle ? Alignment.topLeft : Alignment.bottomLeft,</span><br><span class="line">    <span class="comment">// 根據我們處於哪種模式，對填補進行動畫轉場</span></span><br><span class="line">    child: AnimatedContainer(</span><br><span class="line">      duration: Times.slow,</span><br><span class="line">      padding: EdgeInsets.all(widget.largeMode ? Insets.offset : Insets.sm),</span><br><span class="line">      child: (widget.largeMode)</span><br><span class="line">          ? LargeBookCover(widget.data)</span><br><span class="line">          : SmallBookCover(widget.data, topTitle: widget.topTitle),</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br><span class="line"></span><br><span class="line"><span class="comment">/// <span class="language-markdown">滑鼠懸停效果</span></span></span><br><span class="line">  <span class="keyword">if</span> (isClickable) ...[</span><br><span class="line">    Positioned.fill(child: FadeIn(child: RoundedBorder(color: theme.accent1, ignorePointer: <span class="keyword">false</span>))),</span><br><span class="line">  ],</span><br><span class="line">]),</span><br></pre></td></tr></table></figure>

<p>現在，請記住：您正在尋找的是在每個畫面中都會發生的東西（也就是說，它始終存在），並且可能對於 Skia 渲染器來說繪製起來很昂貴（圖片、模糊、混合等等）。</p>
<h3 id="第-4-步：深入探討"><a href="#第-4-步：深入探討" class="headerlink" title="第 4 步：深入探討"></a>第 4 步：深入探討</h3><p>現在，您需要深入探討以找出可能存在问题的 Widget。一種方法是暫時從應用程式中移除各種 Widget，看看這對效能有什麼影響。</p>
<p>請記住，堆疊的第一個子元素是背景，每個後續子元素都是之前 Widget 上方的圖層。所以，第一個子元素是背景圖片，由 BookCoverImage 表示。您可以移除它，但主頁看起來會像這樣：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/800/0*gC4MeiTr5qVd1fW7" />
</figure>

<p>這就失去了整個頁面的意義。仔細查看 BookCoverImage，您可以看到它只是一個簡單的 Image 函式包裝器。除了一个值得注意的例外（本文稍後會提到）之外，這裡沒有什麼可以改進的地方。</p>
<p>繼續，有這段程式碼：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">黑色覆蓋層，在滑鼠懸停時淡出</span></span></span><br><span class="line">AnimatedContainer(duration: Times.slow, </span><br><span class="line">  color: Colors.black.withOpacity(overlayOpacity)),</span><br></pre></td></tr></table></figure>

<p>這是一個用透明黑色覆蓋整個圖片的 Widget。overlayOpacity 預設情況下為 0（而且大部分時間都是如此），所以這個圖層是完全透明的。嗯。讓我們將它移除，並再次在 profile 模式下執行應用程式。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/800/0*NiyiyjMKhKn7LJFk" />
</figure>

<p>有趣！柵格執行緒仍然承擔了大量負載，但效能有了顯著改善。</p>
<p>我決定為 FlutterFolio 實作一個更強大的效能分析工具，以便我可以證明改進是真實的，而不仅仅是偶然。這個變更讓我柵格化所花費的 CPU 時間整體減少了 20%，潛在的卡頓減少了 50%。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*oE665wZJZhFsz-7s" />
</figure>

<p>總的來說，這是一個巨大的變化，因為移除了一個大部分時間都無效的單個 Widget。</p>
<p><a href="https://github.com/gskinnerTeam/flutter-folio/pull/62">修復</a> 很簡單：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">黑色覆蓋層，在滑鼠懸停時淡出</span></span></span><br><span class="line"><span class="keyword">if</span> (overlayOpacity &gt; <span class="number">0</span>)</span><br><span class="line">  AnimatedContainer(duration: Times.slow,</span><br><span class="line">      color: Colors.black.withOpacity(overlayOpacity)),</span><br></pre></td></tr></table></figure>

<p>現在，您只在它具有非零不透明度（也就是說，它至少部分可見）時才會加入透明覆蓋層。您避免了（非常常見的！）情況，即建立並柵格化一個完全透明的圖層，但它没有任何效果。</p>
<p>就這樣，應用程式變得更加流暢，也更節省電量。</p>
<p><strong>注意：</strong>為什麼你需要這樣做？Flutter 不應該足夠聰明地為我們執行這個優化嗎？請閱讀 <a href="https://github.com/flutter/flutter/pull/72526#issuecomment-749185938">此處</a> 的議題，了解為什麼它做不到。為什麼透明不透明度在第一時間會變慢？這超出了本文的範圍，但它與堆疊中更上方的 BackdropFilter Widget 相關，它會與下方每個 Widget 相互作用。</p>
<p>本文的主要目的不是教你關於這個特定效能陷阱的知識。你可能永遠不會再看到它。我的目標是教你如何一般性地優化柵格執行緒效能。</p>
<h3 id="第-5-步：概括"><a href="#第-5-步：概括" class="headerlink" title="第 5 步：概括"></a>第 5 步：概括</h3><p>在繼續處理一個完全不同的問題之前，通常最好查看專案中的其他地方，看看是否有類似的問題。我們的應用程式中是否有其他地方使用了大面積覆蓋層？你能避免它們嗎？</p>
<p>在這種情況下，接下來的幾行會建立在您捲軸時會淡入的大型漸變：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">當處於大型模式時，顯示一些漸變，</span></span></span><br><span class="line"><span class="comment">/// <span class="language-markdown">應該位於文字元素下方</span></span></span><br><span class="line"><span class="keyword">if</span> (widget.largeMode) ...[</span><br><span class="line">  FadeInLeft(</span><br><span class="line">    duration: Times.slower,</span><br><span class="line">    child: _SideGradient(Colors.black),</span><br><span class="line">  ),</span><br><span class="line">  FadeInUp(child: _BottomGradientLg(Colors.black))</span><br><span class="line">] <span class="keyword">else</span> ...[</span><br><span class="line">  FadeInUp(child: _BottomGradientSm(Colors.black)),</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<p>而且，果然，移除這些動畫的、幾乎佔據全螢幕的漸變會顯著改善捲軸效能。不幸的是，在這種情況下，解決方案不像之前的範例那样简单。這些漸變不是無形的。它們會在使用者到達特定封面時開始淡入。移除它们 <em>确实</em> 会造成視覺上的差異。</p>
<p>一個想法是稍微延遲淡入，這樣動畫只会在使用者降落在特定 BookCover 上時才會開始。這樣一來，您就可以減輕柵格執行緒的負載，而使用者在捲軸時，也希望可以避免一些潛在的卡頓。</p>
<p>但是，這涉及到對應用程式的動態設計進行修改，因此需要與更廣泛的團隊討論。許多效能優化都會屬於這類。效能優化通常是折衷的過程。</p>
<h3 id="重複步驟-2-5-直到滿意"><a href="#重複步驟-2-5-直到滿意" class="headerlink" title="重複步驟 2-5 直到滿意"></a>重複步驟 2-5 直到滿意</h3><p>到目前為止，我們只查看了一種類型的問題。總是會有更多問題。</p>
<p>以下是一個關於下一步的想法：應用程式的圖片資產是否太大？請記住，柵格執行緒負責取得圖片位元組、解碼它們、調整大小、應用濾鏡等等。如果它將一個 20 MB 的高解析度圖片載入到螢幕上的一個小頭像圖片中，那麼您就是在浪費資源。</p>
<p>當您的應用程式在 debug 模式下執行時，您可以使用 Flutter Inspector 來 <a href="https://api.flutter.dev/flutter/painting/debugInvertOversizedImages.html">反轉過大的圖片</a>。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*VBQwkJIdQBuQl6G9Xy0glg.png" />
</figure>

<p>這將會反轉顏色並翻轉應用程式中對於實際用途來說太大的所有圖片。然后，您可以仔细检查应用程序，并注意不自然的变化。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/800/0*n7AfpJ2tNR4CLB0V" />
</figure>

<p>debug 模式還會在每次遇到這種圖片時報告一個錯誤，例如：</p>
<blockquote>[錯誤] 圖片 assets/images/empty-background.png 的顯示大小為 411×706，但解碼大小為 2560×1600，額外使用了 19818KB。</blockquote>

<p>不過，這裡的解決方案並不直接。在行動裝置上，您不需要 2560×1600 的圖片，但在桌面上，您可能需要。請記住，FlutterFolio 是一個在所有 Flutter 目標上執行的應用程式，包括桌面。如有疑問，請 <a href="https://api.flutter.dev/flutter/painting/debugInvertOversizedImages.html">閱讀 API 文件</a>。</p>
<h3 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h3><p>如您所見，優化效能是一门艺术和科学。強大的基準測試以及對框架及其內建 Widget 的深刻理解都有助於這一點。</p>
<p>最终，熟能生巧。優化足夠多的應用程式，你就會變得更好。</p>
<p>祝您狩獵愉快。</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=e949b9dbcf06" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/raster-thread-performance-optimization-tips-e949b9dbcf06">柵格執行緒效能優化技巧</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p> </p>
<p><a href="https://creativecommons.org/licenses/by-nc/4.0/">https://creativecommons.org/licenses/by-nc/4.0/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/ef11ad01.html" data-id="cm1orxykv004mj917avvxdlhd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter/" rel="tag">flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/performance/" rel="tag">performance</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2021-08-23T21:37:55.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/2bed4075.html" class="article-date">
  <time datetime="2021-08-23T13:37:55.000Z" itemprop="datePublished">2021-08-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/2bed4075.html">【文章翻譯】Writing a good code sample</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="寫一個好的程式碼範例"><a href="#寫一個好的程式碼範例" class="headerlink" title="寫一個好的程式碼範例"></a>寫一個好的程式碼範例</h2><p>撰寫好的程式碼範例很難。讓我說明一下，製作一個範例來演示 API 的用法或展示 UI 慣用語可能很快且容易。難度來自於你需要添加到你的儲存庫中的額外部分，以保持程式碼範例新鮮並吸引你的開發人員。</p>
<p>首先，你需要在你的程式碼中添加一個好的 README，從一個摘要開始，說明開發人員為什麼應該投入時間和精力來研究和理解這個範例。接著，提供使用說明和連結到問題追蹤器，開發人員可以在其中提出錯誤並要求澄清，如果遇到令人困惑的部分。</p>
<p>接下來是程式碼本身。程式碼是否遵循佈局和使用的慣例？這可能像程式碼放在哪裡一樣簡單，也可能像 linter 等適當的設定一樣複雜。我喜歡已經採用了強大的程式碼格式、佈局和 linting 規則集標準的程式設計社群語言。這些標準使程式碼的外觀保持一致，從而更容易導航。若要強制執行 Dart 和 Flutter 的程式碼格式，你可以將以下命令添加到你的 CI 管線，如果格式不正確，則會使構建失敗：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dart format --output none --set-exit-if-changed .</span><br></pre></td></tr></table></figure>

<p>在程式碼格式化後，下一步是強制執行一套好的 lints。對於 Dart，我強烈建議研究 <a href="https://pub.dev/packages/lints">lints</a> 套件，對於 Flutter，我同樣建議研究 <a href="https://pub.dev/packages/flutter_lints">flutter_lints</a> 套件。若要確保 lints 在 CI 管線中通過，請添加以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dart analyze</span><br></pre></td></tr></table></figure>

<p>測試。哦，這麼多測試。單元測試、整合測試，對於 Flutter，我們還有 Widget 測試。測試對於範例來說非常棒，因為測試傳達了如何使用程式碼片段的意圖。測試還與前面提到的 CI 管線結合使用，可以使程式碼庫保持常青。想要了解更多關於 Flutter 測試功能的資訊，可以到 <a href="https://codelabs.developers.google.com/codelabs/flutter-app-testing">如何測試 Flutter 應用程式 codelab</a> 了解更多。Dart 和 Flutter 的 CI 命令分別為：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ flutter test   # 適用於 Flutter 專案</span><br><span class="line">$ dart test      # 適用於純 Dart 專案</span><br></pre></td></tr></table></figure>

<p>如果你的程式碼儲存庫託管在 GitHub 上，那麼我建議你如果擁有 Dart 專案，請使用 <a href="https://github.com/marketplace/actions/setup-dart-sdk">Dart Setup</a> 操作，如果擁有 Flutter 專案，請使用 <a href="https://github.com/marketplace/actions/flutter-action">Flutter Action</a>。為了獲得額外積分，請考慮添加 <a href="https://github.com/marketplace/actions/very-good-coverage">Very Good Coverage</a> 操作以保持高測試覆蓋率。既然你已經做到了這一步，你可能應該使用 <a href="https://docs.github.com/en/actions/managing-workflow-runs/adding-a-workflow-status-badge">工作流程狀態徽章</a> 來宣傳你的 CI 狀態。</p>
<p>希望以上添加的項目清單能夠指導你，讓你的程式碼範例對你的目標受眾更有價值。</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=323358edd9f3" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/writing-a-good-code-sample-323358edd9f3">Writing a good code sample</a> was originally published in <a href="https://medium.com/flutter">Flutter</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/2bed4075.html" data-id="cm1orxykv004fj9171z0x50b1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/code-samples/" rel="tag">code-samples</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter/" rel="tag">flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter-app-development/" rel="tag">flutter-app-development</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter-development/" rel="tag">flutter-development</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/testing/" rel="tag">testing</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2021-08-22T14:50:58.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/ca08facb.html" class="article-date">
  <time datetime="2021-08-22T06:50:58.000Z" itemprop="datePublished">2021-08-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/ca08facb.html">【文章翻譯】GSoC ’21: Creating a desktop sample for Flutter</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="GSoC-‘21：為-Flutter-建立桌面樣本"><a href="#GSoC-‘21：為-Flutter-建立桌面樣本" class="headerlink" title="GSoC ‘21：為 Flutter 建立桌面樣本"></a>GSoC ‘21：為 Flutter 建立桌面樣本</h2><figure>
<img alt="" src="https://cdn-images-1.medium.com/max/923/1*aRiqWvnUYD-cSbGhxTnUsw.jpeg" />
</figure>

<p><a href="https://summerofcode.withgoogle.com/">Google Summer of Code</a> (GSoC) 是一個由 Google 贊助的開源夏季程式。在此程式期間，學生在開源組織的指導下進行專案。</p>
<p>這是 Dart 團隊第二次作為 GSoC 的指導組織參與。不幸的是，由於指導老師的可用性問題，今年的 <a href="https://docs.google.com/document/d/1KfaTPPt6rqvgPD4kkZcsaehXC9FijcJ20V4J3FDLsRk/edit#">點子列表</a> 上沒有任何 Flutter 專案。由於這是我的第二次參與 GSoC，我聯絡了去年的指導老師 Brett，看看是否有機會參與一個專案。在與他以及組織管理員討論後，我找到了一個可以參與的專案。</p>
<p>此部落格展示了我為專案所做的工作。<a href="https://summerofcode.withgoogle.com/organizations/4658845562961920/#projects">查看今年 Dart 下的所有專案</a>。所有產生的原始碼都位於 GitHub 儲存庫中，您可以透過查看個別的拉取請求 (PR) 來查看工作的進展。</p>
<h3 id="專案詳情：Flutter-桌面工具"><a href="#專案詳情：Flutter-桌面工具" class="headerlink" title="專案詳情：Flutter 桌面工具"></a>專案詳情：Flutter 桌面工具</h3><p>今年，在 Flutter Engage 中，Flutter 桌面支援的 beta 快照已包含在穩定版本中。這導致需要為 <a href="https://github.com/flutter/samples">samples</a> 儲存庫建立一個桌面樣本，該樣本日後可以在桌面應用程式商店（如 <a href="https://developer.apple.com/macos/distribution/">macOS App Store</a>、<a href="https://docs.microsoft.com/en-us/windows/uwp/publish/">Microsoft Store</a> 和 <a href="https://snapcraft.io/docs/snapcraft-overview">Linux Snap Store</a>）上發佈。在與 Brett 和團隊討論後，我們決定建立一個桌面樣本，它也將是一個工具，可以幫助開發人員管理其專案的 linting 規則。請查看 <a href="https://github.com/flutter/samples/tree/master/experimental/linting_tool">GitHub 上的 linting_tool </a>。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*Lh2I-A4Aak5UZXze" />
<figcaption>應用程式的螢幕截圖</figcaption>
</figure>

<p>該應用程式使用 Dart 團隊從 <a href="https://github.com/dart-lang/linter">dart-lang&#x2F;linter</a> 儲存庫中託管的 linting 規則，並且該應用程式可以執行以下操作：</p>
<p><strong>顯示可用的 Dart linting 規則列表。</strong></p>
<p>您可以從 API 獲取 linting 規則列表。該應用程式使用 <a href="https://pub.dev/packages/flutter_markdown">flutter_markdown</a> 套件來格式化詳細資訊和程式碼片段。</p>
<p>相關 PR：<a href="https://github.com/flutter/samples/pull/856">＃856</a></p>
<p><strong>將規則儲存到不同的設定檔。</strong></p>
<p>您可以為不同類型的專案建立不同的規則設定檔。該應用程式使用 <a href="https://pub.dev/packages/hive">hive</a> 資料庫來維持持久性儲存。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*FwXcFHhXjCuOEaFw" />
<figcaption>已儲存設定檔的列表</figcaption>
</figure>

<p>相關 PR：<a href="https://github.com/flutter/samples/pull/860">＃860</a></p>
<p><strong>修改和匯出設定檔。</strong></p>
<p>設定檔可以根據您的喜好進行修改，然後匯出到 Flutter 專案中，作為 analysis_options.yaml 檔案。 套件 <a href="https://pub.dev/packages/yaml">yaml</a>、<a href="https://pub.dev/packages/json2yaml">json2yaml</a> 和 <a href="https://pub.dev/packages/file_selector">file_selector</a> 用於完成此操作。</p>
<p>相關 PR：<a href="https://github.com/flutter/samples/pull/874">＃874</a>、<a href="https://github.com/flutter/samples/pull/869">＃869</a></p>
<p><strong>顯示預設設定檔。</strong></p>
<p>您可以查看 <a href="https://pub.dev/packages/effective_dart">effective_dart</a>、<a href="https://pub.dev/packages/pedantic">pedantic</a>、<a href="https://pub.dev/packages/lints">lints</a> 和 <a href="https://pub.dev/packages/flutter_lints">flutter_lints</a> 使用的預設設定檔列表。</p>
<p>相關 PR：**<a href="https://github.com/flutter/samples/pull/871">＃871</a>**</p>
<p>若要查看專案在 GSoC 期間的進展，請查看 <a href="https://github.com/flutter/samples/pulls?q=author:abd99+created:2021-06-07..2021-08-31+">這組 PR</a>。</p>
<p>我還想為專案添加一些其他內容。兩項主要内容是：能夠從現有的 analysis_options.yaml 檔案載入設定檔，以及能夠在規則列表中搜索特定規則。我還正在製作一個新的影片系列，將涵蓋如何部署 Flutter 桌面應用程式。影片系列製作完成後，我會更新此部落格，也會在 <a href="https://twitter.com/abdullahzakir99">Twitter 帳戶</a> 上分享。</p>
<h3 id="經驗"><a href="#經驗" class="headerlink" title="經驗"></a>經驗</h3><p>我這次的 Google Summer of Code (GSoC) 經驗比去年更好。（查看 <a href="https://medium.com/flutter/learn-testing-with-the-new-flutter-sample-gsoc20-work-product-e872c7f6492a">Learn testing with the new Flutter sample</a> 以閱讀更多有關我去年參與的專案的資訊。）我認為今年的經驗更好，因為專案更具技術性，涵蓋了更多概念，並且與我之前從未參與過的內容相關。這次我也認識團隊中的更多人。我認為 GSoC 將會是我永遠不會忘記的人生的一部分。</p>
<h4 id="指導"><a href="#指導" class="headerlink" title="指導"></a>指導</h4><p><a href="https://github.com/domesticmouse">Brett</a> 一直都在，幫助我解決所有問題和阻礙。當我需要更多時間來處理其他承諾（如學校、其他工作和家庭相關事項）時，他非常理解。我認為最棒的是，他給了我完全的自由去探索事物，如果我認為某些內容對專案來說是寶貴的補充，我就可以調整專案的範圍。這次我做了一件很酷的事情，就是在每次每周會議結束時，我問他一些與專案無直接關聯的一般軟體工程相關的問題，例如「Google 如何處理估計？」和「你對遠端工作怎麼看？」。這幫助我學習了一些與程式設計無關的軟體產業知識。我強烈建議你在實習或 GSoC 類專案期間嘗試一下。而且，是的，他仍然是我合作過的最酷的人。</p>
<h4 id="學習"><a href="#學習" class="headerlink" title="學習"></a>學習</h4><p>學習是開源軟體最棒的部分。我這次做的事情，很多都無法透過 Google 搜尋找到答案。我閱讀了大量的程式碼，找出不同的套件如何執行相同的事情，以及它們之間的差異模式。我還學會了如何在大量可用的套件中為專案找到合適的套件。由於這個類別對我來說是全新的，因此這次的經驗幫助我在短時間內學到很多東西。</p>
<h4 id="挑戰"><a href="#挑戰" class="headerlink" title="挑戰"></a>挑戰</h4><p>我這次遇到了一些挑戰，從中學到了一些經驗。第一個挑戰與時間表有關。今年，GSoC 的時間表縮短了一半，這迫使我們重新排序優先順序，跳過許多可能會成為專案中寶貴補充的功能。其他挑戰是：處理一個全新的類別，以及在一個不太流行的類別中，找到關於如何執行某些事情的良好資源。</p>
<h3 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h3><p>在過去的一年中，我與 Flutter 和 samples 儲存庫合作，獲得了難以置信的經驗。我想要感謝 Brett、Flutter 團隊以及 GSoC 團隊。</p>
<p><em>關於作者：Abdullah 是一位來自印度浦那的電腦工程應屆畢業生。他在過去 4 年中一直在開發行動應用程式，並且喜歡與行動應用程式相關的內容合作。您可以在 <a href="https://twitter.com/abdullahzakir99">Twitter</a>、<a href="https://www.linkedin.com/in/abdullahzakir99/">LinkedIn</a> 和 <a href="https://github.com/abd99">GitHub</a> 上聯繫他.</em></p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=7d77e74812d6" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/gsoc-21-creating-a-desktop-sample-for-flutter-7d77e74812d6">GSoC ‘21：為 Flutter 建立桌面樣本</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p></p>
<p><a href="http://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/ca08facb.html" data-id="cm1ozcxya000nlw170y1pdi9b" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter/" rel="tag">flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter-desktop/" rel="tag">flutter-desktop</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gsoc/" rel="tag">gsoc</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linting/" rel="tag">linting</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2021-08-19T18:00:00.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/d103755c.html" class="article-date">
  <time datetime="2021-08-19T10:00:00.000Z" itemprop="datePublished">2021-08-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/d103755c.html">【文章翻譯】Flutter Hot Reload</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="Flutter-熱重載：原理與效能提升"><a href="#Flutter-熱重載：原理與效能提升" class="headerlink" title="Flutter 熱重載：原理與效能提升"></a>Flutter 熱重載：原理與效能提升</h2><p>Flutter 的熱重載功能非常棒，按下鍵盤上的 “r” 鍵，就能在幾秒鐘內看到變更的效果。在終端機（或 IDE 底部）您可能會看到類似的訊息：<code>Reloaded 1 of 553 libraries in 297ms</code>。但熱重載背後的運作原理是什麼？Dart 和 Flutter 團隊又是如何讓它變得更快呢？</p>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/800/1*iaLz5LEBdsZJRR_W8UCQcQ.png" />
</figure>

<h3 id="熱重載概述"><a href="#熱重載概述" class="headerlink" title="熱重載概述"></a>熱重載概述</h3><p>Flutter 的熱重載主要包含以下五個步驟：</p>

<ol>
<li><strong>flutter_tools 掃描需要的檔案變更。</strong> 它會檢查每個必要的檔案，並確認它的最後修改時間戳記是否比之前的編譯時間戳記更新。</li>
<li><strong>flutter_tools 指示正在執行的 Dart 編譯器重新編譯應用程式，並告知它哪些檔案已變更。</strong> Dart 編譯器開始重新編譯。</li>
<li><strong>flutter_tools 將更新的檔案傳送到設備。</strong> 這包括任何變更的資產和新編譯的 _delta kernel 檔案_（編譯的輸出，Dart VM 可以理解的檔案）。</li>
<li><strong>flutter_tools 要求設備上的 Dart VM 中的所有隔離區重新載入它們的來源（讀取變更的 delta kernel 檔案並執行其魔力）。</strong></li>
<li><strong>flutter_tools 指示設備上的應用程式重新組合 - 重新建立螢幕上的所有 Widget、重新載入資產、重新執行佈局、重新繪製等等。</strong></li>
</ol>
<p>在我的開發者機器上，目標設備為 Linux（也就是本地執行的桌面應用程式），在只更新 `lib/main.dart` 檔案的時間戳記後，在一個新建立的 `flutter create` 應用程式上執行第一次熱重載，我得到了以下時序（從 `flutter run -v` 中提取）：</p>

<ol>
<li>掃描檔案需要 ~13 ms。</li>
<li>重新編譯需要 ~67 ms。</li>
<li>將檔案傳送到設備需要 ~2 ms。</li>
<li>Dart VM 重新載入來源需要 ~96 ms。</li>
<li>重新組合需要 ~114 ms。</li>
</ol>
<p>如果我改用一個更大的應用程式（並變更其他檔案），我可能會得到以下時序：</p>

<ol>
<li>掃描檔案需要 ~12 ms。</li>
<li>重新編譯需要 ~386 ms。</li>
<li>將檔案傳送到設備需要 ~2 ms。</li>
<li>Dart VM 重新載入來源需要 ~171 ms。</li>
<li>重新組合需要 ~229 ms。</li>
</ol>
<p>在兩種情況下，以下步驟佔用了最多的時間：</p>

<ul>
<li>重新編譯</li>
<li>重新載入</li>
<li>重新組合</li>
</ul>
<p>要使熱重載速度更快，我們必須讓這三個步驟中的其中一個或多個步驟變得更快。 這裡我將重點關注第一部分：將變更的原始碼檔案重新編譯成 Dart VM 可以使用的內容。</p>

<h3 id="重新編譯"><a href="#重新編譯" class="headerlink" title="重新編譯"></a>重新編譯</h3><p>從邏輯上來說，如果我作為使用者變更了一個檔案，例如 `foo.dart`，我可能會期望重新編譯看起來像這樣：</p>

<ol>
<li>編譯器在記憶體中保留了舊的狀態。</li>
<li>編譯器被告知 <code>foo.dart</code> 已變更。</li>
<li>編譯器丟棄它對 <code>foo.dart</code> 的內部狀態。</li>
<li>編譯器重新編譯 <code>foo.dart</code>。</li>
<li>完成。</li>
</ol>
<p>這將非常棒。這意味著，無論我變更了哪個檔案，我只會重新編譯那個檔案，並且（可能）重新編譯速度很快。</p>

<p>不幸的是，重新編譯通常不會像這樣運作。以下是有兩個例子說明了為什麼重新編譯可能沒有那麼簡單：</p>

<ul>
<li><code>foo.dart</code> 曾經包含類別 <code>Foo</code>，該類別在各處使用。變更後的檔案不包含此類別（也許它被手動重新命名），並且每個使用此類別的檔案都應該出現編譯錯誤。</li>
<li><code>foo.dart</code> 曾經定義了一個字段為 <code>var z = 42</code>。另一個檔案使用此字段：<code>var z2 = z * 2</code>。Dart 類型推斷確定 <code>z</code> 是一個整數，而 <code>z2</code> 是一個整數，因為 <code>z</code> 是一個整數。現在，字段變更為 <code>var z = 42.2</code>。這次 Dart 類型推斷將會確定該字段是一個雙精度數，但如果不重新編譯另一個函式庫，那么 <code>z2</code> 將仍然（錯誤地）被標記為一個整數。</li>
</ul>
<p>因此，Dart 中的重新編譯長期以來都是像這樣執行的：</p>

<ol>
<li>編譯器在記憶體中保留了舊的狀態。</li>
<li>編譯器被告知 <code>foo.dart</code> 已變更。</li>
<li>編譯器丟棄它對 <code>foo.dart</code> 的內部狀態。</li>
<li>編譯器檢查哪些檔案匯入或匯出 <code>foo.dart</code>，並將這些檔案也丟棄。</li>
<li>編譯器檢查哪些檔案匯入或匯出步驟 4 中的檔案，並將這些檔案也丟棄。</li>
<li>不斷重複：丟棄所有傳遞性匯入者和匯出者。</li>
<li>編譯器重新編譯所有（現在）“遺漏”的函式庫。</li>
<li>完成。</li>
</ol>
<p>這聽起來可能很糟糕，但在許多情況下並非如此。雖然變更您自己的自訂 Widget 組合可能會導致重新編譯您編寫的所有程式碼，但它不會導致重新編譯 Flutter 框架本身，例如，因為 Flutter 框架不匯入或匯出您的函式庫。另一方面，如果您變更了 Flutter 框架的核心檔案，那麼您最終將重新編譯（幾乎）所有內容。</p>

<p>回顧一下為什麼只重新編譯單一變更檔案不起作用的原因的不完整列表，我們可能會看到一個模式：它不起作用是因為您進行了 _全局_ 變更 - 影響其他函式庫的變更。但是，如果您只變更了註釋呢？或者在您的建構方法中加入了另一個除錯列印？或者修正了實用方法中的一處錯誤？這些變更不是全局的，我們應該可以做得更好！</p>

<h3 id="改進"><a href="#改進" class="headerlink" title="改進"></a>改進</h3><p>對於非全局變更（不能影響其他函式庫編譯的變更），我們實際上可以只重新編譯變更的函式庫，並且仍然保持語義。主要問題是確定何時變更是全局的，何時不是（並且要快速完成）。幸運的是，這可以通過增量步驟來完成：我們不必立即（或根本不必）使其完美。</p>

<p>第一步可能是比較檔案的舊版本和新版本，同時忽略兩個版本的檔案中的註釋。如果，用這種方式比較時，兩個版本的檔案相同，那麼我們認為沒有全局變更，然後我們繼續重新編譯單一變更的檔案，而不是傳遞性匯入匯出圖。這種技術並不完美。例如，它仍然會在修正實用方法中的錯誤時觸發所有傳遞性匯入者和匯出者的重新編譯。但它允許您在只重新編譯一個檔案的同時修正註釋中的拼寫錯誤。</p>

<p>這裡快速說明一下：如果我們只變更了註釋，為什麼我們必須重新編譯？主要原因是堆疊追蹤。在內部，一些節點（表示您的程式碼）包含 _偏移量_ - 有關它們在檔案中的位置的資訊。如果此資訊過時，您的堆疊追蹤將包含無效的資訊。例如，它可能會聲稱某件事發生在第 42 行，而實際上並非如此。</p>

<p>若要達到可以實際上修正實用方法中的錯誤，同時仍然只重新編譯該檔案的狀態，我們必須在檢查全局變更時忽略另一件事：函數體。我們將再次比較變更檔案的之前版本和之後版本，這次同時忽略註釋和函數體。如果它們相同，我們將只重新編譯該檔案。</p>

<p>現在，我們實際上可以進行一些有用的變更，而無需重新編譯超出您變更的檔案的內容。您可以加入、移除或以其他方式變更註釋。您可以在您的建構方法中加入（和移除）除錯列印。您甚至可以修正實用方法中的錯誤。</p>

<h3 id="好消息！"><a href="#好消息！" class="headerlink" title="好消息！"></a>好消息！</h3><p>事實證明，這些對重新編譯的改進已經實現。如果您使用的是 Flutter 2.2，您可能已經注意到它了。如果沒有，您可能現在就會注意到。老實說，對於小型應用程式，您可能不會注意到多少速度提升，但對於大型應用程式，您應該會注意到。</p>

<p>我已經製作了一些非全局變更的示例，以評估其效果。</p>

<p>對於 [Veggie Seasons](https://github.com/flutter/samples/tree/master/veggieseasons) 示例應用程式（一個相對較小的應用程式）：</p>

<ul>
<li>變更 <code>lib/main.dart</code> 沒有改善。它之前編譯一個檔案，現在仍然編譯一個檔案。</li>
<li>變更 <code>lib/data/veggie.dart</code> 會帶來 30% 的改善。在我的電腦上，實際的編譯時間從 100 多毫秒下降到不到 20 毫秒（它以前編譯 18 個檔案，現在只編譯 1 個檔案）。這自然遠遠超過 30%，但由於重新編譯只是三個時間消耗中的其中一個（另外兩個是重新載入和重新組合），所以總體變更大約是 30%。</li>
</ul>
<p>對於 [Flutter Gallery](https://github.com/flutter/gallery)（一個相對較大的應用程式）：</p>

<ul>
<li>變更 <code>lib/main.dart</code> 會產生非常小的改善（它編譯 1 個檔案而不是 2 個檔案）。</li>
<li>變更 <code>lib/layout/adaptive.dart</code> 會導致重新載入時間幾乎減半。僅重新編譯時間從近 400 毫秒下降到 40 毫秒（重新編譯 1 個檔案而不是 47 個檔案）。</li>
</ul>
<p>您應該期望在實際情況中，Flutter 2.2 中的熱重載平均速度比 Flutter 2.0 中快 30%。從這個角度來看，這個變更為 Flutter 開發人員節省了超過一年時間，每 5 天就少等一次熱重載。</p>

<h3 id="注意事項"><a href="#注意事項" class="headerlink" title="注意事項"></a>注意事項</h3><p>我們對熱重載的變更並不總是意味著編譯器做的事情更少。例如，如果您加入或移除了一個方法，編譯器不會做的事情更少。如果您變更了字段的初始化器，編譯器不會做的事情更少。如果您變更了類別層級，編譯器不會做的事情更少。如果您變更了函數體（編譯器通常應該做的事情更少），由於混合和 FFI 方面的技術問題，編譯器可能仍然需要做同樣多的工作。</p>

<p>此外，當我們討論比較檔案時，我們跳過了幾個技術細節。首先，我們不能忽略 _所有_ 註釋：我們需要保留 [語言版本選擇器](https://dart.dev/guides/language/evolution#per-library-language-version-selection) `@dart version 標記` ，因為它具有語義意義。其次，我們不能忽略所有函數體，因為混合和 FFI 方面存在實作上的問題。</p>

<h3 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h3><p>Flutter 2.0 中的熱重載速度很快，但 Flutter 2.2 中的速度更快。平均而言，Flutter 2.2 中的熱重載速度比 Flutter 2.0 快約 30%，這為 Flutter 開發人員節省了超過一年時間，每 5 天就少等一次熱重載。</p>

<p>如果您尚未更新（甚至尚未嘗試使用 Flutter），現在可能是參觀 [flutter.dev](http://flutter.dev) 並嘗試一下的好時機。</p>

<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=f3c5994e2cee" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/flutter-hot-reload-f3c5994e2cee">Flutter 熱重載</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/d103755c.html" data-id="cm1orxykv004cj9174ux0beu6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dart/" rel="tag">dart</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter/" rel="tag">flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hot-reload/" rel="tag">hot-reload</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2021-08-13T21:04:20.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/7efc9369.html" class="article-date">
  <time datetime="2021-08-13T13:04:20.000Z" itemprop="datePublished">2021-08-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/7efc9369.html">【文章翻譯】What can we do better to improve Flutter? — Q2 2021 user survey results</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h3 id="我們如何才能讓-Flutter-變得更好？-2021-年第二季使用者調查結果"><a href="#我們如何才能讓-Flutter-變得更好？-2021-年第二季使用者調查結果" class="headerlink" title="我們如何才能讓 Flutter 變得更好？- 2021 年第二季使用者調查結果"></a>我們如何才能讓 Flutter 變得更好？- 2021 年第二季使用者調查結果</h3><p>撰寫者： <a href="https://medium.com/@jayoung.lee">JaYoung</a> 和 <a href="https://medium.com/@mariam.hasnany">Mariam</a></p>
<p>Flutter 團隊每季都會進行使用者調查，以聽取 Flutter 使用者的意見並為未來做出規劃。最近一次的調查是在 5 月份進行的，這是我們第 13 次使用者調查，收集了超過 7,000 份回覆。我們請 Flutter 開發人員評估他們對 Flutter 各部分的滿意度，對於那些不完全滿意的開發人員，我們請他們說明原因。團隊不僅總結了多選題調查回覆，還閱讀了調查中留下的開放式意見。總共有 3,403 則意見。我們再次回來分享我們從您那裡學到的東西。</p>
<h3 id="滿意度"><a href="#滿意度" class="headerlink" title="滿意度"></a>滿意度</h3><p>總體而言，92% 的受訪者表示他們對 Flutter 持正面滿意度（39% 有點滿意，53% 非常滿意）。Flutter 的子系統滿意度得分不同，範圍從 72% 到 93%，如下圖所示。雖然我們很高興分享我們正在維持高滿意度，但我們也關注可以改進的特定領域。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*m2ihVMc99emY4hQY" />
</figure>

<h3 id="開放式問題"><a href="#開放式問題" class="headerlink" title="開放式問題"></a>開放式問題</h3><p>調查中有兩個開放式問題：</p>
<ul>
<li><em>「您為什麼對 Flutter 不滿意？請分享您的原因：」</em></li>
<li><em>「您想對 Flutter 團隊說些什麼嗎？ 」</em></li>
</ul>
<p>我們從第一個問題收集了 847 則意見，從第二個問題收集了 2,556 則意見。這些意見首先使用機器學習演算法被劃分為各種主題（例如文件、生態系統、Web 支援等）。然後，每個主題會被分配給在該領域工作的團隊進行分析。</p>
<p>當然，團隊不能一次承擔所有工作並解決所有問題。然而，每個團隊都試圖從意見中提取見解並優先處理想法，仔細評估需要達成的效果和付出的努力。在以下章節中，我們將分享一些我們得到的結論的範例。</p>
<h4 id="範例-1：關於一般的開發者體驗"><a href="#範例-1：關於一般的開發者體驗" class="headerlink" title="範例 1：關於一般的開發者體驗"></a>範例 1：關於一般的開發者體驗</h4><p>在高層面上，透過閱讀書面回饋對我們有三個幫助：</p>
<ol>
<li>確認現有問題</li>
<li>找出新的關注領域和想法</li>
<li>察覺到對額外資訊和證據的需求</li>
</ol>
<p>首先，我們確認了在許多其他來源（例如 GitHub Issues 標籤、Reddit 和 Stack Overflow）中經常觀察到的痛點。這些範例包括但不限於記憶體消耗和升級技能的範例。我們非常了解這些挑戰，並在每個小組內為它們設定優先順序。同時，我們希望再次宣傳現有的資源，例如 <a href="https://flutter.dev/docs/development/tools/devtools/memory">使用記憶體檢視</a> 或 <a href="https://events.flutter.dev/engage/learn/beginner">學習中心</a>。</p>
<p>其次，我們發現了一些令我們驚訝的主題。例如，有幾則意見表達了對擴展到桌面和 Web 的擔憂。這些意見要求我們專注於讓 iOS 和 Android 變得更好，不要分散我們的注意力。我們理解這種擔憂，並且會注意這個問題。我們也會更好地傳達我們如何努力成為一種強大的行動技術，以及隨著時間的推移如何擴展對其他平台的支援。</p>
<p>最後，我們希望獲得有關調查中報告的一些問題的更多資訊，特別是那些與效能和文件相關的問題。如果您想與 Flutter 貢獻者進行對話，並為您的問題添加更多細節，請考慮將它們發佈到 GitHub Issues 標籤。這個標籤會定期由團隊進行分類。在您發佈時，請遵循 <a href="https://github.com/flutter/flutter/wiki/Issue-hygiene#file-bugs-for-everything">為所有問題提交錯誤</a> 中的規則。（當然，在 Stack Overflow 或 Discord 等支援論壇中回答「如何」類別的問題效果會更好！請查看 <a href="https://flutter.dev/community">社群</a> 頁面以獲取更多資訊。）</p>
<h4 id="範例-2：關於-Flutter-的-Web-支援"><a href="#範例-2：關於-Flutter-的-Web-支援" class="headerlink" title="範例 2：關於 Flutter 的 Web 支援"></a>範例 2：關於 Flutter 的 Web 支援</h4><p>團隊發現，圍繞缺乏穩定版本 Web 支援而提出的不滿意回饋，在 Flutter 2.0 於 3 月份 <a href="https://medium.com/flutter/flutter-web-support-hits-the-stable-milestone-d6b84e83b425">穩定發佈 Web 支援</a> 之後已得到緩解。我們為 Flutter Web 支援的穩定版本新增的許多功能都是基於去年的 <a href="https://medium.com/flutter/flutter-on-the-web-slivers-and-platform-specific-issues-user-survey-results-from-q3-2020-f8034236b2a8">調查</a>，在那裡我們詢問了您可能需要的 Web 應用程式功能。</p>
<p><a href="https://medium.com/flutter/flutter-on-the-web-slivers-and-platform-specific-issues-user-survey-results-from-q3-2020-f8034236b2a8">2020 年第三季調查</a> 中的 Web 特定問題是基於我們去年第二季調查中收到的開放式回饋。您的意見幫助我們確定了我們應該優先考慮的領域，以作為 Flutter Web 支援的初始穩定版本。</p>
<p>在 2020 年，15% 的意見是關於效能和卡頓的，因此我們優先改進 HTML 渲染器的效能，以及穩定 CanvasKit 渲染器。另外 15% 的意見是關於我們的 Plugin 差距，以及對 GoogleMaps、Firestore 等等的要求，因此我們確保了在 Web 穩定版本中支援了大多數 Google 自有 Plugin，包括 GoogleMaps、Firebase_analytics、cloud_firestore 等等。有幾則意見是關於捲軸和文字渲染的。雖然我們在這些領域仍然需要做更多工作，但我們能夠為支援 <a href="https://github.com/flutter/flutter/issues/70866">桌面外觀尺寸上的捲軸</a> 以及支援 <a href="https://github.com/flutter/flutter/issues/33523">富文本功能</a>（例如文字欄位中的多行文字選取）奠定堅實的基礎。</p>
<p>本季，我們得知使用者認為 Flutter 的 Web 支援仍然需要改進。Web 應用程式的「外觀和感覺」是最常被提及的不滿意 Flutter Web 支援的原因。我們也被要求提供更多 Web 特定 Widget、直觀的響應式 Widget 等等。搜尋引擎優化 (SEO) 的要求也被注意到。其他的不滿意原因是從右到左 (RTL) 文字支援、程式碼大小、路由和除錯。</p>
<p>我們計劃在下一次使用者調查中詢問一些這些領域，因為我們正在規劃下一個版本。對於其他的問題，我們已經取得了進展，例如新增 <a href="https://github.com/flutter/flutter/projects/159">RTL 文字支援</a>，透過我們目前的 <a href="https://github.com/flutter/uxr/tree/master/nav2-usability">UXR 研究</a> 了解路由問題，以及研究降低程式碼大小的方法。</p>
<h3 id="接下來要做什麼？"><a href="#接下來要做什麼？" class="headerlink" title="接下來要做什麼？"></a>接下來要做什麼？</h3><p>每季調查計劃是讓我們更好地了解您的需求的結構化方式，但它不是我們聽取 Flutter 開發者意見的唯一管道。如果您有需要後續處理的緊急問題，請在 <a href="https://github.com/flutter/flutter/issues">GitHub</a> 上提交它們。</p>
<p>Flutter UXR 團隊將繼續透過 flutter.dev 上的公告、Flutter IDE Plugin 或 Twitter @FlutterDev 每季進行調查。請繼續提供您的想法，因為團隊正在尋找重要問題的答案。您也可以透過 <a href="https://docs.google.com/forms/d/e/1FAIpQLSe0i4De809KXVCdljGKrjMj3lxhuzbuFKCtY5PEQPCYtGxFMg/viewform">註冊即將到來的 UXR 研究</a> 來參與其他研究。</p>
<p>再次感謝所有參與本次調查並提供寶貴意見的各位。我們的目標是建立您喜歡的產品，我們感謝您撥冗幫助我們。</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=1037fb8f057b" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/what-can-we-do-better-to-improve-flutter-q2-2021-user-survey-results-1037fb8f057b">我們如何才能讓 Flutter 變得更好？- 2021 年第二季使用者調查結果</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/7efc9369.html" data-id="cm1orxyku0048j917996s8ysb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/developer-experience/" rel="tag">developer-experience</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter/" rel="tag">flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/surveys/" rel="tag">surveys</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/user-experience/" rel="tag">user-experience</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/user-research/" rel="tag">user-research</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2021-07-28T17:34:30.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/ba84fd2d.html" class="article-date">
  <time datetime="2021-07-28T09:34:30.000Z" itemprop="datePublished">2021-07-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/ba84fd2d.html">【文章翻譯】Adding Flutter to your existing iOS and Android codebases</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="將-Flutter-加入現有的-iOS-和-Android-程式碼庫"><a href="#將-Flutter-加入現有的-iOS-和-Android-程式碼庫" class="headerlink" title="將 Flutter 加入現有的 iOS 和 Android 程式碼庫"></a>將 Flutter 加入現有的 iOS 和 Android 程式碼庫</h2><figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*xYlql5GqpIvedZvkJxGcaA.png" />
</figure>

<p>無論您是為小型代理商工作，為眾多客戶建立行動應用程式，還是為擁有數百個內部應用程式的龐大企業開發，支援多個程式碼庫都可能很困難且昂貴（如果真的要做到）。我們驚訝地發現，一個常見的場景是，一些公司有數十甚至數百個應用程式是用於一個主要的行動平台，但沒有為另一個平台開發。這會讓他們許多使用者（通常是員工）無法像其他人一樣高效地執行相同的任務，從而可能導致價值流失。</p>
<p>Flutter 是一個可以從單一程式碼庫支援多個平台的 UI 架構，它可以幫助解決這些問題。雖然在理想情況下，您可以使用 Flutter 從頭開始建立應用程式，但當公司已經投入時間和金錢開發一個或多個平台的應用程式時，這個計劃通常行不通。</p>
<p>在本教程中，我們將透過學習稱為 <strong><em>add-to-app</em></strong> 的功能，探討一種更務實的方法，即隨著時間推移逐步將現有的 iOS 或 Android 應用程式轉換為 Flutter。雖然此功能並不能立即為您提供完整的 Flutter 應用程式，但它允許您在轉換過程中保持與當前程式碼庫的功能一致性和穩定性，而不是需要完整的重構，而重構可能會充滿意想不到的問題和「陷阱」。</p>
<p>在我們逐步完成本教程時，我們將從一個簡單的基本案例應用程式開始，與您期望從「<a href="https://en.wikipedia.org/wiki/%22Hello,_World!%22_program">你好，世界！</a>」範例中得到的結果類似，適用於 iOS 和 Android，而不是加入已經存在的實際應用程式的複雜性。之後，我們將建立將為每個平台新增新視圖（用 Flutter 編寫）所需的基礎架構。在實作 add-to-app 時，預期您已經具備一些 Flutter 的經驗，但本教程盡可能保持簡單，以便專注於如何將 Flutter 加入非 Flutter 應用程式。透過這種方式，您最終將擁有必要的詞彙，並知道在您準備好自己嘗試時該去哪裡尋找。</p>
<p>讓我們開始進行吧！</p>
<h3 id="Flutter-安裝"><a href="#Flutter-安裝" class="headerlink" title="Flutter 安裝"></a>Flutter 安裝</h3><p>如果您尚未在電腦上安裝 Flutter SDK，現在正是時候。請按照 <a href="https://flutter.dev/docs/get-started/install">此連結</a> 中的說明來設定您的機器。我會在這裡等您：) 如果你想在沒有跟著做的情況下繼續閱讀，那也是完全可以的。</p>
<p>…</p>
<p>都準備好了嗎？太棒了！</p>
<p>因此，將 Flutter 加入現有應用程式的第一步是，毫不意外地，建立一個要加入應用程式的 Flutter 元件。從命令列介面，導航到您想要儲存 Flutter 模組的目錄，並使用 Flutter CLI 工具執行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter create --template module add_to_app_flutter_module</span><br></pre></td></tr></table></figure>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*99QwoGv8y0bLsB7rzal4Uw.png" />
</figure>


<p>這會建立一個基本 Flutter 應用程式並將其放置在一個名為 add_to_app_flutter_module 的新目錄中，不過您可以隨意為模組命名 - 本教程假設您使用的是 add_to_app_flutter_module 名稱。</p>
<h3 id="iOS-安裝"><a href="#iOS-安裝" class="headerlink" title="iOS 安裝"></a>iOS 安裝</h3><p>通常，在實作 add-to-app 功能時，您已經有現有的 iOS 或 Android 應用程式。在本教程中，您將從頭開始建立新的應用程式，以便專注於實作基礎。您將從 Xcode 中建立一個全新的 iOS 應用程式開始。如果您沒有使用 Mac 電腦或為 iOS 開發，請隨時跳到 Android 部分，或繼續閱讀以了解此過程。我只會有點失望您沒有閱讀全部內容。啟動 Xcode。當出現第一個選項螢幕時，選擇 <strong>App</strong> 並點擊 <strong>Next</strong>。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*71k72zGf7k8gwQhoapobIQ.png" />
</figure>

<p>在下一頁，適當地填寫文字欄位。在本教程中，使用 <strong>Storyboard</strong> 介面、<strong>Swift</strong> 作為語言，以及 <strong>UIKit App Delegate</strong> 作為生命週期。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Q8oBiSt7DNywtG0z0PXm_A.png" />
</figure>

<p>此時，系統會提示您在電腦上的某個位置建立一個新的目錄，並將您的應用程式放置到其中。在本教程中，將新的 iOS 專案資料夾儲存在與您之前建立的 Flutter 模組相同的父目錄中。建立該目錄後，您將進入 Xcode 專案螢幕，資料夾結構類似於此：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/508/1*WDZwukEh-RHLPByOtEn6Bg.png" />
</figure>

<p>回到命令列，導航到您在上一步中建立的新的 iOS 專案目錄，並使用以下命令初始化 CocoaPods：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod init</span><br></pre></td></tr></table></figure>

<p>初始化 Podfile 後，從 CLI 打開它，並將其內容替換為以下內容（請記住將目標名稱從 <em>Add-to-App</em> 更改為反映您自己的應用程式名稱，並將 flutter_application_path 更改為與 Flutter 模組的路徑匹配，如果您使用的是不同的值）：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/5a3461edaa403dc928c4cc82259191f9/href">https://medium.com/media/5a3461edaa403dc928c4cc82259191f9/href</a></iframe>

<p>更新 Podfile 後，儲存檔案並執行以下命令將 Flutter 模組連結到新的 iOS 專案：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod install</span><br></pre></td></tr></table></figure>

<h3 id="從-iOS-應用程式打開預設-Flutter-頁面"><a href="#從-iOS-應用程式打開預設-Flutter-頁面" class="headerlink" title="從 iOS 應用程式打開預設 Flutter 頁面"></a>從 iOS 應用程式打開預設 Flutter 頁面</h3><p>現在 Flutter 模組和 iOS 專案已連結，是時候學習如何從 iOS ViewController 導航到行動應用程式中的 Flutter 頁面了。首先打開 <strong>AppDelegate.swift</strong> 檔案，將類別設定為繼承 FlutterAppDelegate 而不是預設的 UIAppDelegate。您還想定義一個新的 FlutterEngine 物件，它是用於橋接原生 iOS 應用程式和 Flutter 類別的 Flutter 環境容器：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/082ee51f20cde17d84bdabc40d484792/href">https://medium.com/media/082ee51f20cde17d84bdabc40d484792/href</a></iframe>

<p>要完成 simpleFlutterAppDelegate 類別，請建立一個新的應用程式函數，在啟動 iOS 應用程式時註冊 FlutterEngine：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/75beb3aab5497d5f35bc23c6284adbbe/href">https://medium.com/media/75beb3aab5497d5f35bc23c6284adbbe/href</a></iframe>

<p>在 AppDelegate 類別中，您只需要執行這些操作（暫時如此）。要啟動預設的 Flutter 螢幕，請轉到專案的 <strong>ViewController.swift</strong> 檔案（不過，在更完善的應用程式中，您可以使用任何 ViewController）。新增一個名為 showFlutter() 的函數，該函數會擷取 FlutterEngine，並使用預設的 Flutter 輸入點建立一個新的 FlutterViewController 物件，然後顯示它：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/aff84a5ae1f84bdc33e6a88d81122536/href">https://medium.com/media/aff84a5ae1f84bdc33e6a88d81122536/href</a></iframe>

<p>接下來，您需要一種方法來呼叫該函數。為簡單起見，直接在 Swift 程式碼中為螢幕定義一個按鈕，不過您可以使用任何適合您的其他導航模式或技術。在本教程中，建立一個新的 UIButton，將其置於螢幕中間，將新的 showFlutter() 函數指定給按鈕的動作，然後將其附加到視圖，所有這些都來自 viewDidLoad() 生命週期函數：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/35769c462b2a1e0e52ca3c32abf186e7/href">https://medium.com/media/35769c462b2a1e0e52ca3c32abf186e7/href</a></iframe>

<p>現在嘗試執行應用程式。如果一切按預期進行（祈禱吧！），那麼您應該能夠啟動 iOS 應用程式，點擊 <em>顯示 Flutter！</em> 按鈕，然後觀看新的 Flutter 螢幕彈出：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/368/1*o4tMnqTbK73cRpJ8m4bhIw.gif" />
</figure>

<h3 id="Android-安裝"><a href="#Android-安裝" class="headerlink" title="Android 安裝"></a>Android 安裝</h3><p>現在您已經使 iOS&#x2F;Flutter 組合正常運作，是時候嘗試設定 Android 應用程式了。就像您對 iOS 專案所做的那樣，建立一個新的 Android 專案，並在第一個螢幕上選擇 <strong>基本活動</strong> 模板。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*5lDz6tLm4M0LHZaF8GUYHA.png" />
</figure>

<p>在下一頁，為名稱和套件名稱填寫適當的資訊。為了使一切與此範例的 iOS 版本保持一致，請將您的專案儲存在與 Flutter 模組和 iOS 應用程式相同的父目錄下。您還需要確保在本教程中將專案的語言設定為 Kotlin，儘管相同 add-to-app 邏輯適用於使用 Java 編寫的 Android 應用程式。準備好後，點擊藍色的 <strong>完成</strong> 按鈕。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*DMCxqTeZpSD5-b1RJY_pig.png" />
</figure>

<p>現在您有了基礎 Android 專案，新增您之前建立的 Flutter 模組。您可以透過轉到 <strong>檔案 -&gt; 新建 -&gt; 新模組…</strong> 來完成此操作。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*qZQDQmS47Pqvza3UucvEVA.png" />
</figure>

<p>從那裡，轉到新視窗底部的 <strong>匯入 Flutter 模組</strong> 選項，加入 Flutter 模組位置，然後點擊藍色的 <strong>完成</strong> 按鈕。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*XeyFOIlwbKa8cOqlb3j4Cw.png" />
</figure>

<p>接下來，打開 <strong>settings.gradle</strong> 檔案，並將其內容替換為以下內容：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/b234a9dd19a3a3a9cfdf73b8a08d3a1a/href">https://medium.com/media/b234a9dd19a3a3a9cfdf73b8a08d3a1a/href</a></iframe>

<p>這裡主要的部分是綁定並將 <strong>include_flutter.groovy</strong> 檔案加入到專案中。完成後，轉到專案級別的 <strong>build.gradle</strong> 檔案（位於 Android 專案的根目錄中），新增一個 allprojects 區塊，以便您可以編譯應用程式（這可能在以後不需要，但我遇到了 Android Studio Arctic Fox 的問題，因此我在這裡寫下來，以防有人用得上：)）</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/5914fe5f6223aad361019c4eeec5ae27/href">https://medium.com/media/5914fe5f6223aad361019c4eeec5ae27/href</a></iframe>

<p>最後，打開 <em>應用程式級別</em> 的 <strong>build.gradle</strong> 檔案（位於 <em>your_project_name&#x2F;app</em> 目錄中），並在 dependencies 節點中新增一行，以將 Flutter 模組作為來源加入到 Android 專案中：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/d5ea9e3d6281390e59a2431bb364dcbd/href">https://medium.com/media/d5ea9e3d6281390e59a2431bb364dcbd/href</a></iframe>

<p>此時，Android 應用程式應該可以編譯和建構，而且您會在 IDE 中看到 Flutter 模組。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/640/1*AbRB1VZYePJoXMk0sHN05A.png" />
</figure>

<h3 id="從-Android-應用程式打開預設-Flutter-頁面"><a href="#從-Android-應用程式打開預設-Flutter-頁面" class="headerlink" title="從 Android 應用程式打開預設 Flutter 頁面"></a>從 Android 應用程式打開預設 Flutter 頁面</h3><p>現在 Android 應用程式的安裝過程已完成，您需要準備好使用新的 Flutter 元件來啟動應用程式。幸運的是，現在安裝已完成，因此這相對容易。首先打開 <strong>AndroidManifest.xml</strong> 檔案。Flutter add-to-app 使用自訂 FlutterActivity 在 Android 中顯示 Flutter 內容，因此您需要確保在清單中宣告 FlutterActivity，方法是在 application 標籤內新增以下區塊：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/864ed107bf4cbdad1166e7d63c3d1f52/href">https://medium.com/media/864ed107bf4cbdad1166e7d63c3d1f52/href</a></iframe>

<p>接下來，打開 <strong>MainActivity.kt</strong> 檔案，並將應用程式 FloatingActionButton 顯示的 Snackbar 替換為以下程式碼，以啟動新的 FlutterActivity。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/5a3193658ee9998aab444caf583044c2/href">https://medium.com/media/5a3193658ee9998aab444caf583044c2/href</a></iframe>

<p>現在，當您點擊 FloatingActionButton 時，您應該會看到 Flutter 頁面直接在您的應用程式中彈出！</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/346/1*0F312mW_EgR9554m6gcxWA.gif" />
</figure>

<p>除了能夠啟動完整的活動螢幕（類似於您之前在 iOS 中所做的），Android 的額外好處是能夠將 Flutter 元件作為 Fragment 或自訂視圖的一部分來啟動。雖然這兩種技術超出了本教程的範圍，但您可以在官方文件找到如何使用 <a href="https://flutter.dev/docs/development/add-to-app/android/add-flutter-fragment">FlutterFragment</a> 和 <a href="https://flutter.dev/docs/development/add-to-app/android/add-flutter-view">FlutterView</a>。</p>
<h3 id="開啟其他-Flutter-螢幕"><a href="#開啟其他-Flutter-螢幕" class="headerlink" title="開啟其他 Flutter 螢幕"></a>開啟其他 Flutter 螢幕</h3><p>雖然能夠直接從原生 iOS 或 Android 應用程式開啟 Flutter 螢幕很棒，但考慮到使用 add-to-app 的整個想法是您可以慢慢地實作各種 Flutter 功能，因此 <em>它實際上並沒有達到您想要的程度</em>。要做到這一點，您很可能需要多個輸入點和多個 Flutter 元件。幸運的是，有一種方法可以在原生應用程式中建立多個 Flutter 實例，不過值得注意的是，在撰寫本文時，此功能 <em>處於實驗階段</em>。雖然表面層面的東西很有可能保持不變，但也可能語法或其他細節會在日後發生變化。</p>
<p>首先，透過打開 <em>flutter 模組&#x2F;lib</em> 目錄中的 <strong>main.dart</strong>，更新 Flutter 模組中的程式碼以支援第二個螢幕。在 main.dart 中，透過在 main() 的宣告下方新增以下幾行，宣告您的第一個新的輸入點。請注意，此程式碼片段包含一個註釋，將此方法指定為應用程式中的新輸入點。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/ea233ca8e7a30717c2a1248b04c7cfa6/href">https://medium.com/media/ea233ca8e7a30717c2a1248b04c7cfa6/href</a></iframe>

<p>MySecondAppScreen 只會返回一個具有綠色主題和新標題的新 MaterialApp，以便您可以區分它和 main() 輸入點。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/7e4a43f565b3dadadce2db9650a468e1/href">https://medium.com/media/7e4a43f565b3dadadce2db9650a468e1/href</a></iframe>

<p>接下來，您可能會注意到您需要為 MySecondaryHomePage 建立另一個程式碼塊。這是一個新的 StatefulWidget，它包含 Flutter 螢幕的狀態物件。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/e0075e4379e9a1ae2110c4b48a01a8f7/href">https://medium.com/media/e0075e4379e9a1ae2110c4b48a01a8f7/href</a></iframe>

<p>最後，建立新的狀態物件。在本範例中，Widget 會顯示 AppBar 和 Text Widget。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/9df09644bdde328255366934c93b848f/href">https://medium.com/media/9df09644bdde328255366934c93b848f/href</a></iframe>

<p>您現在有兩個不同的 Flutter 螢幕可以從原生應用程式啟動。接下來，您將在現有的 Android 範例應用程式中實作新螢幕。</p>
<h3 id="Android-中的多個-Flutter-輸入點"><a href="#Android-中的多個-Flutter-輸入點" class="headerlink" title="Android 中的多個 Flutter 輸入點"></a>Android 中的多個 Flutter 輸入點</h3><p>此擴展的 add-to-app 功能透過建立 FlutterEngine 類別的多個實例（與用於顯示單一預設 Flutter 螢幕的工具相同）並將它們儲存在 FlutterEngineGroup 中來執行，然後在需要時呼叫適當的引擎。首先，建立一個新的應用程式類別來初始化 FlutterEngineGroup。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/1874717ba2d4d487f0c27f54b85f4501/href">https://medium.com/media/1874717ba2d4d487f0c27f54b85f4501/href</a></iframe>

<p>接下來，建立一個輔助類別，在本例中名為 EngineBindings，它會接收輸入點的名稱，並將其懶加載到 FlutterEngineGroup 中，以便可以在原生應用程式中顯示它。這是懶加載的，因為您需要確保應用程式已完全載入，然後再開始建立 FlutterEngine，否則您可能會遇到意想不到的（且難以除錯）競爭條件。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/c66a7cc80c0923aa8795ba0a71e9c840/href">https://medium.com/media/c66a7cc80c0923aa8795ba0a71e9c840/href</a></iframe>

<p>您需要加入的最後一個類別會擴展您在上一節 Android 中使用的 FlutterActivity。建立一個名為 <strong>SingleFlutterActivity.kt</strong> 的新的 Kotlin 類別檔案，它會擴展 FlutterActivity：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/49cef27d6145fd5c45d09e4c965b9f0c/href">https://medium.com/media/49cef27d6145fd5c45d09e4c965b9f0c/href</a></iframe>

<p>在此檔案中，透過傳入新的輸入點名稱（在本例中為 <strong>“secondary”</strong>）來初始化 EngineBindings，以匹配您在 Dart 檔案中新增的輸入點的名稱，並為擷取適當的引擎撰寫一個輔助方法：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/f3ed277ea9b2a5672d65e32376ef34f0/href">https://medium.com/media/f3ed277ea9b2a5672d65e32376ef34f0/href</a></iframe>

<p>要完成 FlutterActivity，請使用新建立的引擎從 <code>onCreate()</code> 顯示 Flutter 螢幕。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/f3df93438410f99b3fd8683543a1c5c3/href">https://medium.com/media/f3df93438410f99b3fd8683543a1c5c3/href</a></iframe>

<p>接下來，您只需要再做幾件事就能完成此範例應用程式。回到 MainActivity，轉到原本用於啟動主要 Flutter 螢幕的 FloatingActionButton，並更改 Intent，使其啟動新的 SingleFlutterActivity 類別。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/c3fb86b678c665b5a4a21167a1f286c1/href">https://medium.com/media/c3fb86b678c665b5a4a21167a1f286c1/href</a></iframe>

<p>最後，打開 <strong>AndroidManifest.xml</strong>，將新的應用程式類別與 application 標籤關聯起來，並新增 SingleFlutterActivity 的活動標籤。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/3166253a1f8d7ac490935790f60d64c4/href">https://medium.com/media/3166253a1f8d7ac490935790f60d64c4/href</a></iframe>

<p>您現在應該能夠執行應用程式，點擊 FloatingActionButton，並看到新的螢幕，而不是預設的 Flutter Widget。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/346/1*jQUUrVeSYGvjM4zgrt-zNg.gif" />
</figure>

<h3 id="iOS-中的多個-Flutter-輸入點"><a href="#iOS-中的多個-Flutter-輸入點" class="headerlink" title="iOS 中的多個 Flutter 輸入點"></a>iOS 中的多個 Flutter 輸入點</h3><p>您還在嗎？太好了！</p>
<p>接下來，您將在 iOS 範例應用程式中新增對多個輸入點的支援。回到 Xcode，打開 AppDelegate 類別，並將所有程式碼替換為這個簡化的版本，它會建立一個單一的 FlutterEngineGroup，可以在整個應用程式中訪問。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/8271345d88a1e2b9fe910b9e58f914a5/href">https://medium.com/media/8271345d88a1e2b9fe910b9e58f914a5/href</a></iframe>

<p>類似於您在 Android 應用程式中所做的，建立一個名為 <strong>SingleFlutterViewController.swift</strong> 的新檔案，它會擴展標準的 FlutterViewController。此類別會接收一個包含您想要使用的輸入點名稱的字串，然後建立並顯示一個新的 FlutterEngine。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/ddd4e938cb47b74729e137fb47ba32a1/href">https://medium.com/media/ddd4e938cb47b74729e137fb47ba32a1/href</a></iframe>

<p>最後，返回基礎 ViewController 類別，並更新 showFlutter() 函數，以便它使用指定的輸入點顯示新的 SingleFlutterViewController 類別。</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/2b3785e8faaeaa2b01befb697584c893/href">https://medium.com/media/2b3785e8faaeaa2b01befb697584c893/href</a></iframe>

<p>更新完程式碼後，更新 Podfile 以使用 Flutter 模組的最新版本，因為您已將新的輸入點和螢幕程式碼新增到 <strong>main.dart</strong> 中。完成後，您應該能夠建構和執行 iOS 應用程式，以查看您的原生程式碼切換到新的 Flutter 元件。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/412/1*scdrE_wYehIvimaJhOUklQ.gif" />
</figure>

<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>嘿，您做到了！恭喜！</p>
<p>在本教程中，您學習了如何將 Flutter 逐步新增到現有的 Android 和 iOS 應用程式中，以建立一個統一且更易於維護的程式碼庫。您已經了解了如何在兩個平台上從單一輸入點新增 Flutter，以及如何建立多個輸入點。如果您有興趣了解更多資訊，我在下方包含了一個連結，連結到 Flutter 的官方文件頁面，該頁面提供了有關 add-to-app 的更多細節資訊，以及討論 <strong><em>平台通道</em></strong> 的連結，平台通道允許您在 Flutter 和原生級別程式碼之間來回通訊。最後，請查看討論 Plugin 和如何撰寫自己的 Plugin 的連結，這些連結可以讓使用 Flutter 為多個平台開發變得更容易，無論是對您還是對開發人員社群。</p>
<p>我們期待看到您的跨平台應用程式實際運作！</p>
<ul>
<li><a href="https://flutter.dev/docs/development/add-to-app">將 Flutter 加入現有應用程式</a></li>
<li><a href="https://flutter.dev/docs/development/platform-integration/platform-channels">撰寫自訂平台特定程式碼</a></li>
<li><a href="https://flutter.dev/docs/development/packages-and-plugins/using-packages">使用套件</a></li>
<li><a href="https://flutter.dev/docs/development/packages-and-plugins/developing-packages">開發套件和 Plugin</a></li>
</ul>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=3e2c5a4797c1" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/adding-flutter-to-your-existing-ios-and-android-codebases-3e2c5a4797c1">將 Flutter 加入現有的 iOS 和 Android 程式碼庫</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/ba84fd2d.html" data-id="cm1orxyku0046j91759vv6huz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android-app-development/" rel="tag">android-app-development</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter/" rel="tag">flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter-app-development/" rel="tag">flutter-app-development</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ios-app-development/" rel="tag">ios-app-development</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2021-06-29T08:15:08.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/faf6e4ac.html" class="article-date">
  <time datetime="2021-06-29T00:15:08.000Z" itemprop="datePublished">2021-06-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/faf6e4ac.html">【文章翻譯】Google I/O spotlight: Flutter in action at ByteDance</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="Google-I-O-聚焦：字节跳动-Flutter-实战"><a href="#Google-I-O-聚焦：字节跳动-Flutter-实战" class="headerlink" title="Google I&#x2F;O 聚焦：字节跳动 Flutter 实战"></a>Google I&#x2F;O 聚焦：字节跳动 Flutter 实战</h2><p><em>Note: This article was originally written in Chinese by the ByteDance team and translated into English.</em></p>
<p>Flutter, a technology that ByteDance has been utilizing and contributing to for several years now, was recently highlighted on the main stage of Google I&#x2F;O. Developed and open-sourced by Google, the multi-platform framework for front-end UI development has garnered over 120,000 stars on GitHub.</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*s0fEzRKPUlPITzxE" />
<figcaption>At Google I/O, Zoey Fan, one of Flutter's product managers, talked about how the framework was adopted at ByteDance.</figcaption>
</figure>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*V8DV37bsn0UNXkvE" />
<figcaption>More than 70 apps by ByteDance use Flutter as their multi-platform solution.</figcaption>
</figure>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*jfsCt8xhuizJO7uf" />
<figcaption>Flutter has reduced development time by 33%, as compared to developing separate apps for Android and iOS.</figcaption>
</figure>

<p>Today, there are over 500 Flutter developers at ByteDance, with over 200 actively developing with the framework. These developers utilize Flutter not only for mobile apps but also experiment with it on web, desktop, and embedded platforms.</p>
<p>Beyond this, ByteDance has conducted fundamental work throughout the organization and made significant contributions to the Flutter project by submitting dozens of pull requests (PRs).</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/928/0*84RzNeoAVCQu3shZ" />
</figure>

<h3 id="How-did-ByteDance-make-Flutter-truly-work-for-them"><a href="#How-did-ByteDance-make-Flutter-truly-work-for-them" class="headerlink" title="How did ByteDance make Flutter truly work for them?"></a>How did ByteDance make Flutter truly work for them?</h3><p>The story of Flutter at ByteDance began two years ago.</p>
<p>At the time, the ByteDance front-end engineering team noticed that many teams within the company needed to develop for multiple platforms, but lacked a tool to achieve high-efficiency, high-performance, multi-platform development.</p>
<p>When Google open-sourced Flutter, the ByteDance team discovered that with Flutter, they only needed to develop the app once to support platforms such as Android, iOS, and web. Also, because Flutter has its own rendering engine, they could achieve more consistent performance across platforms.</p>
<p>With Flutter, the Android, iOS, and web versions of an app automatically stay in sync. There is no need to design and program the UI separately for each platform, eliminating a significant portion of redundant work.</p>
<p>To support business development more efficiently, the ByteDance team performed fundamental work on the framework itself, such as optimizing performance, creating app frameworks, containerizing, and supporting “add to app.” They also improved Flutter performance tools, including improvements to the Frames Per Second (FPS) info in the <a href="https://flutter.dev/docs/development/tools/devtools/performance#flutter-frames-chart">Frame chart</a> and the <a href="https://flutter.dev/docs/development/tools/devtools/performance#timeline-events-chart">timeline events chart</a>. Both of these charts are part of the <a href="https://flutter.dev/docs/development/tools/devtools/performance">Performance View</a> in <a href="https://flutter.dev/docs/development/tools/devtools/overview">Flutter DevTools</a>.</p>
<p>When adopting Flutter, the ByteDance team encountered some unique challenges. For example, Flutter must be added to the app installation package, increasing the size of the app downloaded by users. Additionally, Flutter uses the Dart programming language, which is larger in size than native code, further increasing the package size.</p>
<p>The ByteDance team started a special plan to optimize the package size by compressing the iOS data section and stripping out the Skia library and other libraries (such as BoringSSL, ICU, text rendering, and libwebp). They analyzed Flutter Dart code against iOS native code and found that to implement the same business feature, the Dart code generated more machine code instructions. To close the gap, they reduced alignment of instructions, removed debugging trap instructions, dropped redundant initialization of stores with null, removed RawInstruction headers with bare instructions mode, compressed StackMaps, removed CodeSourceMap, and so on.</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*SHp5ZrnQvQ_bva8K" />
</figure>

<p>Individually, each of these optimizations reduced the package size by 0.2 to 4 MB and significantly reduced the total package size when combined. The ByteDance team shared their experience with Google engineers, and many improvements made their way to the Flutter open source project for the benefit of the larger community.</p>
<p>However, when ByteDance released their first Flutter app, new issues emerged. Users asked: ‘Why is the UI so janky when I scroll in the app?’</p>
<p>When the ByteDance team looked into the issue, they saw that when a FlutterView extended a TextureView, the UI was noticeably jankier than when it extended SurfaceView. However, in the official <a href="https://flutter.dev/docs/development/tools/devtools/performance#timeline-events-chart">Timeline</a> tool, the UI thread time and GPU thread time for each rendered frame are about the same, with TextureView pulling a bit ahead occasionally.</p>
<p>The metrics contradicted the real-world user experience, which puzzled the team.</p>
<p>At first, the team used the <a href="https://flutter.dev/docs/development/tools/devtools/performance#timeline-events-chart">Timeline</a> tool to troubleshoot the issue, to no avail. After digging into the tool’s source code, they discovered the root cause of the issue.</p>
<p>SurfaceView had better performance than TextureView. Because SurfaceView had its own surface, and rendering was performed in its own OpenGL context, it could interact with SurfaceFlinger independently and took full advantage of triple-buffering. On the other hand, TextureView was a regular view that depended on the surface of its host window for rendering. That meant the rendering wasn’t performed immediately after the UI and GPU threads had finished their work but needed to wait for the native main thread and renderThread before the view could interact with SurfaceFlinger. That was a much longer rendering pipeline than that of SurfaceView.</p>
<p>These findings not only helped the team eliminate the jank but led to 10 PRs being submitted to the Flutter open source project. With this fundamental work done, Flutter eventually became the go-to framework for multi-platform app development at ByteDance. Soon, the ByteDance team’s work with Flutter will be available to external developers using their mobile development framework, <a href="https://www.volcengine.com/product/vemars">veMARS</a>, benefiting the entire developer community.</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/928/0*3xKb80lXnsfJg3pP" />
</figure>

<h3 id="From-experiment-to-production-How-ByteDance-put-Flutter-into-use"><a href="#From-experiment-to-production-How-ByteDance-put-Flutter-into-use" class="headerlink" title="From experiment to production: How ByteDance put Flutter into use"></a>From experiment to production: How ByteDance put Flutter into use</h3><p>It wasn’t exactly smooth sailing for ByteDance to put Flutter into real-world use.</p>
<p>At first, the ByteDance team chose a mature product and planned to re-implement the app’s video playback feature with Flutter.</p>
<p>The feature, originally written in native code for Android and iOS, wasn’t straightforward to rewrite with Flutter. After six months, the team came to the conclusion that it would be difficult to make all the live data compatible and challenging to update the existing business logic.</p>
<p>The team decided that it wasn’t productive to update the existing features of a mature product with the new framework. Flutter’s strengths would be better used in a brand-new app. The team lead said, “In a mature product, everything is already well built with native Android or iOS technology. There isn’t much gain in re-implementing the features with Flutter only to make minor improvements. It also increases the package size since the Flutter engine is included in the package. In new products or new scenarios, however, Flutter can greatly increase our productivity.”</p>
<p>With this changed mindset, the team turned their focus to new business areas such as education.</p>
<p>One of their education apps in China helps students learn the order of strokes of Chinese characters; the team wanted to add a stroke tracking feature.</p>
<p>To implement it, the team took inspiration from some open-source projects and decided to use SVG paths to represent strokes. The paths would then be adjusted and positioned to compose the characters:</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*eJK4geRY6r6kvPb-" />
</figure>

<p>They defined the skeleton of each stroke to guide the movement of the virtual brush pen, so the pen moves just like it would in calligraphy:</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*KRHUVfNaxppJLr86" />
</figure>

<p>Based on the defined order of the skeletons, a circle with a certain radius is drawn along each skeleton, and together these circles form the stroke. After that, the team added keyframes to ensure that the frame rate of the animation is high enough to avoid jank.</p>
<p>That is how they created the smooth tracking effect, as shown in the following GIF:</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/600/0*WeR31rSBMqkRT6q_" />
</figure>

<p>The feature, built with Flutter, now supports over 9,000 Chinese characters, including most of the commonly used characters. Compared to developing with native code, Flutter saved time and resources.</p>
<p>Today, many apps by ByteDance employ a hybrid approach to development, combining the strengths of Flutter and other technologies, with newer apps leaning towards pure Flutter. For apps such as Xigua Video, TikTok Volcano, and Open Language, Flutter increased the productivity of the teams by about 33%.</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/928/0*h1swTfindfOd_uAB" />
</figure>

<h3 id="ByteDancers-Embrace-the-Latest-Technology"><a href="#ByteDancers-Embrace-the-Latest-Technology" class="headerlink" title="ByteDancers Embrace the Latest Technology"></a>ByteDancers Embrace the Latest Technology</h3><p>Even now, the Flutter team at ByteDance continues to explore the latest technologies. According to the team lead, “We have in our team many tech enthusiasts with global vision, and will continue to explore global technology developments and discuss the implementation of technology. We have close connections and collaborations with many tech companies. We have quarterly sync meetings with Google, for instance, to exchange progress, thoughts, needs, and ideas from both sides.”</p>
<p>One day, the maintainer of the Dart open source project on GitHub came to the ByteDance team lead with the following remarks, “Someone from your team submitted more than a dozen PRs to Dart and they’re all very good and well thought out.”</p>
<p>The Dart open source project maintainer was talking about Frank. Frank is a passionate open-source contributor and just got his bachelor’s degree three years ago. His journey in the open source world first started during his first year of university in 2015. One of the projects he created and open-sourced on GitHub had over 700 stars. “It has had hundreds of downloads per year, and many game developers use it to create demos”, Frank said.</p>
<p>After graduation, Frank joined the Flutter team at ByteDance and became one of the most active open-source contributors on the team, contributing a number of PRs to Dart and Flutter. Frank remembers that when he was working on the package size issues, he proactively followed up on a relevant issue on the Dart GitHub project and noticed that the Specializer component could use some further tuning. He created a patch with his improvements to the Dart compiler middleware and submitted it to the project. The patch wasn’t accepted initially because of the large number of code blocks affected and a few minor concerns. He modified the patch seven times before it was accepted, and it was merged into the code base a week later.</p>
<p>There are many other open-source enthusiasts like Frank in the Flutter team at ByteDance.</p>
<p>The ByteDance team summarized this passionate attitude toward innovation with the following words:</p>
<p>“There are indeed many people in the industry who prefer mature technology, but it takes time for every technology to mature, and there will always be people like us who love to stay on the cutting edge.”</p>
<p>This is especially true for something as novel as Flutter. There needs to be some daring people who take the first steps. At ByteDance, the Flutter engineering team, as well as the engineering teams that they support, actively try and embrace new technologies. Doing this benefited ByteDance tremendously and greatly increased our productivity.</p>
<p>ByteDance has always wanted to be part of things that could push the industry forward, and Flutter is likely to be one of those things.</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=c22f4b6dc9ef" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/google-i-o-spotlight-flutter-in-action-at-bytedance-c22f4b6dc9ef">Google I&#x2F;O spotlight: Flutter in action at ByteDance</a> was originally published in <a href="https://medium.com/flutter">Flutter</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/faf6e4ac.html" data-id="cm1ozcxy8000jlw17cs4pcssf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/bytedance/" rel="tag">bytedance</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter/" rel="tag">flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flutter-app-development/" rel="tag">flutter-app-development</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/9/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/11/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Dart/">Dart</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/">Flutter</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/17daysofflutter/" rel="tag">17daysofflutter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/2d-animation/" rel="tag">2d-animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/3d/" rel="tag">3d</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/404/" rel="tag">404</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/404-page/" rel="tag">404-page</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flutter/" rel="tag">Flutter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/a11y/" rel="tag">a11y</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/accessibility/" rel="tag">accessibility</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/adaptive-ui/" rel="tag">adaptive-ui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/adobe/" rel="tag">adobe</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/adobe-xd/" rel="tag">adobe-xd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ads/" rel="tag">ads</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ai/" rel="tag">ai</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/" rel="tag">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-app-development/" rel="tag">android-app-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-development/" rel="tag">android-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/" rel="tag">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation-and-design/" rel="tag">animation-and-design</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/announcements/" rel="tag">announcements</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/announcment/" rel="tag">announcment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/app-development/" rel="tag">app-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apple/" rel="tag">apple</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apps/" rel="tag">apps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/breaking-changes/" rel="tag">breaking-changes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bytedance/" rel="tag">bytedance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/casual-games/" rel="tag">casual-games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/challenge/" rel="tag">challenge</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloud/" rel="tag">cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloud-firestore/" rel="tag">cloud-firestore</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/code-samples/" rel="tag">code-samples</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/codepen/" rel="tag">codepen</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/coding/" rel="tag">coding</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/competition/" rel="tag">competition</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/contests/" rel="tag">contests</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/continuous-integration/" rel="tag">continuous-integration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/course/" rel="tag">course</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cpu-profiling/" rel="tag">cpu-profiling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/crashlytics/" rel="tag">crashlytics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cross-platform/" rel="tag">cross-platform</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cross-platform-apps/" rel="tag">cross-platform-apps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/crossword-puzzles/" rel="tag">crossword-puzzles</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dark-theme/" rel="tag">dark-theme</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dart/" rel="tag">dart</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dart-devtools/" rel="tag">dart-devtools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dart-programming-language/" rel="tag">dart-programming-language</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dartlang/" rel="tag">dartlang</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dependency-injection/" rel="tag">dependency-injection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deprecated/" rel="tag">deprecated</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design/" rel="tag">design</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design-process/" rel="tag">design-process</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design-systems/" rel="tag">design-systems</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/designer/" rel="tag">designer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/desktop/" rel="tag">desktop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/developer/" rel="tag">developer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/developer-experience/" rel="tag">developer-experience</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/developer-tools/" rel="tag">developer-tools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/development/" rel="tag">development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/devtools/" rel="tag">devtools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/education-technology/" rel="tag">education-technology</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/enterprise-technology/" rel="tag">enterprise-technology</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/events/" rel="tag">events</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/extension-development/" rel="tag">extension-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/figma/" rel="tag">figma</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/firebase/" rel="tag">firebase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/firebase-cloud-functions/" rel="tag">firebase-cloud-functions</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter/" rel="tag">flutter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-animation/" rel="tag">flutter-animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-app-development/" rel="tag">flutter-app-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-desktop/" rel="tag">flutter-desktop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-development/" rel="tag">flutter-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-devtools/" rel="tag">flutter-devtools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-forward/" rel="tag">flutter-forward</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-game/" rel="tag">flutter-game</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-game-development/" rel="tag">flutter-game-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-navigator/" rel="tag">flutter-navigator</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-on-the-web/" rel="tag">flutter-on-the-web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-package/" rel="tag">flutter-package</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-plugin/" rel="tag">flutter-plugin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-routing/" rel="tag">flutter-routing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-web/" rel="tag">flutter-web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-web-development/" rel="tag">flutter-web-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-widget/" rel="tag">flutter-widget</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter-windows/" rel="tag">flutter-windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutterday/" rel="tag">flutterday</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/functional-programming/" rel="tag">functional-programming</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/game-development/" rel="tag">game-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/" rel="tag">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gemini/" rel="tag">gemini</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gestures/" rel="tag">gestures</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/global-citizen/" rel="tag">global-citizen</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google/" rel="tag">google</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google-ads/" rel="tag">google-ads</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google-cloud-run/" rel="tag">google-cloud-run</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google-earth/" rel="tag">google-earth</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google-fonts/" rel="tag">google-fonts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google-io-2024/" rel="tag">google-io-2024</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google-news-initiative/" rel="tag">google-news-initiative</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google-summer-of-code/" rel="tag">google-summer-of-code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/graphics/" rel="tag">graphics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/graphics-programming/" rel="tag">graphics-programming</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gsoc/" rel="tag">gsoc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/guides-and-tutorials/" rel="tag">guides-and-tutorials</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hamilton/" rel="tag">hamilton</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hot-reload/" rel="tag">hot-reload</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ibm/" rel="tag">ibm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/icons/" rel="tag">icons</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/integrated-development/" rel="tag">integrated-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/integration-testing/" rel="tag">integration-testing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/interoperability/" rel="tag">interoperability</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios/" rel="tag">ios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios-app-development/" rel="tag">ios-app-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios-development/" rel="tag">ios-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keyboard/" rel="tag">keyboard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/learning/" rel="tag">learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/learning-and-development/" rel="tag">learning-and-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/learning-to-code/" rel="tag">learning-to-code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linting/" rel="tag">linting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/machine-learning/" rel="tag">machine-learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/material-design/" rel="tag">material-design</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/material-you/" rel="tag">material-you</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/meetup/" rel="tag">meetup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/" rel="tag">mobile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile-ads/" rel="tag">mobile-ads</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile-app-development/" rel="tag">mobile-app-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile-apps/" rel="tag">mobile-apps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile-development/" rel="tag">mobile-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile-programming/" rel="tag">mobile-programming</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/monetization/" rel="tag">monetization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/multiplatform/" rel="tag">multiplatform</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/news/" rel="tag">news</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/null-safety/" rel="tag">null-safety</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nullpointerexception/" rel="tag">nullpointerexception</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/open-source/" rel="tag">open-source</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/payments/" rel="tag">payments</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/performance/" rel="tag">performance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/performance-testing/" rel="tag">performance-testing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/policy/" rel="tag">policy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/programming/" rel="tag">programming</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prototyping/" rel="tag">prototyping</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pub/" rel="tag">pub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pubdev/" rel="tag">pubdev</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/range-slider/" rel="tag">range-slider</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/realm/" rel="tag">realm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/recaps/" rel="tag">recaps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/release-notes/" rel="tag">release-notes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/releases/" rel="tag">releases</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/roadmaps/" rel="tag">roadmaps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/routesetting/" rel="tag">routesetting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shaders/" rel="tag">shaders</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slider/" rel="tag">slider</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/software-development/" rel="tag">software-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/software-testing/" rel="tag">software-testing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/strategy/" rel="tag">strategy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/surveys/" rel="tag">surveys</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tablets/" rel="tag">tablets</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/technology/" rel="tag">technology</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/technology-news/" rel="tag">technology-news</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tensorflow/" rel="tag">tensorflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/testing/" rel="tag">testing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typography/" rel="tag">typography</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ui/" rel="tag">ui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ui-design/" rel="tag">ui-design</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/updates/" rel="tag">updates</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/user-experience/" rel="tag">user-experience</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/user-interface/" rel="tag">user-interface</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/user-research/" rel="tag">user-research</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ux/" rel="tag">ux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ux-design/" rel="tag">ux-design</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ux-research/" rel="tag">ux-research</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wasm/" rel="tag">wasm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-design/" rel="tag">web-design</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-development/" rel="tag">web-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webassembly/" rel="tag">webassembly</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/" rel="tag">windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-development/" rel="tag">windows-development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xcode/" rel="tag">xcode</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/17daysofflutter/" style="font-size: 10px;">17daysofflutter</a> <a href="/tags/2d-animation/" style="font-size: 10px;">2d-animation</a> <a href="/tags/3d/" style="font-size: 10px;">3d</a> <a href="/tags/404/" style="font-size: 10px;">404</a> <a href="/tags/404-page/" style="font-size: 10px;">404-page</a> <a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/Flutter/" style="font-size: 10.63px;">Flutter</a> <a href="/tags/a11y/" style="font-size: 10px;">a11y</a> <a href="/tags/accessibility/" style="font-size: 10.63px;">accessibility</a> <a href="/tags/adaptive-ui/" style="font-size: 10px;">adaptive-ui</a> <a href="/tags/adobe/" style="font-size: 10px;">adobe</a> <a href="/tags/adobe-xd/" style="font-size: 10.63px;">adobe-xd</a> <a href="/tags/ads/" style="font-size: 10.63px;">ads</a> <a href="/tags/ai/" style="font-size: 11.88px;">ai</a> <a href="/tags/android/" style="font-size: 13.75px;">android</a> <a href="/tags/android-app-development/" style="font-size: 13.75px;">android-app-development</a> <a href="/tags/android-development/" style="font-size: 10px;">android-development</a> <a href="/tags/animation/" style="font-size: 10px;">animation</a> <a href="/tags/animation-and-design/" style="font-size: 10px;">animation-and-design</a> <a href="/tags/announcements/" style="font-size: 19.38px;">announcements</a> <a href="/tags/announcment/" style="font-size: 10px;">announcment</a> <a href="/tags/app-development/" style="font-size: 15px;">app-development</a> <a href="/tags/apple/" style="font-size: 10.63px;">apple</a> <a href="/tags/apps/" style="font-size: 10.63px;">apps</a> <a href="/tags/breaking-changes/" style="font-size: 10px;">breaking-changes</a> <a href="/tags/bytedance/" style="font-size: 10px;">bytedance</a> <a href="/tags/casual-games/" style="font-size: 10px;">casual-games</a> <a href="/tags/challenge/" style="font-size: 10px;">challenge</a> <a href="/tags/cloud/" style="font-size: 10.63px;">cloud</a> <a href="/tags/cloud-firestore/" style="font-size: 10px;">cloud-firestore</a> <a href="/tags/code-samples/" style="font-size: 10px;">code-samples</a> <a href="/tags/codepen/" style="font-size: 10px;">codepen</a> <a href="/tags/coding/" style="font-size: 10px;">coding</a> <a href="/tags/competition/" style="font-size: 10px;">competition</a> <a href="/tags/contests/" style="font-size: 10.63px;">contests</a> <a href="/tags/continuous-integration/" style="font-size: 10px;">continuous-integration</a> <a href="/tags/course/" style="font-size: 10px;">course</a> <a href="/tags/cpu-profiling/" style="font-size: 10px;">cpu-profiling</a> <a href="/tags/crashlytics/" style="font-size: 10px;">crashlytics</a> <a href="/tags/cross-platform/" style="font-size: 10.63px;">cross-platform</a> <a href="/tags/cross-platform-apps/" style="font-size: 10px;">cross-platform-apps</a> <a href="/tags/crossword-puzzles/" style="font-size: 10px;">crossword-puzzles</a> <a href="/tags/dark-theme/" style="font-size: 10px;">dark-theme</a> <a href="/tags/dart/" style="font-size: 18.13px;">dart</a> <a href="/tags/dart-devtools/" style="font-size: 10px;">dart-devtools</a> <a href="/tags/dart-programming-language/" style="font-size: 10px;">dart-programming-language</a> <a href="/tags/dartlang/" style="font-size: 13.75px;">dartlang</a> <a href="/tags/dependency-injection/" style="font-size: 10px;">dependency-injection</a> <a href="/tags/deprecated/" style="font-size: 10px;">deprecated</a> <a href="/tags/design/" style="font-size: 11.88px;">design</a> <a href="/tags/design-process/" style="font-size: 10px;">design-process</a> <a href="/tags/design-systems/" style="font-size: 10px;">design-systems</a> <a href="/tags/designer/" style="font-size: 10px;">designer</a> <a href="/tags/desktop/" style="font-size: 11.25px;">desktop</a> <a href="/tags/developer/" style="font-size: 11.25px;">developer</a> <a href="/tags/developer-experience/" style="font-size: 15.63px;">developer-experience</a> <a href="/tags/developer-tools/" style="font-size: 10.63px;">developer-tools</a> <a href="/tags/development/" style="font-size: 11.88px;">development</a> <a href="/tags/devtools/" style="font-size: 10.63px;">devtools</a> <a href="/tags/education-technology/" style="font-size: 10px;">education-technology</a> <a href="/tags/enterprise-technology/" style="font-size: 10px;">enterprise-technology</a> <a href="/tags/events/" style="font-size: 10px;">events</a> <a href="/tags/extension-development/" style="font-size: 10px;">extension-development</a> <a href="/tags/figma/" style="font-size: 10px;">figma</a> <a href="/tags/firebase/" style="font-size: 14.38px;">firebase</a> <a href="/tags/firebase-cloud-functions/" style="font-size: 10px;">firebase-cloud-functions</a> <a href="/tags/flutter/" style="font-size: 20px;">flutter</a> <a href="/tags/flutter-animation/" style="font-size: 11.25px;">flutter-animation</a> <a href="/tags/flutter-app-development/" style="font-size: 18.75px;">flutter-app-development</a> <a href="/tags/flutter-desktop/" style="font-size: 11.88px;">flutter-desktop</a> <a href="/tags/flutter-development/" style="font-size: 10.63px;">flutter-development</a> <a href="/tags/flutter-devtools/" style="font-size: 10px;">flutter-devtools</a> <a href="/tags/flutter-forward/" style="font-size: 10px;">flutter-forward</a> <a href="/tags/flutter-game/" style="font-size: 10.63px;">flutter-game</a> <a href="/tags/flutter-game-development/" style="font-size: 10.63px;">flutter-game-development</a> <a href="/tags/flutter-navigator/" style="font-size: 10px;">flutter-navigator</a> <a href="/tags/flutter-on-the-web/" style="font-size: 10px;">flutter-on-the-web</a> <a href="/tags/flutter-package/" style="font-size: 10.63px;">flutter-package</a> <a href="/tags/flutter-plugin/" style="font-size: 11.88px;">flutter-plugin</a> <a href="/tags/flutter-routing/" style="font-size: 10px;">flutter-routing</a> <a href="/tags/flutter-web/" style="font-size: 15.63px;">flutter-web</a> <a href="/tags/flutter-web-development/" style="font-size: 10px;">flutter-web-development</a> <a href="/tags/flutter-widget/" style="font-size: 10.63px;">flutter-widget</a> <a href="/tags/flutter-windows/" style="font-size: 10px;">flutter-windows</a> <a href="/tags/flutterday/" style="font-size: 10px;">flutterday</a> <a href="/tags/functional-programming/" style="font-size: 10px;">functional-programming</a> <a href="/tags/game-development/" style="font-size: 13.75px;">game-development</a> <a href="/tags/games/" style="font-size: 13.75px;">games</a> <a href="/tags/gemini/" style="font-size: 10px;">gemini</a> <a href="/tags/gestures/" style="font-size: 10px;">gestures</a> <a href="/tags/global-citizen/" style="font-size: 10px;">global-citizen</a> <a href="/tags/google/" style="font-size: 15px;">google</a> <a href="/tags/google-ads/" style="font-size: 10.63px;">google-ads</a> <a href="/tags/google-cloud-run/" style="font-size: 10px;">google-cloud-run</a> <a href="/tags/google-earth/" style="font-size: 10px;">google-earth</a> <a href="/tags/google-fonts/" style="font-size: 10px;">google-fonts</a> <a href="/tags/google-io-2024/" style="font-size: 10px;">google-io-2024</a> <a href="/tags/google-news-initiative/" style="font-size: 10px;">google-news-initiative</a> <a href="/tags/google-summer-of-code/" style="font-size: 10px;">google-summer-of-code</a> <a href="/tags/graphics/" style="font-size: 10px;">graphics</a> <a href="/tags/graphics-programming/" style="font-size: 10px;">graphics-programming</a> <a href="/tags/gsoc/" style="font-size: 10px;">gsoc</a> <a href="/tags/guides-and-tutorials/" style="font-size: 10px;">guides-and-tutorials</a> <a href="/tags/hamilton/" style="font-size: 10px;">hamilton</a> <a href="/tags/hot-reload/" style="font-size: 10px;">hot-reload</a> <a href="/tags/iOS/" style="font-size: 10px;">iOS</a> <a href="/tags/ibm/" style="font-size: 10px;">ibm</a> <a href="/tags/icons/" style="font-size: 10px;">icons</a> <a href="/tags/integrated-development/" style="font-size: 10px;">integrated-development</a> <a href="/tags/integration-testing/" style="font-size: 10px;">integration-testing</a> <a href="/tags/interoperability/" style="font-size: 10px;">interoperability</a> <a href="/tags/ios/" style="font-size: 15px;">ios</a> <a href="/tags/ios-app-development/" style="font-size: 13.75px;">ios-app-development</a> <a href="/tags/ios-development/" style="font-size: 10.63px;">ios-development</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/keyboard/" style="font-size: 10px;">keyboard</a> <a href="/tags/learning/" style="font-size: 10.63px;">learning</a> <a href="/tags/learning-and-development/" style="font-size: 10px;">learning-and-development</a> <a href="/tags/learning-to-code/" style="font-size: 10px;">learning-to-code</a> <a href="/tags/linting/" style="font-size: 10px;">linting</a> <a href="/tags/linux/" style="font-size: 10.63px;">linux</a> <a href="/tags/machine-learning/" style="font-size: 10px;">machine-learning</a> <a href="/tags/material-design/" style="font-size: 12.5px;">material-design</a> <a href="/tags/material-you/" style="font-size: 10px;">material-you</a> <a href="/tags/meetup/" style="font-size: 10px;">meetup</a> <a href="/tags/mobile/" style="font-size: 11.25px;">mobile</a> <a href="/tags/mobile-ads/" style="font-size: 10px;">mobile-ads</a> <a href="/tags/mobile-app-development/" style="font-size: 17.5px;">mobile-app-development</a> <a href="/tags/mobile-apps/" style="font-size: 10.63px;">mobile-apps</a> <a href="/tags/mobile-development/" style="font-size: 10.63px;">mobile-development</a> <a href="/tags/mobile-programming/" style="font-size: 10px;">mobile-programming</a> <a href="/tags/monetization/" style="font-size: 10px;">monetization</a> <a href="/tags/multiplatform/" style="font-size: 10.63px;">multiplatform</a> <a href="/tags/news/" style="font-size: 10.63px;">news</a> <a href="/tags/null-safety/" style="font-size: 10px;">null-safety</a> <a href="/tags/nullpointerexception/" style="font-size: 10px;">nullpointerexception</a> <a href="/tags/open-source/" style="font-size: 11.25px;">open-source</a> <a href="/tags/payments/" style="font-size: 10px;">payments</a> <a href="/tags/performance/" style="font-size: 12.5px;">performance</a> <a href="/tags/performance-testing/" style="font-size: 10px;">performance-testing</a> <a href="/tags/policy/" style="font-size: 10px;">policy</a> <a href="/tags/programming/" style="font-size: 15px;">programming</a> <a href="/tags/prototyping/" style="font-size: 10px;">prototyping</a> <a href="/tags/pub/" style="font-size: 10px;">pub</a> <a href="/tags/pubdev/" style="font-size: 10px;">pubdev</a> <a href="/tags/range-slider/" style="font-size: 10px;">range-slider</a> <a href="/tags/realm/" style="font-size: 10px;">realm</a> <a href="/tags/recaps/" style="font-size: 10px;">recaps</a> <a href="/tags/release-notes/" style="font-size: 13.13px;">release-notes</a> <a href="/tags/releases/" style="font-size: 14.38px;">releases</a> <a href="/tags/roadmaps/" style="font-size: 10px;">roadmaps</a> <a href="/tags/routesetting/" style="font-size: 10px;">routesetting</a> <a href="/tags/shaders/" style="font-size: 10px;">shaders</a> <a href="/tags/slider/" style="font-size: 10px;">slider</a> <a href="/tags/software-development/" style="font-size: 10px;">software-development</a> <a href="/tags/software-testing/" style="font-size: 10px;">software-testing</a> <a href="/tags/strategy/" style="font-size: 10.63px;">strategy</a> <a href="/tags/surveys/" style="font-size: 16.25px;">surveys</a> <a href="/tags/tablets/" style="font-size: 10.63px;">tablets</a> <a href="/tags/technology/" style="font-size: 10px;">technology</a> <a href="/tags/technology-news/" style="font-size: 10px;">technology-news</a> <a href="/tags/tensorflow/" style="font-size: 10px;">tensorflow</a> <a href="/tags/testing/" style="font-size: 12.5px;">testing</a> <a href="/tags/typography/" style="font-size: 10.63px;">typography</a> <a href="/tags/ui/" style="font-size: 10.63px;">ui</a> <a href="/tags/ui-design/" style="font-size: 11.25px;">ui-design</a> <a href="/tags/updates/" style="font-size: 10px;">updates</a> <a href="/tags/user-experience/" style="font-size: 11.88px;">user-experience</a> <a href="/tags/user-interface/" style="font-size: 10px;">user-interface</a> <a href="/tags/user-research/" style="font-size: 10px;">user-research</a> <a href="/tags/ux/" style="font-size: 10.63px;">ux</a> <a href="/tags/ux-design/" style="font-size: 10.63px;">ux-design</a> <a href="/tags/ux-research/" style="font-size: 11.25px;">ux-research</a> <a href="/tags/wasm/" style="font-size: 10px;">wasm</a> <a href="/tags/web/" style="font-size: 12.5px;">web</a> <a href="/tags/web-design/" style="font-size: 10px;">web-design</a> <a href="/tags/web-development/" style="font-size: 16.88px;">web-development</a> <a href="/tags/webassembly/" style="font-size: 10.63px;">webassembly</a> <a href="/tags/windows/" style="font-size: 10.63px;">windows</a> <a href="/tags/windows-development/" style="font-size: 10px;">windows-development</a> <a href="/tags/xcode/" style="font-size: 10px;">xcode</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">六月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">五月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">四月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">九月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">八月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">六月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">五月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">四月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">三月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">九月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/archives/14c13b13.html">【文章翻譯】Announcing Dart 3.5, and an update on the Dart roadmap</a>
          </li>
        
          <li>
            <a href="/archives/8ddf18fb.html">【文章翻譯】Getting started with Flutter GPU</a>
          </li>
        
          <li>
            <a href="/archives/6243ded4.html">【文章翻譯】Announcing Flutter 3.24 and Dart 3.5</a>
          </li>
        
          <li>
            <a href="/archives/6243ded4.html">【文章翻譯】What’s new in Flutter 3.24</a>
          </li>
        
          <li>
            <a href="/archives/6975f342.html">【文章翻譯】How we built it: Creating the I/O Crossword puzzle, powered by AI</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 Rainvisitor<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FZZFH3T2TV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FZZFH3T2TV');
</script>
  </div>
</body>
</html>