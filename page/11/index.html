<!DOCTYPE html>
<html lang="zh-tw,default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.rainvisitor.me","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="RainVisitor Blog">
<meta property="og:url" content="https://blog.rainvisitor.me/page/11/index.html">
<meta property="og:site_name" content="RainVisitor Blog">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="Rainvisitor">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blog.rainvisitor.me/page/11/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-tw'
  };
</script>

  <title>RainVisitor Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">RainVisitor Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">RainVisitor</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw,default">
    <link itemprop="mainEntityOfPage" href="https://blog.rainvisitor.me/archives/d99ff4be.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rainvisitor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RainVisitor Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/archives/d99ff4be.html" class="post-title-link" itemprop="url">【文章翻譯】Gradual null safety migration for large Dart projects</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-31 21:47:06" itemprop="dateCreated datePublished" datetime="2022-03-31T21:47:06+08:00">2022-03-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-12-26 19:28:05" itemprop="dateModified" datetime="2024-12-26T19:28:05+08:00">2024-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Dart/" itemprop="url" rel="index"><span itemprop="name">Dart</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>【文章內容使用 Gemini 1.5 Pro 自動翻譯產生】</p>
<h2 id="大型-Dart-專案的漸進式空安全遷移"><a href="#大型-Dart-專案的漸進式空安全遷移" class="headerlink" title="大型 Dart 專案的漸進式空安全遷移"></a>大型 Dart 專案的漸進式空安全遷移</h2><figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*6-SfhIoFLl1NPaNi8Ld8Og.png" />
</figure>

<p>對於一個簡單的小套件來說，<a href="https://dart.dev/null-safety/migration-guide">Dart 空安全遷移</a> 需要 1-2 個小時的工作量，但對於一個大型專案來說，這可能是一場長達數月的馬拉松。理想情況下，您希望逐步遷移您的專案——在馬拉松期間，您希望保持您的專案可擴展、可維護且易於發佈。</p>
<p>我已經將一個大型專案遷移到空安全，並決定整理一些步驟和技巧，以說明如何使遷移過程可靠且高效，希望它能節省您的時間。</p>
<h3 id="步驟-1：轉換為非健全的空安全"><a href="#步驟-1：轉換為非健全的空安全" class="headerlink" title="步驟 1：轉換為非健全的空安全"></a>步驟 1：轉換為非健全的空安全</h3><p>首先，將您的專案遷移到<a href="https://dart.dev/null-safety/unsound-null-safety">非健全的空安全</a>。</p>
<p>首先將您的依賴項升級到空安全版本。非健全的空安全並不要求所有依賴項都是空安全的。但是，強烈建議等到所有上游依賴項都遷移完畢後再進行遷移，因為遷移依賴項可能會迫使您重新審視您自己程式碼中的遷移決策。對於相互依賴的套件，您可能被迫無序遷移，或者同時遷移這些套件（許多相互依賴的套件大多只在測試中相互引用）。請遵循 <a href="https://dart.dev/null-safety/migration-guide#update-dependencies">dart.dev 上的指南</a> 在遷移程式碼之前盡可能升級更多依賴項。</p>
<p>接下來，更新套件的 Dart SDK，並使用以下步驟將每個未遷移的函式庫標記為 legacy：</p>
<ol>
<li>確保您的 IDE（VSCode、IntelliJ &#x2F; Android Studio）已安裝 Dart 外掛。</li>
<li>在 IDE 中打開您的套件，並確保沒有編譯錯誤。</li>
<li>更新 pubspec.yaml 檔案中的 dart_sdk 依賴項，以要求版本範圍：<code>&gt;=2.12.0 &lt;3.0.0</code>。</li>
<li>IDE 將突出顯示尚未啟用空安全的函式庫中的空安全相關錯誤。透過在每個受影響檔案的頂部加入註釋 <code>// @dart=2.9</code> 來移除錯誤。即使您的 main.dart 檔案沒有錯誤，也要將註釋加入其中，以保持應用程式以非健全模式運行，直到您準備好切換為止。</li>
<li>驗證所有測試是否通過，並將變更提交到您的主分支。如果您的測試已經是空安全的，您將需要命令列標誌 <code>--no-sound-null-safety</code> 來抑制空安全錯誤。</li>
</ol>
<p>啟動應用程式時，請確保您在控制台中看到「以非健全的空安全模式運行」。</p>
<p>現在您已準備好一次遷移一個函式庫到健全的空安全。</p>
<h3 id="步驟-2：迭代到健全的空安全"><a href="#步驟-2：迭代到健全的空安全" class="headerlink" title="步驟 2：迭代到健全的空安全"></a>步驟 2：迭代到健全的空安全</h3><p>選擇一個或一組要遷移的函式庫。</p>
<blockquote>
<p><strong>專業提示</strong>：如果您選擇的函式庫很大，您可能希望在遷移之前將其分解成較小的函式庫。</p>
</blockquote>
<p>使用 <code>dart pub deps</code> 建立專案的依賴圖。最好自下而上地遷移套件；從依賴樹中的葉子開始，然後向上迭代到根。但是，如果您的專案具有依賴循環，這可能是不可能的，而且不遵循此順序也沒關係。</p>
<p>使用 <a href="https://dart.dev/null-safety/migration-guide">遷移工具</a> 遷移函式庫（或一組函式庫）：</p>
<ol>
<li>透過執行 <code>dart migrate --skip-import-check</code> 啟動互動式遷移工具。您可能希望 <code>cd</code> 到包含所選函式庫的目錄，以便在樹中更容易導航。</li>
<li>透過取消選取左側面板中檔案視圖樹的根來取消選取所有內容。（如有興趣，請投票支持新增 <a href="https://github.com/dart-lang/sdk/issues/48314"><strong>取消選取所有</strong> 按鈕</a>。）</li>
<li>使用 Control+F 找到您要遷移的檔案。</li>
<li>選取檔案，然後點擊 <strong>應用遷移</strong>。您可以透過兩種方式進行調整：(1) 在應用遷移之前使用註釋來調整工具的選擇，或 (2) 在應用遷移之後使用 IDE 來評估欄位、參數和變數的可空性。</li>
<li>在 IDE 中打開套件。修復錯誤，並在檔案中搜尋工具可能不準確的情況（請參見下面的潛在問題列表）。進行更正並使用 lint 警告以互動方式清理上游和下游程式碼。</li>
</ol>
<p>您將無法修復兩個 lint 錯誤：</p>
<ol>
<li><code>import_of_legacy_library_into_null_safe</code>（在已遷移的函式庫中）</li>
<li><code>avoid_redundant_argument_values</code>（在 legacy 函式庫中）</li>
</ol>
<p>現在，使用註釋停用這些錯誤。您將在遷移完成後清理這些錯誤。</p>
<p>需要注意的潛在工具不準確性：</p>
<ol>
<li>加入的類型 <code>dynamic</code> 或 <code>num</code>。您很可能知道應該使用哪種特定類型來代替。</li>
<li>在大多數情況下，<code>bool?</code> 可以透過預設值變為 <code>bool</code>。</li>
<li>類型轉換（搜尋 <code>as</code>）可能意味著該工具沒有加入泛型類型參數。加入之後，lint 會指示轉換已變得不必要，可以移除。</li>
<li>在某些情況下，該工具會使泛型參數上的界限可空，而最好將其設為不可空（搜尋 <code>?&gt;</code> 和 <code>?,</code>）。</li>
<li>該工具可能會使某些內容可空，而使用 <code>late</code> 或 <code>late final</code> 可以更好地表達，或者可以重構以允許在建構函式的初始化列表中進行初始化。（如有興趣，請投票支持新增 <a href="https://github.com/dart-lang/linter/issues/3267">lint</a>。）</li>
<li>使用空斷言運算子 <code>!</code> 而不先檢查空值可能意味著變數或參數實際上應該是非空的。（如有興趣，請投票支持新增 <a href="https://github.com/dart-lang/linter/issues/3266">lint</a>。）</li>
<li>該工具以 <code>collection as Iterable&lt;TheType&gt;</code> 的形式為集合加入轉換。有時，此變更只是使已經隱式的轉換變得明確。但是，在其他情況下，由於泛型引數的可空性不匹配，這些轉換可能會引入 <a href="https://stackoverflow.com/questions/72252891">執行時錯誤</a>。如有疑問，請考慮將轉換替換為每個元素的顯式轉換（例如，<code>collection.cast&lt;TheType&gt;()</code>），或考慮使用 <a href="https://pub.dev/documentation/collection/latest/collection/IterableNullableExtension/whereNotNull.html">package:collection 中的 whereNotNull 擴展方法</a>。</li>
<li>如果變數、欄位或參數是可空的，但可空性僅在測試中使用，則可能應該重構程式碼以移除該標識符的可空性。</li>
</ol>
<p>（感謝 <a href="https://github.com/kenzieschmoll">Kenzie Davisson</a> 幫助我識別出這些情況。）</p>
<h3 id="步驟-3：清理"><a href="#步驟-3：清理" class="headerlink" title="步驟 3：清理"></a>步驟 3：清理</h3><p>遷移所有函式庫後，請執行一些最終清理：</p>
<ol>
<li>清理禁用 lint 的註釋。</li>
<li>將剩餘的依賴項升級到空安全版本。</li>
<li>確保您的應用程式中沒有剩餘的 <code>//@dart = 2.9</code> 註釋。此時，啟動應用程式時，您應該在控制台中看到「以健全的空安全模式運行」。如果您沒有看到此訊息，則可能是您的函式庫尚未遷移（搜尋 <code>// @dart = 2.9</code>），或者依賴項尚未遷移。</li>
<li>確保應用程式仍然可以正常運行，並且測試通過。由於健全模式啟用了更強的執行時保證，因此當您啟用健全空安全時，您可能會看到新的執行時錯誤，您需要修復這些錯誤（儘管不太可能）。通常這是將可空集合（例如 <code>List&lt;int?&gt;</code>）轉換為不可空集合類型（例如 <code>List&lt;int&gt;</code>）的結果。</li>
</ol>
<p>祝您遷移順利！</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=85acb10b64a9" width="1" height="1" alt=""><hr><p><a href="https://medium.com/dartlang/gradual-null-safety-migration-for-large-dart-projects-85acb10b64a9">大型 Dart 專案的漸進式空安全遷移</a> 最初發佈在 <a href="https://medium.com/dartlang">Dart</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw,default">
    <link itemprop="mainEntityOfPage" href="https://blog.rainvisitor.me/archives/3cf2645d.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rainvisitor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RainVisitor Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/archives/3cf2645d.html" class="post-title-link" itemprop="url">【文章翻譯】Hosting a private Dart package repository</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-16 16:03:25" itemprop="dateCreated datePublished" datetime="2022-03-16T16:03:25+08:00">2022-03-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-12-26 19:28:05" itemprop="dateModified" datetime="2024-12-26T19:28:05+08:00">2024-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Dart/" itemprop="url" rel="index"><span itemprop="name">Dart</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>【文章內容使用 Gemini 1.5 Pro 自動翻譯產生】</p>
<h2 id="託管私有的-Dart-套件庫"><a href="#託管私有的-Dart-套件庫" class="headerlink" title="託管私有的 Dart 套件庫"></a>託管私有的 Dart 套件庫</h2><p>我們最近發布的 Dart 2.15 版本增加了對私有套件庫的支援。套件庫是一個託管 Dart 套件的伺服器，供 dart pub 客戶端使用。這篇文章討論了如何將私有套件庫與 <a href="https://pub.dev/">pub.dev</a> 一起使用，並利用 Dart 2.15 中引入的新的權杖驗證機制。</p>
<p>此功能已被 <a href="https://help.cloudsmith.io/docs/dart-repository">Cloudsmith</a> 和 <a href="https://jfrog.com/blog/how-to-use-pub-repositories-in-artifactory/">JFrog Artifactory</a> 採用，它們提供自定義套件庫作為服務：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/800/1*-xVF9afKxXP0_RTKs1pyxA.png" />
<figcaption>Cloudsmith 和 JFrog Artifactory 現在都提供私有 Dart 儲存庫。</figcaption>
</figure>

<h3 id="為什麼要使用自定義套件庫？"><a href="#為什麼要使用自定義套件庫？" class="headerlink" title="為什麼要使用自定義套件庫？"></a>為什麼要使用自定義套件庫？</h3><p>預設套件庫 <a href="https://pub.dev/">pub.dev</a> 由 Dart 團隊運營。它促進了 Dart 套件的發布以供公開使用，並允許任何 Dart 開發人員只需將套件的名稱添加到他們的 pubspec 檔案中即可使用這些套件。這使得活躍的生態系統可以建立豐富的 Dart 套件集合。但是，在以下情況下，自定義套件庫可能很有用：</p>
<ol>
<li>在組織內共享私有套件。這可能是一個希望在其成員之間共享內部專有套件，而不是與公眾共享的組織。</li>
<li>在企業環境中嚴格控制依賴項。一些公司希望明確地為批准使用的特定 <em>套件版本</em> 建立允許清單。這可能是為了執行程式碼審查策略或許可證合規性。</li>
<li>沒有公共網際網路存取的 sécurisé 環境。一些組織在一個監管環境中運作，在該環境中不允許連接到公共網際網路，進而也不允許連接到 <a href="https://pub.dev/">pub.dev</a>。這通常適用於政府機構&#x2F;承包商和一些銀行服務提供商。</li>
</ol>
<p>只需要共享一些專有套件的組織（情況 1）可能會使用 <a href="https://dart.dev/tools/pub/dependencies#git-packages">git 依賴項</a>。這是一個強大的機制，因為 dart pub 客戶端命令會調用 git 客戶端來複製 git 依賴項——透過這種方式，您可以使用 SSH 金鑰驗證複製依賴項，並使用 GitHub&#x2F;GitLab 團隊管理權限。由於 <a href="https://www.yubico.com/blog/github-now-supports-ssh-security-keys/">GitHub 支援使用 Yubikey 的 SSH</a>，此設定在某些情況下效果很好。</p>
<p>但是，在版本解決方面，dart pub 中的 git 依賴項有一些限制。當使用 git 依賴項時，dart pub 只會複製 pubspec.yaml 中指定的標籤&#x2F;分支&#x2F;引用，因為沒有嘗試多個版本依賴項的機制。因此，使用私有自定義套件庫可能很有吸引力，因為自定義套件庫可以向 dart pub 客戶端提供版本清單，允許 <a href="https://nex3.medium.com/pubgrub-2fb6470504f'">版本解決器</a> 選擇相容的版本並避免衝突。它還可以輕鬆地使用 <code>dart pub outdated</code> 和 <code>dart pub upgrade --major-versions</code> 升級私有和公共依賴項。</p>
<p>Git 依賴項不支援尋求 <em>更嚴格的依賴項控制</em>（情況 2）或使用 <em>沒有網際網路存取的 sécurisé 環境</em>（情況 3）的組織，因為許多套件必須鏡像。在這些情況下，幾乎總是最好只有一個自定義套件庫鏡像 <a href="https://pub.dev/">pub.dev</a> 的允許清單子集。</p>
<h3 id="使用自定義套件庫"><a href="#使用自定義套件庫" class="headerlink" title="使用自定義套件庫"></a>使用自定義套件庫</h3><p>從 Dart 2.15 開始，您可以使用 <em>簡短形式的託管依賴項</em> 語法依賴於來自自定義套件庫的套件：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dependencies:</span></span><br><span class="line">  <span class="attr">foo:</span></span><br><span class="line">    <span class="attr">hosted:</span> <span class="string">https://dart-packages.example.com</span></span><br><span class="line">    <span class="attr">version:</span> <span class="string">^1.4.0</span></span><br><span class="line"><span class="attr">environment:</span> </span><br><span class="line">  <span class="attr">sdk:</span> <span class="string">&gt;=2.15.0</span> <span class="string">&lt;3.0.0</span></span><br></pre></td></tr></table></figure>

<p>簡短形式的語法需要 SDK 約束 <code>&gt;=2.15.0</code>，因為舊版本的 Dart SDK 不支援此語法。如果您不想擔心語法，也可以只使用 <code>dart pub add</code> 命令從自定義套件庫中添加依賴項：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ dart pub add foo --hosted https://dart-packages.example.com</span><br><span class="line">Resolving dependencies... </span><br><span class="line">+ foo 1.4.0</span><br><span class="line">Changed 1 dependency!</span><br></pre></td></tr></table></figure>

<p>使用託管依賴項語法，可以將來自自定義套件庫的依賴項與來自官方套件庫的依賴項混合使用。以下範例依賴於來自 <code>dart-packages.example.com</code> 儲存庫的套件 <code>foo</code> 和來自 pub.dev 的套件 <code>retry</code>：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dependencies:</span></span><br><span class="line">  <span class="attr">retry:</span> <span class="string">^3.0.0</span></span><br><span class="line">  <span class="attr">foo:</span></span><br><span class="line">    <span class="attr">hosted:</span> <span class="string">https://dart-packages.example.com</span></span><br><span class="line">    <span class="attr">version:</span> <span class="string">^1.4.0</span></span><br><span class="line"><span class="attr">environment:</span> </span><br><span class="line">  <span class="attr">sdk:</span> <span class="string">&gt;=2.15.0</span> <span class="string">&lt;3.0.0</span></span><br></pre></td></tr></table></figure>

<p>當使用自定義套件庫共享私有套件時（情況 1），這很有用。但是對於 <em>更嚴格的依賴項控制</em>（情況 2）或在 <em>沒有網際網路存取的 sécurisé 環境</em>（情況 3）中工作，最好覆蓋預設套件庫。</p>
<h4 id="覆蓋預設套件庫"><a href="#覆蓋預設套件庫" class="headerlink" title="覆蓋預設套件庫"></a>覆蓋預設套件庫</h4><p>預設情況下，<code>dart pub get</code> 會從 pub.dev 獲取依賴項，除非使用託管依賴項語法指定自定義套件庫。但是，可以使用環境變數 <code>PUB_HOSTED_URL</code> 覆蓋 <em>預設套件庫</em>。當鏡像 pub.dev 的子集時（情況 2 或 3），此方法特別有用，因為無需更新 pubspec.yaml 檔案以引用自定義套件庫 URL。例如，只需編寫以下內容即可：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dependencies:</span></span><br><span class="line">  <span class="attr">retry:</span> <span class="string">^3.0.0</span></span><br><span class="line">  <span class="attr">foo:</span> <span class="string">^1.0.0</span></span><br></pre></td></tr></table></figure>

<p>如果套件 <code>retry</code> 和 <code>foo</code> 的允許清單版本被複製到自定義套件庫，並且環境變數 <code>PUB_HOSTED_URL</code> 指向自定義套件庫 URL，則 <code>pub get</code> 可以按如下方式工作：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> PUB_HOSTED_URL=https://dart-packages.example.com</span><br><span class="line">$ dart pub get</span><br><span class="line">Resolving dependencies... </span><br><span class="line">+ retry 3.1.0</span><br><span class="line">+ foo 1.4.0</span><br><span class="line">Changed 2 dependencies!</span><br></pre></td></tr></table></figure>

<p>當建置伺服器位於公司防火牆後面，並且不允許外部網路連線以避免當有人忘記設定 <code>PUB_HOSTED_URL</code> 時的意外注入攻擊時，這種方法效果最佳。同樣，建議在 pubspec.yaml 中設定 <code>publish_to: &lt;hosted-url&gt;</code>，以避免意外發布到 pub.dev（當未定義 <code>PUB_HOSTED_URL</code> 時）。</p>
<h4 id="針對自定義套件庫進行驗證"><a href="#針對自定義套件庫進行驗證" class="headerlink" title="針對自定義套件庫進行驗證"></a>針對自定義套件庫進行驗證</h4><p>大多數自定義套件庫可能是需要驗證的私有套件庫。Dart 2.15 引入了 <a href="https://dart.dev/tools/pub/cmd/pub-token"><code>dart pub token</code></a> 命令來管理驗證權杖。對自定義套件庫的請求使用秘密權杖進行驗證。您可以從自定義套件庫獲取秘密權杖，並將其傳遞給 <code>dart pub token add &lt;hosted-url&gt;</code>，它會提示輸入權杖，如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ dart pub token add https://dart-packages.example.com</span><br><span class="line">Enter secret token: [輸入秘密權杖]</span><br><span class="line">Requests to <span class="string">&quot;dart-packages.example.com&quot;</span> will now be authenticated using the secret token.</span><br></pre></td></tr></table></figure>


<h4 id="從-CI-環境進行驗證"><a href="#從-CI-環境進行驗證" class="headerlink" title="從 CI 環境進行驗證"></a>從 CI 環境進行驗證</h4><p>在 CI 中運行時，通常可以將 <a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets#about-encrypted-secrets">秘密儲存在環境變數中</a>，雖然可以使用 <code>echo $TOKEN | dart pub token add &lt;hosted-url&gt;</code> 傳遞秘密，但也可以告訴 dart pub 在與特定自定義儲存庫通信時從環境變數中讀取秘密：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ dart pub token add https://dart-packages.example.com --env-var MY_SECRET_TOKEN</span><br><span class="line">Requests to <span class="string">&quot;https://dart-packages.example.com&quot;</span> will now be authenticated using the secret token stored <span class="keyword">in</span> the environment variable <span class="string">&quot;MY_SECRET_TOKEN&quot;</span>.</span><br></pre></td></tr></table></figure>


<p>這可確保 dart pub 不會實際將秘密儲存在其設定檔中，而只是儲存它應該從環境變數 <code>$MY_SECRET_TOKEN</code> 中讀取秘密的事實。這允許在 CI 環境中操作時僅將秘密儲存在環境變數中，並降低了如果執行環境在 CI 作業之間共享時秘密意外洩露的風險。</p>
<h3 id="發布到自定義套件庫"><a href="#發布到自定義套件庫" class="headerlink" title="發布到自定義套件庫"></a>發布到自定義套件庫</h3><p>要將套件發布到自定義套件庫，您需要在 pubspec.yaml 中指定 <code>publish_to: &lt;hosted-url&gt;</code>，然後運行 <code>dart pub publish</code>。這使用與 <code>dart pub get</code> 使用的相同的權杖進行驗證。至少，您的 pubspec.yaml 檔案應如下所示：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">mypkg</span></span><br><span class="line"><span class="attr">version:</span> <span class="number">1.0</span><span class="number">.0</span></span><br><span class="line"><span class="attr">publish_to:</span> <span class="string">https://dart-packages.example.com</span></span><br><span class="line"><span class="attr">dependencies:</span></span><br><span class="line">  <span class="attr">meta:</span> <span class="string">^1.7.0</span></span><br><span class="line"><span class="attr">environment:</span></span><br><span class="line">  <span class="attr">sdk:</span> <span class="string">&gt;=2.15.0</span> <span class="string">&lt;3.0.0</span></span><br></pre></td></tr></table></figure>


<p>運行 <code>dart pub publish</code> 時，務必查看提供的資訊。在確認發布操作之前，您應始終執行以下操作：</p>
<ul>
<li>檢查套件將發布到的 URL。</li>
<li>查看要包含在套件中的檔案清單。</li>
<li>考慮套件驗證建議。例如：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ dart pub publish</span><br><span class="line">Publishing mypkg 1.0.0 to https://dart-packages.example.com</span><br><span class="line">|-- CHANGELOG.md</span><br><span class="line">|-- LICENSE</span><br><span class="line">|-- README.md</span><br><span class="line">|-- lib</span><br><span class="line">|   <span class="string">&#x27;-- mypkg.dart</span></span><br><span class="line"><span class="string">&#x27;</span>-- pubspec.yaml</span><br><span class="line">Package validation found the following potential issue:</span><br><span class="line">* It<span class="string">&#x27;s strongly recommended to include a &quot;homepage&quot; or &quot;repository&quot; field in your pubspec.yaml</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure>



<p>對於發布到自定義儲存庫，建議 <em>可能不</em> 重要，但提供套件的元資料通常很有用。在 pub.dev 上，具有正確元資料和文件的套件得分更高 <a href="https://pub.dev/help/scoring">pub 分數</a>。</p>
<p>可以透過使用環境變數 <code>PUB_HOSTED_URL</code> 覆蓋 <em>預設套件庫</em> 來發布到自定義儲存庫，但是，如果您這樣做，強烈建議您在 pubspec.yaml 檔案中指定 <code>publish_to: &lt;hosted-url&gt;</code>；這可以防止您意外地將專有套件發布到公共儲存庫。如果您不想將專有套件發布到 <em>任何</em> 套件儲存庫，請指定 <code>publish_to: none</code> 以防止意外發布。</p>
<h3 id="取得自定義套件庫"><a href="#取得自定義套件庫" class="headerlink" title="取得自定義套件庫"></a>取得自定義套件庫</h3><p>如前所述，自定義套件庫可作為多個商業供應商提供的服務，從而減輕您託管和維護自己的自定義套件庫的負擔。</p>
<h4 id="Cloudsmith-中的權杖驗證"><a href="#Cloudsmith-中的權杖驗證" class="headerlink" title="Cloudsmith 中的權杖驗證"></a>Cloudsmith 中的權杖驗證</h4><p>自 2020 年以來，Cloudsmith 一直提供私有和公共 Dart 套件庫。<a href="https://cloudsmith.com/resources/blog/improvements-to-dart-package-support">Cloudsmith 最近宣布</a> 支援其 Dart 套件庫產品的權杖驗證。有關更多資訊，請查看 <a href="https://help.cloudsmith.io/docs/dart-repository">Cloudsmith 文件</a>。</p>
<figure><a href="https://help.cloudsmith.io/docs/dart-repository"><img alt="" src="https://cdn-images-1.medium.com/max/454/1*hv1Nujq4-g2-y2uLuLYVqA.png" /></a><figcaption>由 Cloudsmith 託管的私有 Dart 套件庫。</figcaption></figure>


<h4 id="JFrog-Artifactory-中的-Dart-支援"><a href="#JFrog-Artifactory-中的-Dart-支援" class="headerlink" title="JFrog Artifactory 中的 Dart 支援"></a>JFrog Artifactory 中的 Dart 支援</h4><p>JFrog Artifactory 最近 <a href="https://jfrog.com/blog/how-to-use-pub-repositories-in-artifactory">宣布支援自定義 Dart 套件庫</a>，包括支援分層儲存庫和從 <a href="https://pub.com/">pub.dev</a> 上的公共套件庫鏡像套件。有關更多資訊，請查看 <a href="https://www.jfrog.com/confluence/display/JFROG/Pub+Repositories">JFrog Artifactory 文件</a>。</p>
<figure><a href="https://www.jfrog.com/confluence/display/JFROG/Pub+Repositories"><img alt="" src="https://cdn-images-1.medium.com/max/454/1*JeK8mYxYCn-XoeHUCJlPEg.png" /></a><figcaption>由 JFrog 管理的自定義 Dart 套件庫。</figcaption></figure>


<h4 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h4><p>對於那些想要編寫自己的自定義套件庫的人，我們發布了一個關於 <a href="https://github.com/dart-lang/pub/blob/master/doc/repository-spec-v2.md">提供 Dart 套件庫的規範</a>。它相當簡單，但如果您不清楚某些方面，或者您有任何改進建議，請隨時在 <a href="https://github.com/dart-lang/pub-dev/issues">pub.dev 儲存庫</a> 上提交問題。</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=774c3c51dff9" width="1" height="1" alt=""><hr><p><a href="https://medium.com/dartlang/hosting-a-private-dart-package-repository-774c3c51dff9">託管私有 Dart 套件庫</a> 最初發佈在 Medium 的 <a href="https://medium.com/dartlang">Dart</a> 上，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw,default">
    <link itemprop="mainEntityOfPage" href="https://blog.rainvisitor.me/archives/fe0724b4.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rainvisitor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RainVisitor Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/archives/fe0724b4.html" class="post-title-link" itemprop="url">【文章翻譯】Only a few days left to submit for the Flutter Puzzle Hack + announcing the judges</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-09 17:03:32" itemprop="dateCreated datePublished" datetime="2022-03-09T17:03:32+08:00">2022-03-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-09-30 16:55:14" itemprop="dateModified" datetime="2024-09-30T16:55:14+08:00">2024-09-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="在提交截止日期之前完成你的專案！"><a href="#在提交截止日期之前完成你的專案！" class="headerlink" title="在提交截止日期之前完成你的專案！"></a>在提交截止日期之前完成你的專案！</h2><figure>
<img alt="" src="https://cdn-images-1.medium.com/max/512/0*LgF82TK9xt1aI14Y" />
</figure>

<p>距離 <a href="https://flutterhack.devpost.com/">Flutter Puzzle Hack</a> 提交截止日期只剩下幾天了。我們對到目前為止看到的拼圖感到興奮，並且迫不及待地想看到更多！別忘了，獎品包括 4 台配備齊全的 MacBook、大量 Flutter 周邊商品以及超過 40 位獲獎者的現金，因此請務必提交您的作品，以爭取獲得這些很棒的獎品。</p>
<h3 id="歡迎來到-Flutter-社群"><a href="#歡迎來到-Flutter-社群" class="headerlink" title="歡迎來到 Flutter 社群"></a>歡迎來到 Flutter 社群</h3><p>隨著最終提交日期的迅速臨近，我們想藉此機會歡迎許多新開發人員加入 Flutter <a href="https://flutter.dev/community">社群</a>。我們迫不及待地想看看你們會做出什麼，當然，從你們的 Flutter Puzzle Hack 提交開始！</p>
<h3 id="宣布我們的評審"><a href="#宣布我們的評審" class="headerlink" title="宣布我們的評審"></a>宣布我們的評審</h3><p>為了慶祝 Flutter Puzzle Hack 的最後一周，我們很高興能宣布我們的評審，包括許多自 Flutter 成立以來就一直幫助構建此框架的 Flutter 老將。提交拼圖 Hack 作品是一個絕佳的機會，可以讓您在世界上頂尖的 Flutter 專家評審您的作品。</p>
<ul>
<li>Justin McCandless，Flutter 框架軟體工程師</li>
<li>Casey Hillers，Flutter 工程軟體工程師</li>
<li>Christian Padilla，Flutter 外掛軟體工程師</li>
<li>Devon Carew，Flutter 軟體工程師</li>
<li>Greg Spencer，Flutter 框架&#x2F;桌面軟體工程師</li>
<li>Michael Goderbauer，Flutter 框架首席軟體工程師</li>
<li>Craig Labenz，Flutter 開發者關係工程師</li>
<li>Yusuf Mohsinally，Flutter 工程軟體工程師</li>
<li>Laura Willis，Flutter 和 Firebase 產品行銷主管</li>
<li>Jay Chang，Flutter 產品行銷經理</li>
<li>Kelvin Boateng，Flutter 產品行銷經理</li>
<li>Huan Lin，Flutter on iOS 軟體工程師</li>
<li>Eric Windmill，Firebase 和 Flutter 開發者關係工程師</li>
</ul>
<h3 id="告訴我們您何時提交"><a href="#告訴我們您何時提交" class="headerlink" title="告訴我們您何時提交"></a>告訴我們您何時提交</h3><p>無論您還在構思您的想法，還是已經提交了您的應用程式，請在 Twitter 上使用標籤 <a href="https://twitter.com/hashtag/flutterpuzzlehack">#FlutterPuzzleHack</a> 標記我們，我們一定會與 Flutter 社群分享您的作品。</p>
<p>例如，看看 Twitter 使用者 <a href="https://twitter.com/roaakdm/status/1493614287515967492">Roaa</a> 正在為 <a href="https://twitter.com/timsneath/status/1493626374610845696?s=20&amp;t=q7LNbDwEVprqvF9MdRozKg">這個</a> 作品做些什麼：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*A_NEHVtXjdO7Cu0T" />
</figure>

<h3 id="仍然有時間！"><a href="#仍然有時間！" class="headerlink" title="仍然有時間！"></a>仍然有時間！</h3><p>如果您還在考慮開始提交，現在還不晚。查看 <a href="https://flutter.github.io/samples/slide_puzzle.html">樣板應用程式</a>，<a href="https://medium.com/flutter/how-to-build-your-own-flutter-slide-puzzle-93721ac5fad2">部落格文章</a> 解釋了應用程式的工作原理，然後前往 <a href="https://flutterhack.devpost.com/">flutterhack.devpost.com</a> 查看挑戰規則。</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=3b9f4817ae55" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/only-a-few-days-left-to-submit-for-the-flutter-puzzle-hack-announcing-the-judges-3b9f4817ae55">距離 Flutter Puzzle Hack 提交截止日期只剩下幾天了 + 宣布評審</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p></p>
<p><a href="http://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw,default">
    <link itemprop="mainEntityOfPage" href="https://blog.rainvisitor.me/archives/4d02ba89.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rainvisitor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RainVisitor Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/archives/4d02ba89.html" class="post-title-link" itemprop="url">【文章翻譯】Quick fixes for analysis issues</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-04 18:14:07" itemprop="dateCreated datePublished" datetime="2022-03-04T18:14:07+08:00">2022-03-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-12-26 19:28:05" itemprop="dateModified" datetime="2024-12-26T19:28:05+08:00">2024-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Dart/" itemprop="url" rel="index"><span itemprop="name">Dart</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>【文章內容使用 Gemini 1.5 Pro 自動翻譯產生】</p>
<h2 id="快速修復分析問題"><a href="#快速修復分析問題" class="headerlink" title="快速修復分析問題"></a>快速修復分析問題</h2><p>如果您像我一樣，太多的開發時間都花在修復分析器找到的問題（診斷）上。如果您曾經希望它可以更容易，那麼我有一些好消息要告訴您。分析器產生的許多診斷都可以使用快速修復自動修復。</p>
<p><em>快速修復</em> 是一種自動編輯，旨在修復特定診斷報告的問題。在 <a href="https://medium.com/dartlang/dart-diagnostic-messages-ae302aa398e8">Dart 診斷訊息</a> 文章中，我們查看了以下程式碼：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/520/0*PHnbrlzf5BzJAyp8" />
</figure>

<p>更正訊息建議了兩種解決問題的方法：「嘗試使存取成為條件式（使用 ‘?.’）或向目標添加 null 檢查（’!’）。」</p>
<p>如果您點擊突出顯示的區域（帶有紅色波浪線的區域），您會在編輯器左側看到一個燈泡圖示。如果您將滑鼠懸停在它上面，則可以點擊以打開包含可用快速修復的選單。</p>
<p>選單中提供了兩種建議的更正。選擇其中一個會將更改應用於您的程式碼。例如，如果您選擇第一個修復，它會將程式碼更新為以下內容：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/544/0*kv6ByFzA_oUH-1J-" />
</figure>

<p>讓我們先快速了解一下如何在 <a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> 和 <a href="https://code.visualstudio.com/">Visual Studio Code</a> 中應用修復，然後再看一個更強大的快速修復示例。</p>
<h3 id="IntelliJ-IDEA"><a href="#IntelliJ-IDEA" class="headerlink" title="IntelliJ IDEA"></a>IntelliJ IDEA</h3><p>編輯器中的上下文動作選單如下所示：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/744/0*SSy3gV3OrvEOjqyY" />
</figure>

<p>您可以透過從編輯器中的上下文選單中選擇「顯示上下文動作」或使用其鍵盤等效項（Windows 和 Linux 上為 <strong>Alt+Enter</strong>，macOS 上為 <strong>Option+Enter</strong>）來存取相同的列表。</p>
<p>當您將滑鼠懸停在突出顯示的區域上時，您也可以直接從懸停文字中調用這些修復。如果修復太多，則還有一個 <strong>更多動作</strong> 項目也會打開選單：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*9fUhfo7YYZeSkbwJ" />
</figure>

<p>如果這還不夠，您還可以從 Dart 分析視圖中的上下文選單中調用可用的修復：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*KOFAwRRqF1nxP-X4" />
</figure>

<h3 id="Visual-Studio-Code"><a href="#Visual-Studio-Code" class="headerlink" title="Visual Studio Code"></a>Visual Studio Code</h3><p>編輯器中的程式碼動作選單如下所示：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/718/0*6MrUQEB2aHocDDXS" />
</figure>

<p>前兩項是快速修復，其他項是重構。您可以透過使用其鍵盤等效項（Windows 和 Linux 上為 **Control+.**，MacOS 上為 **Command+.**）或從編輯器中的懸停文字中選擇 <strong>快速修復…</strong> 來存取相同的列表：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*t9j1bNBN9t_H_vGm" />
</figure>

<p>您也可以從「問題」面板中的上下文選單中調用它們：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/850/0*rD7c_L6FPLusv6lm" />
</figure>

<h3 id="另一個例子"><a href="#另一個例子" class="headerlink" title="另一個例子"></a>另一個例子</h3><p>雖然上面的修復可以節省您查找更正訊息然後手動進行編輯的時間和精力，但不可否認，添加單個字元並不是一個很大的時間節約。但是，某些修復可以提高生產力。請考慮以下程式碼：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/756/0*JudcB_TM8lvc32Ld" />
</figure>

<p>診斷告訴您「await 表達式只能在異步函數中使用。」假設您不想使用同步 I&#x2F;O，則更正方法是用 async 關鍵字標記函數的主體。這樣做會導致另一個錯誤，告訴您方法的返回類型需要是 Future，因此您最終還需要更新返回類型。</p>
<p>幸運的是，有一個針對原始問題的快速修復：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/752/0*sgdKZfY_KVOLiIJU" />
</figure>

<p>選擇此修復不僅會添加修飾符，還會更新返回類型，讓您一步即可解決問題：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/850/0*WW-9wW23CnKxWZO2" />
</figure>

<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>並非每個問題都可以自動修復，並且並非每個可以修復的問題都有快速修復。儘管如此，下次您需要修復診斷時，絕對值得檢查一下是否有可用的快速修復。如果您沒有看到應該有快速修復的診斷的修復，請透過 <a href="https://github.com/dart-lang/sdk/issues/new">建立 dart-lang&#x2F;sdk 問題</a> 告知我們。</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=c10df084971a" width="1" height="1" alt=""><hr><p><a href="https://medium.com/dartlang/quick-fixes-for-analysis-issues-c10df084971a">分析問題的快速修復</a> 最初發佈在 <a href="https://medium.com/dartlang">Dart</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw,default">
    <link itemprop="mainEntityOfPage" href="https://blog.rainvisitor.me/archives/f11fd2bd.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rainvisitor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RainVisitor Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/archives/f11fd2bd.html" class="post-title-link" itemprop="url">【文章翻譯】Q4 2021 user survey results: about null safety, ecosystem, text editing, and mobile development</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-22 21:40:08" itemprop="dateCreated datePublished" datetime="2022-02-22T21:40:08+08:00">2022-02-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-09-30 20:20:40" itemprop="dateModified" datetime="2024-09-30T20:20:40+08:00">2024-09-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="2021-年第四季使用者調查結果：關於空安全、生態系統、文字編輯和行動開發"><a href="#2021-年第四季使用者調查結果：關於空安全、生態系統、文字編輯和行動開發" class="headerlink" title="2021 年第四季使用者調查結果：關於空安全、生態系統、文字編輯和行動開發"></a>2021 年第四季使用者調查結果：關於空安全、生態系統、文字編輯和行動開發</h2><p>去年 11 月，Flutter UX 團隊進行了第 15 次季度使用者調查。調查透過 Flutter 的 IDE 外掛、YouTube、Twitter 和網站宣布。在兩個星期內，我們收集了 10,105 份回覆，創下歷史新高，我們了解到 Flutter 開發人員對 Flutter 仍然感到滿意。對 Flutter 感到滿意的人的比例為 92%，自 2019 年第四季以來一直保持穩定。</p>
<p>透過調查，Flutter 團隊也更詳細地了解 Flutter 的優缺點，並據此設定未來任務的優先順序。在這次調查中，我們詢問了以下四個主題，以深入了解這些領域。</p>
<ul>
<li>空安全</li>
<li>生態系統</li>
<li>文字編輯</li>
<li>行動開發</li>
</ul>
<p>為了讓調查簡短，我們向不同的群組詢問了不同的問題，因此您可能沒有看到所有這四個主題。無論如何，我們從所有參與者那裡收到了有意義的、具有統計意義的回饋。作為一個開源專案，我們試圖盡可能透明地公開我們收集的數據，因此我們在此分享結果和我們的收穫。</p>
<h3 id="Dart-空安全"><a href="#Dart-空安全" class="headerlink" title="Dart 空安全"></a>Dart 空安全</h3><p>Dart 空安全的穩定版本於 2021 年 3 月 <a href="https://medium.com/dartlang/announcing-dart-2-12-499a6e689c87">發佈</a>。這是該語言中最大的新增功能之一，我們提供了一個遷移工具和一個 <a href="https://dart.dev/null-safety/migration-guide">指南</a> 來幫助開發人員將現有程式碼遷移到空安全。我們想了解遷移的體驗對您來說如何，這樣我們就可以在未來嘗試進行類似語言變更時做得更好。</p>
<p>總體而言，過去 6 個月使用過 Dart 空安全的 89.5% 的人對此功能感到滿意。那些先前有空安全經驗的人（例如 Kotlin）更有可能對此功能感到滿意（+3 個百分點）。Dart 空安全最大的好處是「程式碼中的錯誤減少了」（79.4%），其次是「更容易理解的程式碼」（49.7%）。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*rgxmarvcoWZXajfo" />
<figcaption><em>79% 的使用者有 Dart 空安全的使用經驗，並且 90% 對此感到滿意</em></figcaption>
</figure>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*onZxbszDrpFkZpHa" />
<figcaption><em>大多數使用者 (79%) 表示 Dart 空安全減少了他們程式碼中的錯誤</em></figcaption>
</figure>

<p>有趣的是，39.9% 的人表示他們的所有程式碼都從一開始就使用空安全。鑑於調查是在穩定版空安全推出後僅 8 個月實施的，因此調查顯示了 Flutter 和 Dart 的快速發展，吸引了新的開發人員。這個結果也顯示了，59% 遷移程式碼的人以某種方式使用了遷移工具（22.0%+19.6%+6.7%&#x3D;22.0%）。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*rnrluPpgWlvPFw84" />
<figcaption><em>40% 的使用者從一開始就使用空安全，而 59% 的使用者將其程式碼遷移到空安全</em></figcaption>
</figure>

<p>總體而言，調查結果支持繼續發展 Dart 語言使其變得更好。我們將繼續改進並在過程中考慮您的體驗。請繼續提供您的回饋！</p>
<h3 id="生態系統"><a href="#生態系統" class="headerlink" title="生態系統"></a>生態系統</h3><p>隨著 Flutter 不斷成熟，其套件和外掛生態系統也得到了改善。這項改善包括來自社群的貢獻，以及 <a href="https://docs.flutter.dev/development/packages-and-plugins/favorites">Flutter Favorites</a>、<a href="https://plus.fluttercommunity.dev/">Plus 外掛</a> 和 <a href="https://www.youtube.com/playlist?list=PLjxrf2q8roU1quF6ny8oFHJ2gBdrYN_AK">Weekly Package</a> 等程式和促銷活動。如下所示，對生態系統的滿意度在過去 2 年中提高了 7 個百分點。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*9wOwZ1d4K6Yr3evt" />
<figcaption><em>對 Flutter 套件和外掛生態系統的滿意度在過去 2 年中提高了 7.5 個百分點</em></figcaption>
</figure>

<p>然而，我們仍然聽到您說，仍然有許多套件和外掛需要改進。為了更好地了解您的需求，我們詢問了「過去 3 個月是否有任何 Flutter 或 Dart 套件降低了您的應用程式開發生產力？」當 3,698 人中有 28.7% 對此問題回答「是」時，我們列出了 42 種不同的套件類型，並詢問了哪些套件降低了生產力。排名前 15 的套件如下。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*tySCnxRM1tJCRUFQ" />
<figcaption><em>雖然各種套件都導致開發人員生產力下降，但「Firebase」的排名第一，獲得了 22% 的投票。</em></figcaption>
</figure>

<p>Firebase 被 Flutter 使用者廣泛使用，這導致了相對較多的投票（22.1%）。我們將繼續投入到 Firebase 外掛（「<a href="https://firebase.flutter.dev/">FlutterFire</a>」外掛）中。例如，去年 12 月，我們 <a href="https://medium.com/flutter/whats-new-in-flutter-2-8-d085b763d181">發佈了 FlutterFire 外掛的穩定版本</a> 並對其進行了標準化。這意味著所有 FlutterFire 外掛現在都使用相同底層版本的 SDK，開發人員在混合和匹配外掛時不會遇到版本不兼容問題。我們計劃監控此情況，並希望在下次詢問這個問題時看到 Firebase 變成開發人員更有效的服務。</p>
<p>上面圖表中另一個值得注意的是，42 個常見項目無法涵蓋所有需求，而 19.2% 的人選擇指定降低生產力的「其他」類型的套件和外掛。這突出了我們只是一個社群才能解決的各種需求。</p>
<p>對於這些套件，最大的挑戰是功能完整性——23.1% 的人表示套件的功能不完整，因此他們必須使用多個套件才能實現類似功能，或者無法滿足他們的需求。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*OlvN2DIgkndtxdUc" />
<figcaption><em>套件的功能完整性是導致開發人員生產力下降的最主要因素</em></figcaption>
</figure>

<p>Flutter 團隊一直在努力改進我們第一方外掛的開發過程，使其更容易維護和改進。例如，webview_flutter 3.0 最近發佈，以解決許多頂級功能需求，我們將繼續投資於解決該外掛和其他外掛中投票數最高的議題。</p>
<p>即使我們自己繼續投入到 Flutter 和 Dart 團隊擁有的 <a href="https://pub.dev/publishers/labs.dart.dev/packages">數百個套件</a> <a href="https://pub.dev/publishers/flutter.dev/packages">中</a> <a href="https://pub.dev/publishers/dart.dev/packages">，</a> <a href="https://pub.dev/publishers/tools.dart.dev/packages">這些都是 Flutter 社群可以發揮關鍵作用的領域。當我們都投入套件開發時，我們都會受益！</a></p>
<h3 id="文字編輯"><a href="#文字編輯" class="headerlink" title="文字編輯"></a>文字編輯</h3><p>Flutter 提供了內建的 Widget，例如 TextField、TextFormField（以及它們的 Cupertino 對應物），以及各種套件，讓您可以在應用程式中加入文字編輯功能。當需要實作 live 篩選和格式化（例如，僅數字的電話號碼或價格輸入欄位）或豐富的文字編輯器（例如程式碼或數學公式編輯器）時，這會很快變得複雜。</p>
<p>從這次調查中，我們了解到大約 86.7% 的中級或高級經驗開發人員嘗試在他們的應用程式中加入文字編輯功能，而且對文字編輯功能的滿意度從單行 (82.3%) 和 live 篩選和格式化 (82.2%) 下降到多行 (69.6%) 和豐富文字編輯器 (66.6%)。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*J9YkkSqIT3dP1CzI" />
<figcaption><em>專家往往在將文字編輯功能加入應用程式方面擁有更多經驗</em></figcaption>
</figure>

<p>根據這個回饋，核心框架團隊計劃建立穩固的基本豐富文字編輯功能和 API 來支援套件。此外，團隊計劃更好地宣傳現有功能並建立更多範例。同時，您可以探索關於文字編輯變更的 <a href="https://docs.google.com/document/d/1PXNd_LwJudiUTnCM2AXRxbd98_p4BlFf6qFhEhv3wvs/edit">設計文件</a> 以查找有用的文件，以及 <a href="https://github.com/flutter/flutter/issues/87972">這個 GitHub 議題</a>，以了解進度。這項工作已經進行得很好，一些低階 API 現在已經在 master channel 中。</p>
<p>我們也聽說了與支援不同語言相關的挑戰。例如，我們清楚地聽到 RTL 和雙向文字（例如阿拉伯語）無法正常運作。雖然沒有書面路線圖，但我們計劃很快大力推動更好地支援 RTL 和雙向文字編輯。</p>
<h3 id="行動開發"><a href="#行動開發" class="headerlink" title="行動開發"></a>行動開發</h3><p>由於行動平台（iOS 和 Android）是 Flutter 最初正式支援的平台，因此大多數人都有在過去 6 個月內開發 iOS 或 Android 應用程式的經驗。團隊想更好地了解特定於平台的問題，例如與除錯和發佈相關的挑戰，以便團隊能夠更好地為其工程工作設定優先順序。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/812/0*TERDonM4zc_kafRm" />
<figcaption><em>過去 6 個月，分別有 72% 和 91% 的開發人員為 iOS 和 Android 開發應用程式</em></figcaption>
</figure>

<p>在除錯方面，在兩個平台上，使用者在加入或升級套件或外掛時，經常需要處理特定於平台的問題。雖然在許多情況下除錯 Android 問題並不常見，但值得注意的是，在 Android 上除錯以優化效能比 iOS 更常見。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*AiW2zfqRgJcWNqKn" />
<figcaption><em>在加入或升級套件或外掛時，除錯平台問題的頻率更高</em></figcaption>
</figure>

<p>我們還了解到，在發佈應用程式時，處理 Xcode（iOS）和 Gradle（Android）是最常見的問題，這與我們的直覺一致。我們已經讓 Flutter CLI 顯示針對常見 Gradle 錯誤的使用者友善錯誤訊息，這個功能已在最新更新 <a href="https://medium.com/flutter/whats-new-in-flutter-2-10-5aafb0314b12">Flutter 2.10</a> 中發佈。</p>
<p>我們將繼續改進這些構建系統錯誤的呈現方式，使其更容易理解和操作。對於 iOS，我們將在未來的版本 (<a href="https://github.com/flutter/flutter/issues/97179">相關議題在此</a>) 中加入 <code>flutter build ipa</code> 功能，使發佈變得更容易。更多 Xcode 設定也會自動填充到新專案 (<a href="https://github.com/flutter/flutter/issues/90020">議題</a>) 中。對於 Android，我們正在開發一個自動遷移工具，它將有助於查找 Gradle 配置檔案中的細微差異。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*3MXILeNbFbIFagLu" />
</figure>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*qtLcSyZO68tuY6Gk" />
<figcaption><em>超過 36% 的開發人員在發佈應用程式時處理 Xcode (iOS) 和 Gradle (Android) 問題</em></figcaption>
</figure>

<h3 id="接下來是什麼？"><a href="#接下來是什麼？" class="headerlink" title="接下來是什麼？"></a>接下來是什麼？</h3><p>開發人員越來越多地將 Flutter 作為他們主要工作的一部分使用。Flutter 團隊將繼續聆聽並使用您的回饋來塑造我們的技術。如果您有任何緊急問題，請在 <a href="https://github.com/flutter/flutter/issues">GitHub</a> 上提交議題。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*Zw_zyVq5CfP7Y09o" />
<figcaption><em>使用 Flutter 作為主要工作的開發人員比例一直在增加</em></figcaption>
</figure>

<p>Flutter 季度使用者調查將繼續尋找重要問題的答案。您也可以在 <a href="https://github.com/flutter/uxr/discussions/categories/research-ideas">GitHub</a> 上發佈您的研究想法。請留意下一次調查。此外，請考慮透過 <a href="https://docs.google.com/forms/d/e/1FAIpQLSe0i4De809KXVCdljGKrjMj3lxhuzbuFKCtY5PEQPCYtGxFMg/viewform">註冊參加未來的 UX 研究</a> 來參與其他研究。</p>
<p>再次感謝所有提供回饋的人！</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=5d33341954e9" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/q4-2021-user-survey-results-about-null-safety-ecosystem-text-editing-and-mobile-development-5d33341954e9">2021 年第四季使用者調查結果：關於空安全、生態系統、文字編輯和行動開發</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p> </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw,default">
    <link itemprop="mainEntityOfPage" href="https://blog.rainvisitor.me/archives/a9ce58c9.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rainvisitor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RainVisitor Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/archives/a9ce58c9.html" class="post-title-link" itemprop="url">【文章翻譯】Flutter in 2022: strategy and roadmap</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-09 18:43:26" itemprop="dateCreated datePublished" datetime="2022-02-09T18:43:26+08:00">2022-02-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-09-30 20:20:40" itemprop="dateModified" datetime="2024-09-30T20:20:40+08:00">2024-09-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="Flutter-在-2022-年的策略和路線圖"><a href="#Flutter-在-2022-年的策略和路線圖" class="headerlink" title="Flutter 在 2022 年的策略和路線圖"></a>Flutter 在 2022 年的策略和路線圖</h2><figure>
<img alt="Illustration of the Flutter and Dart mascot, Dash, looking across a cityscape, representing the future for our products." src="https://cdn-images-1.medium.com/max/1024/1*_CcfyhAWUIV8pWwuvdoSPA.png" />
</figure>

<h4 id="Flutter-在我們建立成長和動能的過程中所關注的領域"><a href="#Flutter-在我們建立成長和動能的過程中所關注的領域" class="headerlink" title="Flutter 在我們建立成長和動能的過程中所關注的領域"></a>Flutter 在我們建立成長和動能的過程中所關注的領域</h4><p>每年，我們和其他 Google 的大型團隊一樣，都會進行規劃過程，以設定我們在未來一年的目標和重點領域。通常，產品團隊會嚴格保護這些文件，因為它們可能包含商業敏感資訊，或與競爭優勢領域相關。然而，作為一個開源專案，我們認為透明度是一種美德：它可以讓人們更信賴我們的未來和方向，並讓其他人更清楚地了解他們的投資如何與我們的投資相連。</p>
<p>因此，今天我們首次與整個社群分享我們的 <a href="https://docs.google.com/document/d/e/2PACX-1vTI9X2XHN_IY8wDO4epQSD1CkRT8WDxf2CEExp5Ef4Id206UOMopkYqU73FvAnnYG6NAecNSDo9TaEO/pub">年度策略文件</a>。在這個文件中，我們表達了我們的使命，分享了一些指導原則，並描述了我們計劃在未來一年進行的主要投資。出於必要，我們做了一些小幅度修改（例如，商業敏感資料或對未宣布產品的參考），但我們相信這提供了對我們計劃良好的概述。這個策略文件應該與我們 wiki 上的 <a href="https://github.com/flutter/flutter/wiki/Roadmap">工程路線圖</a> 一起閱讀，後者提供了有關我們正在開發的功能的更多細節。</p>
<p>關於以上句子中使用「我們」這個詞的一個重要說明，這可能被理解為「那些 Google 付錢讓他們在 Flutter 上工作的人」。Flutter 是 Google 內外許多貢獻者的成果。雖然 Google 是最大的贊助商，以付費貢獻者的數量衡量，但它不是唯一的貢獻者。在過去的一年裡，數千名個人為該專案貢獻了他們的智慧財產和勞動力，從個人到 Canonical、Microsoft、ByteDance 和阿里巴巴等大型企業。</p>
<p>因此，雖然策略文件描述了 Google 的投資並分享了這些決策背後的理由，但它並不打算限制他人對 Flutter 的貢獻方式。我們希望我們的作品能夠很好地滿足整個社群的需求，但我們預計分享這個文件的一個好處是，其他人將看到他們自己的投資機會，無論是建立在 Google 計劃貢獻的作品之上，還是填補我們沒有優先考慮的領域。</p>
<p>這方面的例子包括 Sony 在 <a href="https://github.com/sony/flutter-embedded-linux">嵌入式 Linux</a> 上的工作；Toyota 和其他汽車公司在 <a href="https://www.youtube.com/watch?v=IUVnmdYBDxk">汽車級 Linux</a> 中使用 Flutter 的投資，以及三星和其他公司將 <a href="https://github.com/flutter-tizen/flutter-tizen">Flutter 移植到 Tizen</a> 的工作。雖然這些工作都沒有列在我們的策略文件中，但它仍然是 Flutter 專案的一部分，就像 Google 貢獻的任何程式碼一樣。當然，還有數萬個建立在框架之上的套件，其中絕大多數來自 Google 之外的開發人員。</p>
<p>最後一個免責聲明：我們的策略可能會隨著時間推移而演變，因為我們將繼續與社群互動，以及商業優先順序和策略的變化。因此，這裡所述的任何內容都不要被視為具有約束力的承諾，即使我們計劃將其作為我們的指南。</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=8c5eaf7c4275" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/flutter-in-2022-strategy-and-roadmap-8c5eaf7c4275">Flutter 在 2022 年：策略和路線圖</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p></p>
<p><a href="http://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw,default">
    <link itemprop="mainEntityOfPage" href="https://blog.rainvisitor.me/archives/c5450691.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rainvisitor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RainVisitor Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/archives/c5450691.html" class="post-title-link" itemprop="url">【文章翻譯】What’s New in Flutter 2.10</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-03 21:02:43" itemprop="dateCreated datePublished" datetime="2022-02-03T21:02:43+08:00">2022-02-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-09-30 16:55:14" itemprop="dateModified" datetime="2024-09-30T16:55:14+08:00">2024-09-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="宣布-Flutter-2-10：穩定版-Windows、效能提升、Material-3-更新等等！"><a href="#宣布-Flutter-2-10：穩定版-Windows、效能提升、Material-3-更新等等！" class="headerlink" title="宣布 Flutter 2.10：穩定版 Windows、效能提升、Material 3 更新等等！"></a>宣布 Flutter 2.10：穩定版 Windows、效能提升、Material 3 更新等等！</h2><p>我簡直不敢相信又到了 Flutter 穩定版本發佈的時候！大家好，歡迎來到 Flutter 2.10。距離我們上次發佈版本還不到兩個月，但即使在那段時間裡，我們也收到了來自全球 155 位貢獻者的 1,843 個已解決的議題和 1,525 個已合併的 PR。感謝大家辛勤付出，特別是在 2021 年的假期期間。 </p>
<p>這個版本有許多令人興奮的更新，包括 Flutter 對 Windows 支援的重大進展、幾個重要的效能提升、框架中對圖示和顏色的新支援，以及一些工具的改進。此外，我們還有一些關於移除 dev 頻道的更新、對舊版 iOS 的支援減少，以及一些重大變化的簡短清單。讓我們開始吧！</p>
<h3 id="Windows-上的生產應用程式準備就緒"><a href="#Windows-上的生產應用程式準備就緒" class="headerlink" title="Windows 上的生產應用程式準備就緒"></a>Windows 上的生產應用程式準備就緒</h3><p>首先，Flutter 2.10 版本帶來了 Windows 支援的穩定版本。您不再需要切換旗標來獲得在 Flutter 的 stable 頻道上生成 Windows 應用程式的功能 - 現在這個功能預設提供！</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*278rYAB5Pac8_7SD" />
</figure>

<p>當然，我們做的不僅僅是切換旗標。這個版本包括對文字處理、鍵盤處理和鍵盤快捷鍵的廣泛改進，以及與 Windows 的直接整合，支援命令列參數、全球化文字輸入和無障礙功能。</p>
<p>關於 Windows 穩定版發佈的更多資訊，請參閱 <a href="https://timsneath.medium.com/6979d0d01fed">宣布 Flutter for Windows 部落格文章</a>，這篇文章描述了 Flutter 在 Windows 上的架構，它允許深度整合，並讓您了解有多少 Flutter 套件和插件已經支援 Windows。您也可以看到我們的工具和應用程式合作夥伴使用 Flutter 在 Windows 上做的一些例子！</p>
<h3 id="效能提升"><a href="#效能提升" class="headerlink" title="效能提升"></a>效能提升</h3><p>此版本包含 Flutter 的初始支援，即由 Flutter 社群成員 <a href="https://github.com/knopp">knopp</a> 提供的 <strong>髒污區域管理</strong>。他為 <a href="https://github.com/flutter/engine/pull/28801">iOS&#x2F;Metal 上單個髒污區域啟用了局部重新繪製</a>。此變更將幾個基準測試的第 90 個和第 99 個百分位數的柵格化時間減少了數量級，並且將這些基準測試上的 GPU 使用率從 90% 以上降至 10% 以下。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*mWerp_uZBj64dBeC" />
</figure>

<p>我們預計在未來的版本中將局部重新繪製的好處帶到 <a href="https://github.com/flutter/engine/pull/29591">其他平台</a>。</p>
<p>在 Flutter 2.8 版本中，我們 <a href="https://github.com/flutter/flutter/issues/53501">推出了我們自己的內部圖片記錄格式</a>。現在在 Flutter 2.10 中，我們已經開始利用它建立優化。例如，**透明度層的常見用例現在 <a href="https://github.com/flutter/engine/pull/29775">實現得更加高效</a>**。即使在最壞的情況下，基準測試中的畫面柵格化時間也降至之前值的 1&#x2F;3 以下。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*sJIYBXONsWsYa5l4" />
</figure>

<p>我們預計這種優化將在我們繼續開發圖片記錄格式時擴展到更多案例。</p>
<p>在 Profile 和 Release 模式下，Dart 程式碼會提前編譯成原生機器碼。此程式碼效率高且體積小的關鍵是全程式碼類型流分析，它可以解鎖許多編譯器優化和積極的樹狀搖動。然而，由於類型流分析必須涵蓋整個程式碼，因此它可能有點昂貴。這個版本包含 <a href="https://dart.googlesource.com/sdk.git/+/e698500693603374ecc409e158f36c25bff45b12"><strong>類型流分析的更快速實作</strong></a>。基準測試中 Flutter 應用程式的整體構建時間下降了約 10%。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/850/0*3bjgNV_6OjBYDj24" />
</figure>

<p>與往常一樣，效能提升、減少記憶體使用和降低延遲是 Flutter 團隊的優先順序。期待在未來的版本中看到更多改進。</p>
<h3 id="iOS-更新"><a href="#iOS-更新" class="headerlink" title="iOS 更新"></a>iOS 更新</h3><p>除了效能提升，我們還新增了一些平台特定的功能和增強功能。一個新的增強功能是來自 <a href="https://github.com/luckysmg">luckysmg</a> 的 <a href="https://github.com/flutter/engine/pull/29281">iOS 上更平滑的鍵盤動畫</a>，它會自動提供給您的應用程式，您無需做任何事情。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/740/0*qMbaTcooLzyIxwgp" />
</figure>

<p>我們還透過修復一些 <a href="https://github.com/flutter/plugins/pull/4608">邊緣</a> <a href="https://github.com/flutter/plugins/pull/4661">案例</a> 的 <a href="https://github.com/flutter/plugins/pull/4619">崩潰</a> 來提高 iOS 相機插件的穩定性。</p>
<p>最後，<strong>64 位 iOS 架構獲得了一個新的功能來減少記憶體使用：</strong><a href="https://github.com/flutter/engine/pull/30077"><strong>壓縮</strong></a> **<a href="https://github.com/flutter/engine/pull/30333">指標**</a>**。</p>
<p>一個 64 位架構將指標表示為一個 8 位元組的資料結構。當您有很多物件時，指標本身佔用的空間會增加應用程式的整體記憶體使用量，特別是如果您有更大、更複雜的應用程式，這些應用程式具有更多 GC 抖動。但是，您的 iOS 應用程式不太可能擁有足夠的物件來需要大量使用 32 位地址空間（20 億個物件），更不用說 64 位地址空間的巨大空間（90 億億個物件）。</p>
<p>壓縮指標在 Dart 2.15 中提供，在此版本中，我們使用它們來減少 64 位 iOS 應用程式的記憶體使用量。您可以 <a href="https://medium.com/dartlang/dart-2-15-7e7a598e508a">查看 Dart 2.15 部落格文章以獲取詳細資訊</a>。</p>
<p>當您閱讀 Dart 部落格文章時，別忘了 <a href="https://medium.com/dartlang/dd87abd6bad1">查看 Dart 2.16 宣布</a>，其中包含關於使用套件平台標記支援 Flutter for Windows 以及在 pub.dev 上推出新的搜尋體驗的更新。</p>
<h3 id="Android-更新"><a href="#Android-更新" class="headerlink" title="Android 更新"></a>Android 更新</h3><p>這個版本還包含許多針對 Android 的改進。預設情況下，當您建立新的應用程式時，<strong>Flutter 預設支援最新版本的 Android</strong>，版本 12（API 級別 31）。此外，在此版本中，**我們已 **<a href="https://developer.android.com/studio/build/multidex"><strong>自動啟用 multidex 支援</strong></a>**。如果您的應用程式支援 Android SDK 版本低於 21，並且超過 64K 方法限制，只需將 <code>--multidex</code> 旗標傳遞給 <code>flutter build appbundle</code> 或 <code>flutter build apk</code>，您的應用程式就會支援 multidex。</p>
<p>最後但並非最不重要的一點是，我們聽取了您的反饋意見，認為 Gradle 錯誤訊息會令人望而生畏。因此，<strong>Flutter 工具現在會建議如何解決常見問題的步驟</strong> 。例如，如果您為應用程式加入一個 Plugin，它需要您提高最低支援的 Android SDK 版本，您現在會在日誌中看到一個「Flutter Fix」建議。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*1U5AWT3j69NL5jWn" />
</figure>

<p>我們將繼續為常見的錯誤訊息新增更多建議，並且樂於收到您對其他錯誤訊息的回饋，這些錯誤訊息也可能需要這種處理方法。</p>
<h3 id="Web-更新"><a href="#Web-更新" class="headerlink" title="Web 更新"></a>Web 更新</h3><p>這個版本還包含一些針對 Web 的改進。例如，在之前的版本中，當捲軸到 Web 上多行 TextField 的邊緣時，它不會正確捲軸。這個版本引入了 <a href="https://github.com/flutter/flutter/pull/93170"><strong>文字選取的邊緣捲軸</strong></a>：當選取範圍移動到文字欄位之外時，欄位會捲軸以顯示捲軸範圍。這種新的行為適用於 Web 和桌面應用程式。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/320/1*VpOHaGxbrVr262jc6bMUmg.gif" />
</figure>

<p>此外，這個版本的 Flutter 包含了另一個針對 Web 的顯著改進。我們一直在尋找方法來減少 Flutter 對 Web 的對映開銷。在之前的版本中，每次我們想要將原生 HTML Widget 加入到 Flutter 應用程式時，我們都需要一個覆蓋層作為我們針對 Web 的平台視圖支援的一部分。這些覆蓋層中的每一個都允許自訂繪製，但會造成一定程度的開銷。如果您的應用程式中有大量的原生 HTML Widget，例如連結，這些開銷會加起來。在此版本中，<strong>我們為 Web 建立了一個新的「非繪製平台視圖」，基本上消除了這種開銷</strong>。我們已經 <a href="https://github.com/flutter/plugins/pull/4578">在 <a href="https://pub.dev/documentation/url_launcher/latest/link/Link-class.html">連結 Widget</a> 中利用了這種優化</a>，這意味著如果您的 Flutter Web 應用程式中有許多連結，它們將不再會造成任何顯著的開銷。我們將隨著時間推移將這種優化應用於其他 Widget。</p>
<h3 id="Material-3"><a href="#Material-3" class="headerlink" title="Material 3"></a>Material 3</h3><p>此版本是過渡到 Material 3 的開始，其中包括 <a href="https://github.com/flutter/flutter/pull/93463"><strong>從單個種子顏色生成整個顏色配置</strong></a> 的功能。</p>
<p>使用任何顏色，您可以構造一個新的 ColorScheme 類型的實例：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/3c75c1f424e7ff8465e288054bfc7541/href">https://medium.com/media/3c75c1f424e7ff8465e288054bfc7541/href</a></iframe>

<p><code>ThemeData</code> 工廠建構函式中還有一個新的 <code>colorSchemeSeed</code> 參數，允許您生成主題的顏色配置：</p>
<iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/7d94d4b72cdc72dd733758484973886e/href">https://medium.com/media/7d94d4b72cdc72dd733758484973886e/href</a></iframe>

<p>此外，此版本還包含 <strong><code>ThemeData.useMaterial3</code> 旗標，它將組件切換到新的 Material 3 外觀</strong>。</p>
<p>最後但並非最不重要的一點是，**我們已新增 <a href="https://github.com/flutter/flutter/pull/95007"><strong>1,028 個新的 Material 圖示</strong></a>**。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*-XysmyfnVC_Rt_rj" />
<figcaption><em>1,028 個新的 Material 圖示的一點小樣本</em></figcaption>
</figure>

<p>可以在 <a href="https://github.com/flutter/flutter/issues/91605">跟踪我們 Material 3 工作的議題</a> 中找到更新；歡迎您提供您的回饋。</p>
<h3 id="整合測試改進"><a href="#整合測試改進" class="headerlink" title="整合測試改進"></a>整合測試改進</h3><p>在 2020 年 12 月，我們宣布了一種使用 <a href="https://medium.com/flutter/updates-on-flutter-testing-f54aa9f74c7e">integration_test 套件</a> 進行端到端測試的新方法。這個新的套件取代了 <code>flutter_driver</code> 套件，成為進行整合測試的推薦方法，它提供了一些新功能，例如 Firebase Test Lab 支援以及對 Web 和桌面的支援。</p>
<p>從那時起，我們在整合測試方面又進行了進一步的改進，包括 <strong>將 <code>integration_test</code> 套件捆綁到 Flutter SDK 本身</strong>，使其更容易與您的應用程式整合。還有一個 **新的 <a href="https://docs.flutter.dev/testing/integration-tests/migration"><strong>遷移指南，如果您要將現有的 <code>flutter_driver</code> 測試遷移到 <code>integration_test</code></strong></a>**。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*04e4XmQgP9CAyJ6x" />
<figcaption><em>`flutter_driver` 到 `integration_test` 遷移指南中的範例</em></figcaption>
</figure>

<p>幾個 <a href="https://docs.flutter.dev/testing/integration-tests">現有的</a> <a href="https://docs.flutter.dev/cookbook/testing/integration/profiling">文件</a>，<a href="https://github.com/flutter/samples/tree/master/testing_app">範例</a> 和 <a href="https://codelabs.developers.google.com/codelabs/flutter-app-testing">codelab</a> 也已更新為 <code>integration_test</code>。要開始使用，請將您的瀏覽器指向 flutter.dev 上的 <a href="https://docs.flutter.dev/testing">測試 Flutter 應用程式</a> 頁面。如果您還沒有在 Flutter 應用程式中使用 <code>integration_test</code>，現在是開始的時候了！</p>
<h3 id="Flutter-DevTools"><a href="#Flutter-DevTools" class="headerlink" title="Flutter DevTools"></a>Flutter DevTools</h3><p>我們也在這個版本中為 Flutter DevTools 做了一些工作，包括如果您從命令列使用 DevTools 的一個易用性功能。您現在不再需要使用 <code>pub global activate</code> 來下載和執行最新版本，而是可以 <strong>直接使用 <code>dart devtools</code></strong> 並獲得與您正在使用的 Flutter 版本保持一致的版本。</p>
<p>我們還進行了一些 <a href="https://github.com/flutter/devtools/pull/3526">許多</a> <a href="https://github.com/flutter/devtools/pull/3493">可用性</a> <a href="https://github.com/flutter/devtools/pull/3480">更新</a>，包括 <a href="https://github.com/flutter/devtools/pull/3497"><strong>改進了在除錯器變數窗格中檢視大型列表和映射的支援</strong></a>（感謝 <a href="https://github.com/elliette">elliette</a>）。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/386/0*Tau4a2z5GHZzuJky" />
</figure>

<p>最後，我們即將發佈 <strong>年度 DevTools 調查</strong>！請提供您的回饋，幫助我們改進您的開發體驗。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/762/0*bc2CaiWCLCpaYWMV" />
</figure>

<p>這個調查提示將在 2 月中旬左右直接顯示在 DevTools 中。謝謝！</p>
<h3 id="VSCode-改進"><a href="#VSCode-改進" class="headerlink" title="VSCode 改進"></a>VSCode 改進</h3><p>Flutter 的 Visual Studio Code 擴展也獲得了一些增強功能，包括 <strong>在程式碼中更多位置顯示顏色預覽</strong> 和 <a href="https://github.com/Dart-Code/Dart-Code/issues/3240"><strong>一個可以為您更新程式碼的顏色選擇器</strong></a>。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/770/0*eA2UN8_kzzJreUQf" />
</figure>

<p>此外，如果您想成為 VSCode 的 Dart 和 Flutter 擴展的預發行版本的測試人員，您可以在 [擴展設定中切換到預發行版本](<a href="https://github.com/Dart-Code/Dart-Code/issues/">https://github.com/Dart-Code/Dart-Code/issues/</a><br>3729)。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*8k22xPfwMobXvYJB" />
</figure>

<p>您可以在 <a href="https://groups.google.com/g/flutter-announce">flutter-announce 郵件列表</a> 上的 <a href="https://groups.google.com/g/flutter-announce/c/lR-yn1s9HKk">這篇文章</a> 中閱讀有關此更新的詳細資訊以及更多內容。</p>
<ul>
<li><a href="https://groups.google.com/g/flutter-announce/c/lR-yn1s9HKk">VS Code 擴展 v3.32</a></li>
<li><a href="https://groups.google.com/g/flutter-announce/c/lDSpaiWvUdI">VS Code 擴展 v3.34</a></li>
</ul>
<h3 id="移除-dev-頻道"><a href="#移除-dev-頻道" class="headerlink" title="移除 dev 頻道"></a>移除 dev 頻道</h3><p>在 <a href="https://medium.com/flutter/whats-new-in-flutter-2-8-d085b763d181">Flutter 2.8 版本</a> 中，我們宣布我們正在進行  <strong>移除 dev 頻道</strong> 的工作，簡化您的選擇，並減少工程開銷。在此版本中，<a href="https://github.com/flutter/flutter/issues/94962">我們已完成這項工作</a>，包括：</p>
<ul>
<li>更新了 Flutter 工具，以幫助開發人員從 dev 頻道遷移</li>
<li>更新了 Wiki 以反映更新後的客戶承諾</li>
<li>更新了棄用政策</li>
<li>從 DartPad、預提交測試和網站中移除 dev 頻道支援</li>
</ul>
<p>dev 頻道現在已經被清除了。如果您發現我們遺漏了某個地方，請 <a href="http://github.com/flutter/flutter/issues">告訴我們</a>。</p>
<h3 id="停止支援-iOS-9-3-6"><a href="#停止支援-iOS-9-3-6" class="headerlink" title="停止支援 iOS 9.3.6"></a>停止支援 iOS 9.3.6</h3><p>由於使用率下降以及在實驗室中維護目標設備的難度越來越大，我們正在 <a href="http://flutter.dev/go/rfc-32-bit-ios-support"><strong>停止支援</strong></a> <strong>iOS 9.3.6，</strong><a href="https://docs.flutter.dev/development/tools/sdk/release-notes/supported-platforms"><strong>將其從「支援」層級移動到「最佳努力」層級</strong></a>。這意味著對 iOS 9.3.6 和 32 位 iOS 設備的支援將僅透過編碼實務、臨時和社群測試來維護。</p>
<p>在 2022 年第三季度的穩定版本中，我們預計將從 Flutter 穩定版本中刪除對 32 位 iOS 設備和 iOS 版本 9 和 10 的支援。這意味著從那時起針對穩定版 Flutter SDK 構建的應用程式將不再能在 32 位 iOS 設備上運行，Flutter 支援的最低 iOS 版本將升級到 iOS 11。</p>
<h3 id="重大變更"><a href="#重大變更" class="headerlink" title="重大變更"></a>重大變更</h3><p>我們還努力讓每個版本中都 <strong>只有少數重大變更</strong>，而這個版本雖然還沒有完全達到零，但我們會繼續努力！</p>
<ul>
<li><a href="https://docs.flutter.dev/release/breaking-changes/kotlin-version">所需的 Kotlin 版本</a></li>
<li><a href="https://docs.flutter.dev/release/breaking-changes/2-5-deprecations">在 v2.5 之後移除的棄用 API</a></li>
<li><a href="https://docs.flutter.dev/release/breaking-changes/raw-images-on-web-uses-correct-origin-and-colors">Web 上的原始圖片使用正確的來源和顏色</a></li>
<li><a href="https://docs.flutter.dev/release/breaking-changes/scribble-text-input-client">手寫文字輸入客戶端</a></li>
</ul>
<p>如果您仍然使用這些 API，您可以 <a href="https://docs.flutter.dev/release/breaking-changes">閱讀 flutter.dev 上的遷移指南</a>。與往常一樣，非常感謝社群為 <a href="https://github.com/flutter/tests/blob/master/README.md">貢獻測試</a>，這些測試幫助我們識別出這些重大變更。 </p>
<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>來自 Google Flutter 團隊的所有人，我們想說 - 謝謝。謝謝您成為社群的一部分，幫助 Flutter 成為最受歡迎的跨平台 UI 工具包，這一點得到了 Statista 和 SlashData 等分析師的認可。對 Windows 的穩定支援只是我們忙碌的一年的開始，我們迫不及待地想看到我們一起構築的每一樣東西！</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=5aafb0314b12" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/whats-new-in-flutter-2-10-5aafb0314b12">Flutter 2.10 的新功能</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw,default">
    <link itemprop="mainEntityOfPage" href="https://blog.rainvisitor.me/archives/288d1e20.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rainvisitor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RainVisitor Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/archives/288d1e20.html" class="post-title-link" itemprop="url">【文章翻譯】Announcing Flutter for Windows</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-03 18:18:00" itemprop="dateCreated datePublished" datetime="2022-02-03T18:18:00+08:00">2022-02-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-09-30 16:55:14" itemprop="dateModified" datetime="2024-09-30T16:55:14+08:00">2024-09-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="宣布-Flutter-for-Windows"><a href="#宣布-Flutter-for-Windows" class="headerlink" title="宣布 Flutter for Windows"></a>宣布 Flutter for Windows</h2><p>自我們推出 Flutter 以來，我們一直專注於提供一個跨平台解決方案，用於構建精美的自定義應用程式，這些應用程式被編譯為機器碼，並充分利用您設備的底層圖形硬體。今天，隨著 Windows 作為應用程式目標的首次生產版本支援的發布，我們擴展了這個願景，使 Windows 開發人員能夠從移動開發人員一直以來享有的相同生產力和功能中受益。</p>

<figure>
<img alt="An image of a laptop with two light blue birds, representing Dash, the mascot of Flutter and Dart, hovering over the keyboard. The text in the image says, “Flutter + Windows”." src="https://cdn-images-1.medium.com/max/1024/0*LtCDFBQudFeDS_f6" />
</figure>

<p>我們對 Flutter 的目標是為您提供構建出色體驗所需的工具，無論您是在為哪個作業系統構建應用程式。因此，我們希望將相同的核心框架和工具帶到您想繪製像素的所有地方。Flutter 允許您精雕細琢 **精美** 的體驗，讓您的品牌和設計成為焦點。Flutter **快速**，直接編譯為機器碼；通過狀態熱重載支援，您可以獲得互動式開發環境的 **生產力**，讓您可以在應用程式運行時進行更改，並立即看到結果。Flutter **開源**，擁有數千名貢獻者為核心框架添加內容，並用套件生態系統擴展它。</p>

<blockquote>幾乎有 50 萬個應用程式使用 Flutter……</blockquote>

<p>到目前為止，我們已經看到了超出預期的發展勢頭，現在已經發布了近 50 萬個使用 Flutter 的應用程式，包括來自 Betterment、BMW 和 ByteDance 等公司的重大應用程式，以及來自 Google 的 30 個團隊的應用程式。在 2021 年，Flutter 根據 Statista 和 SlashData 等分析師的衡量標準，成為最受歡迎的跨平台 UI 工具包：</p>

<figure>
<img alt="Extracts from studies by Statista (“Flutter is the most popular cross-platform mobile framework used by global developers… 42% of software developers used Flutter”), SlashData (“The most popular cross-platform frameworks for development include Google’s Flutter (44%)”), JetBrains (“The popularity of Flutter continues to grow. This year it has surpassed React Native to become the most popular…”) and StackOverflow (“Flutter is the #2 loved framework”)." src="https://cdn-images-1.medium.com/max/1024/0*w2gBpEJcFceqjIRv" />
</figure>

<p>我們自己的數據證實了這一點，在 2021 年的所有四個季度調查中，有 92% 的 Flutter 開發人員對我們的工具表示滿意。 (對於其他 8% 的用戶，我們正在傾聽您的反饋，並希望您也感到滿意！)</p>

<p>一個常見的要求是 Windows 支援。</p>

<blockquote>今天，我們很高興宣布 Flutter 在穩定版本中完整支援 Windows 應用程式。</blockquote>

<h3>Windows 和 Flutter</h3>

<p>幾年前，我們為 Flutter 構建了一個雄心勃勃的願景，從 iOS 和 Android 上的行動應用程式擴展到其他平台，包括 Web 和 *桌面*。</p>

<p>Flutter 的核心跨越平台：從可移植的硬體加速 Skia 圖形引擎到 Flutter 渲染系統；核心原語，如動畫、主題、文字輸入和國際化；以及 Flutter 提供的數百個 Widget。</p>

<p>但是，桌面應用程式不僅僅是在更大螢幕上運行的行動應用程式。它們是為不同的輸入設備（例如鍵盤和滑鼠）而設計的。它們具有可調整大小的視窗，通常在寬螢幕顯示器上運行。對於關鍵事項（如輔助功能、輸入法編輯器和視覺樣式）存在不同的慣例。它們與底層作業系統中的不同 API 整合：桌面應用程式支援從檔案系統選擇器到設備硬體到 Windows 登錄等數據存儲的所有內容。</p>

<p>因此，雖然我們將 Flutter *帶到* Windows，但我們也為 Windows *量身定制* 了它。</p>

<p>與我們對 Android 和 iOS 的支援一樣，Flutter 的 Windows 實作結合了 Dart 框架和 C++ 引擎。Windows 和 Flutter 通過一個嵌入層進行通訊，該嵌入層託管 Flutter 引擎，並負責轉換和分派 Windows 消息。Flutter 與 Windows 配合將您的 UI 繪製到螢幕上，處理視窗調整大小和 DPI 變化等事件，並使用現有的 Windows 模式進行國際化，例如輸入法編輯器。</p>

<figure>
<img alt="An architectural diagram showing the Flutter architecture: at the top is the Flutter framework, built in Dart, which comprises building blocks like Material, the widgets system, rendering objects, animation, gestures, and painting primitives. Below that is the Flutter engine, written in C++, as well as the Skia and text rendering libraries; lastly, the Windows embedder which interoperates with the underlying operating system and passes Win32 messages to the engine." src="https://cdn-images-1.medium.com/max/1024/0*nmWy9ouW6nL5vrlB" />
<figcaption>在 Windows 上，Flutter 使用完全相同的 Dart 程式碼，但利用了原生 Windows API。</figcaption>
</figure>

<p>您的應用程式可以使用 Flutter 框架的每個部分，在 Windows 上，它也可以直接通過 Dart 的 C 互操作層或使用用 C++ 編寫的平台插件與 Win32、COM 和 Windows 執行時 API 通話。我們還適應了一些常見的 Plugin，以包含 Windows 支援，包括 camera、file_picker 和 shared_preferences。更重要的是，社群已經為各種其他套件添加了 Windows 支援，涵蓋從 Windows 工作列整合到串列埠存取的所有內容。</p>

<figure>
<img alt="A list of some Windows packages, including USB support, maps, web, serial port, file selection, window management, TensorFlow, credential management, battery, WMI, printer, screen capture and network connectivity." src="https://cdn-images-1.medium.com/max/1024/0*EgO7uhhHTZ5M5RWX" />
<figcaption>已經有數百個套件已適應以支援為 Windows 構建的 Flutter 應用程式。</figcaption>
</figure>

<p>為了獲得完全自定義的 Windows UI，您還可以利用 `fluent_ui` 和 `flutter_acrylic` 等套件來建立一個精美地表達 Microsoft Fluent 設計系統的應用程式。使用 `msix` 工具，您可以將應用程式包裝在安裝程式中，可以上傳到 Windows 上的 Microsoft Store。</p>

<p>總之，這促進了應用程式的創建，這些應用程式在 Windows 上看起來很棒，在 Windows 上運行很快，並且仍然可以傳輸到其他桌面或行動設備以及 Web。以下是我們到目前為止看到的一些早期範例：</p>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*UuEJrQgjNUXhxgDJgjhQLg.jpeg" />
</figure>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*CV_R70NqCzCoGxuI" />
</figure>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*EokU2CUDhjr6nDpW" />
</figure>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*2FlTNeXvMtnATYfw" />
</figure>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*QZlDI5SemNqlOuX1" />
</figure>

<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*EqTtZLTkDhGrNAZj" />
<figcaption>一些使用 Flutter 構建的 Windows 應用程式的早期社群範例，包括 Harmonoid 和 Rows。</figcaption>
</figure>


<h3>Microsoft 和 Flutter</h3>

<p>我們詢問 Windows 團隊是否願意分享一些關於 Flutter 支援的意見。以下是 Microsoft Windows 開發者平台公司副總裁 Kevin Gallo 的說法：</p>

<blockquote>“我們很高興看到 Flutter 添加了對創建 Windows 應用程式的支援。Windows 是一個開放平台，我們歡迎所有開發人員。我們很興奮看到 Flutter 開發人員將他們的經驗帶到 Windows，並發布到 Microsoft Store。Flutter 對 Windows 的支援是社群的一大步，我們迫不及待地想看看您將為 Windows 帶來什麼！”</blockquote>

<p>事實上，Microsoft 的幾個團隊都為今天的公告做出了貢獻。特別是，我們想感謝 Fluent 設計團隊為 Windows 上的 Flutter 應用程式貢獻圖標。他們的 `fluentui_system_icons` 套件已獲得 Flutter Favorite 狀態，以證明其品質。</p>

<p>我們還對 Microsoft 在 Windows 輔助功能方面進行的投資印象深刻，我們感謝該團隊的幫助，確保 Flutter 從一開始就支援螢幕閱讀器。將輔助功能視為利基需求是一個錯誤。正如 Microsoft 包容性設計工具包中的這張圖所示，我們都有理由關心提供適合不同永久性、暫時性或情境性需求的體驗。</p>

<figure>
<img alt="A diagram showing how accessibility aids can be of use to a wide audience, in three categories: permanent impairments such as blindness or deafness; temporary conditions such as an arm injury or cataract; or situational needs such as a new parent who is holding a baby with one arm, or a driver who is unable to look at a screen." src="https://cdn-images-1.medium.com/max/1024/1*kZRGSKMDQQhbINmZRw6z4w.png" />
</figure>

<p>下面的視頻演示了 Flutter 如何與 Windows Narrator 整合。出於這個視頻的目的，我們故意模糊了螢幕，讓您了解這項功能對需要它的人來說是多麼有價值。</p>

<iframe src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FYVSlpqSXV0c%3Ffeature%3Doembed&amp;display_name=YouTube&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DYVSlpqSXV0c&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FYVSlpqSXV0c%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube" width="854" height="480" frameborder="0" scrolling="no"><a href="https://medium.com/media/12c2c21500f098f57adbb0bcfb30ab94/href">https://medium.com/media/12c2c21500f098f57adbb0bcfb30ab94/href</a></iframe>

<h3>Windows 開發工具的生態系統</h3>

<p>我們的工具合作夥伴也正在添加對 Windows 的支援。以下是一些重點：</p>

<ul>
<li>FlutterFlow，低程式碼 Flutter 應用程式設計工具，今天宣布支援 Windows，以及幫助 Flutter 開發人員構建針對桌面使用量身定制的應用程式的功能。</li>
<li>Realm 是一個超快速的本地數據存儲。今天發布的最新版本現在支援使用 Flutter 構建 Windows 應用程式，使用 Dart FFI 快速存取底層數據庫，從而為 iOS 和 Android 等行動平台提供現有的支援。</li>
<li>Nevercode 已更新其 Codemagic CI/CD 工具以支援 Windows，使您能夠在雲端測試和構建 Windows 應用程式，並自動將應用程式部署到 Microsoft Store。</li>
<li>Syncfusion 已更新其 Widget 套件，以充分利用 Windows。如果您訂閱其工具包，您將發現數據可視化組件，例如樹狀圖和圖表，豐富的數據網格 Widget，日曆，甚至支援 PDF 創建和 Excel 電子表格。</li>
<li>最後，Rive 今天宣布即將推出的其熱門圖形工具套件的 Windows 版本，允許設計人員和開發人員創建互動式矢量動畫，這些動畫可以使用狀態機實時響應程式碼。其應用程式即將推出的 Windows 版本提供超快的效能和更低的內存占用率，並將很快在 Microsoft Store 上供下載。</li>
</ul>

<figure>
<img alt="A screenshot of Rive, a motion design tool that is written in Flutter and produces output that can be embedded into any Flutter app." src="https://cdn-images-1.medium.com/max/1024/1*IDu8nsxUNLecfET3nuSdDg.png" />
<figcaption>Rive，即將在 Windows 上的 Microsoft Store 上推出。</figcaption>
</figure>

<p>看到圍繞 Flutter 建立的成熟生態系統，我們感到非常興奮，我們鼓勵您在使用 Flutter 構建 Windows 應用程式時查看每一個合作夥伴。</p>

<h3>Windows 支援在 Flutter 2.10 中推出</h3>

<p>構建 Windows 應用程式的穩定、生產級品質支援作為 Flutter 2.10 的一部分提供，該版本今天發布。Flutter 2.10 還包含許多其他功能、效能改進和錯誤修復，這些內容在單獨的部落格文章中詳細介紹。</p>

<p>在接下來的幾個月裡，您將從我們那裡聽到更多關於完成對 macOS 和 Linux 的穩定支援的消息，為您的生產 Flutter 應用程式提供完整的桌面、Web 和行動平台。</p>

<p>同時，感謝您對 Flutter 的支援。我們很興奮看到您為 Windows 構建的內容！</p>

<figure>
<img alt="An image of the Dart mascot, Dash. She is sitting behind a laptop computer with a Flutter logo. We can’t see it, but she’s looking at a Windows app built in Flutter!" src="https://cdn-images-1.medium.com/max/1024/0*vowtRZE_wvyVA7CB" />
</figure>

<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=6979d0d01fed" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/announcing-flutter-for-windows-6979d0d01fed">宣布 Flutter for Windows</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p></p>
<p><a href="http://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw,default">
    <link itemprop="mainEntityOfPage" href="https://blog.rainvisitor.me/archives/ac013a1a.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rainvisitor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RainVisitor Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/archives/ac013a1a.html" class="post-title-link" itemprop="url">【文章翻譯】Dart 2.16: Improved tooling and platform handling</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-03 18:02:12" itemprop="dateCreated datePublished" datetime="2022-02-03T18:02:12+08:00">2022-02-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-12-26 19:28:05" itemprop="dateModified" datetime="2024-12-26T19:28:05+08:00">2024-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Dart/" itemprop="url" rel="index"><span itemprop="name">Dart</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>【文章內容使用 Gemini 1.5 Pro 自動翻譯產生】</p>
<h2 id="Dart-2-16：改進的工具和平台處理"><a href="#Dart-2-16：改進的工具和平台處理" class="headerlink" title="Dart 2.16：改進的工具和平台處理"></a>Dart 2.16：改進的工具和平台處理</h2><p>今天，Dart SDK 2.16 版本正式推出。它沒有新的語言功能，但包含許多錯誤修復（包括一個安全漏洞的修復）、改進了對指定 Dart 套件支援平台的支援，以及全新的 <a href="https://pub.dev/">pub.dev</a> 搜尋體驗。</p>
<h3 id="Dart-2-16"><a href="#Dart-2-16" class="headerlink" title="Dart 2.16"></a>Dart 2.16</h3><p>今天與 <a href="https://medium.com/flutter/whats-new-in-flutter-2-10-5aafb0314b12">Flutter 2.10</a> 一起推出的 Dart 2.16 SDK 繼續從傳統的 Dart CLI 工具（dartfmt、dartdoc 等）過渡到新的組合式 <a href="https://dart.dev/tools/dart-tool">dart</a> 開發者工具。新棄用的工具是 <code>dartdoc</code>（使用 <code>dart doc</code>）和 <code>dartanalyzer</code>（使用 <code>dart analyze</code>）。在 Dart 2.17 中，我們計劃完全移除 <code>dartdoc</code>、<code>dartanalyzer</code> 和 <code>pub</code> 命令（在 Dart 2.15 中已棄用；使用 <code>dart pub</code> 或 <code>flutter pub</code>）。有關詳細資訊，請參閱 <a href="https://github.com/dart-lang/sdk/issues/46100">issue #46100</a>。</p>
<p>2.16 版本還包括一個安全漏洞的修復和兩個小的重大變更：</p>
<ul>
<li><code>dart:io</code> 中的 <a href="https://github.com/dart-lang/sdk/security/advisories/GHSA-c8mh-jj22-xg5h#:~:text=https%3A//api.dart.dev/dart%2Dio/HttpClient%2Dclass.html"><code>HttpClient</code></a> API 允許您為授權、<code>www-authenticate</code>、<code>cookie</code> 和 <code>cookie2</code> 設定選用標頭。在 Dart 2.16 之前的 SDK 中，重定向邏輯的實作存在一個漏洞，即當發生跨域重定向時，這些標頭（可能包含敏感資訊）會被傳遞。在 Dart 2.16 中，這些標頭會被丟棄。有關詳細資訊，請參閱 <a href="https://github.com/dart-lang/sdk/security/advisories/GHSA-c8mh-jj22-xg5h">CVE-2022-0451</a>。</li>
<li><code>dart:io</code> 中的 <code>Directory.rename</code> API 在 Windows 上的行為已變更：它不再刪除與目標名稱匹配的現有目錄（issue <a href="https://github.com/dart-lang/sdk/issues/47653">#47653</a>）。</li>
<li><code>Platform.packageRoot</code> 和 <code>Isolate.packageRoot</code> API（它們是 Dart 1.x 的遺留物，在 Dart 2.x 中不起作用）已被移除（issue <a href="https://github.com/dart-lang/sdk/issues/47769">#47769</a>）。</li>
</ul>
<p>若要查找有關 Dart 2.16 中變更的更多詳細資訊，請參閱 <a href="https://github.com/dart-lang/sdk/blob/master/CHANGELOG.md#2160">變更日誌</a>。</p>
<h3 id="新增對宣告-pub-dev-套件平台支援的支援"><a href="#新增對宣告-pub-dev-套件平台支援的支援" class="headerlink" title="新增對宣告 pub.dev 套件平台支援的支援"></a>新增對宣告 pub.dev 套件平台支援的支援</h3><p>Dart 的設計旨在實現可移植性，我們努力讓程式碼能夠在最多的平台上運行。但是，有時您可能會在 pub.dev 上建立和分享僅針對一個或幾個平台設計的套件。您可能有一個套件依賴於僅在特定作業系統上可用的 API，或者一個套件使用僅在原生平台上支援且在網頁上不支援的函式庫，例如 <code>dart:ffi</code>。</p>
<p>透過 Dart 2.16，您現在可以在套件的 <code>pubspec</code> 中手動宣告支援的平台集。例如，如果您的套件僅支援 Windows 和 macOS，則其 <code>pubspec.yaml</code> 檔案可能如下所示：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">mypackage</span></span><br><span class="line"><span class="attr">version:</span> <span class="number">1.0</span><span class="number">.0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">platforms:</span></span><br><span class="line">  <span class="attr">windows:</span></span><br><span class="line">  <span class="attr">macos:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">dependencies:</span></span><br></pre></td></tr></table></figure>

<p>新的 <code>platforms</code> 標籤適用於您正在開發 Dart 套件，並且您想要宣告對與 pub.dev 自動偵測到的平台集不同的平台集的支援的情況。如果您正在開發和分享包含主機特定程式碼（例如，Kotlin 或 Swift）的 Flutter Plugin，則 <a href="https://docs.flutter.dev/development/packages-and-plugins/developing-packages#plugin-platforms">Flutter Plugin 標籤</a> 通常會指定支援的平台。</p>
<h3 id="全新的-pub-dev-搜尋-UI"><a href="#全新的-pub-dev-搜尋-UI" class="headerlink" title="全新的 pub.dev 搜尋 UI"></a>全新的 pub.dev 搜尋 UI</h3><p>為了回應開發人員的要求，我們為在 pub.dev 上搜尋套件建立了更好的支援。今天推出的變更的主要目標是幫助您識別和搜尋支援的平台集。以下是全新搜尋體驗的視圖：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*PJwhbfaIwRq3sSJi" />
<figcaption>Pub.dev 搜尋介面，左側邊欄包含平台、SDK 和進階搜尋過濾器</figcaption>
</figure>

<p>新的搜尋 UI 在左側有一個搜尋過濾器側邊欄，您可以使用它來限制您的套件搜尋：</p>
<ul>
<li><strong>平台：</strong> 選擇一個或多個平台，將搜尋結果縮小到僅支援所有選定平台的套件。</li>
<li><strong>SDK：</strong> 選擇 Dart 或 Flutter，將結果限制為分別支援 Dart SDK 或 Flutter SDK 的套件。</li>
<li><strong>進階：</strong> 其他搜尋選項，例如過濾到 Flutter Favorite 套件。</li>
</ul>
<h3 id="空安全更新"><a href="#空安全更新" class="headerlink" title="空安全更新"></a>空安全更新</h3><p>自從我們上次談論空安全（一年前在 <a href="https://medium.com/dartlang/announcing-dart-2-12-499a6e689c87">Dart 2.12</a> 中推出的主要語言新增功能）以來，已經發佈了幾個版本。我們對 Dart 生態系統遷移套件以支援空安全的速度感到驚訝：截至今天，前 250 個套件中的 100% 以及前 1000 個套件中的 96% 都支援空安全！感謝所有為這一偉大成就做出貢獻的套件作者。</p>
<p>我們也看到應用程式遷移到健全的空安全（應用程式程式碼和所有套件依賴項都已遷移的狀態）方面取得了良好進展。根據我們的分析，Flutter 工具中的所有運行會話中有 71% 現在具有完全健全的空安全。如果您是應用程式開發人員並且尚未遷移，那麼現在是絕佳時機。</p>
<h3 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h3><p>我們希望您覺得新的 pub.dev 搜尋 UI 很有用，並且我們歡迎您提供任何 <a href="https://github.com/dart-lang/pub-dev/issues/">回饋</a>。敬請期待下一個 Dart SDK 版本，計劃於 2022 年第二季度發佈。我們正在開發幾個 <a href="https://github.com/dart-lang/language/projects/1">令人興奮的語言功能</a>，我們希望在今年晚些時候發佈。</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=dd87abd6bad1" width="1" height="1" alt=""><hr><p><a href="https://medium.com/dartlang/dart-2-16-improved-tooling-and-platform-handling-dd87abd6bad1">Dart 2.16：改進的工具和平台處理</a> 最初發佈在 <a href="https://medium.com/dartlang">Dart</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p>
</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw,default">
    <link itemprop="mainEntityOfPage" href="https://blog.rainvisitor.me/archives/8953fef9.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rainvisitor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RainVisitor Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/archives/8953fef9.html" class="post-title-link" itemprop="url">【文章翻譯】How to build your own Flutter slide puzzle</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-01-20 03:06:37" itemprop="dateCreated datePublished" datetime="2022-01-20T03:06:37+08:00">2022-01-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-09-30 16:55:14" itemprop="dateModified" datetime="2024-09-30T16:55:14+08:00">2024-09-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*r5DaUW3Cdoad6GQBwWIh3Q.png" /></figure>

<p>您可能已經閱讀過 [Flutter 拼圖黑客挑戰](https://flutterhack.devpost.com/)，並正在思考如何將您的創造力推向新的極限。我們在此提供有關樣本程式碼庫結構的更多資訊，並提供一些關於如何建立您的比賽提交的一些想法。</p>

<h3>滑動拼圖架構</h3>

<p>提供的原始碼實作了一個分層架構，使用 flutter_bloc 管理狀態。Bloc 處理從遊戲邏輯到主題的所有內容。所有狀態都以一致的方式管理；針對拼圖邏輯的任何更新，您只需要找到對應的 bloc 並更新它。重設和洗牌遊戲按鈕、計時器和倒計時都是獨立的 bloc，因此這些可能是您考慮實作創造性的其他地方：也許是沙漏作為計時器？或者是一個華麗的洗牌順序？</p>

<p>請注意，所有遊戲邏輯都包含在一個名為 PuzzleBloc 的單一 bloc 中。它將透過事件更新，例如點擊一個磁磚以移動拼圖磁磚的 TileTapped 事件，或使用 PuzzleReset 完全重設拼圖板。每次拼圖更新時，都會發出新的拼圖狀態。</p>

<pre>class PuzzleBloc extends Bloc&lt;PuzzleEvent, PuzzleState&gt; {<br>  PuzzleBloc(this._size, {this.random}) : super(const PuzzleState() {<br>    on&lt;PuzzleInitialized&gt;(_onPuzzleInitialized);<br>    on&lt;TileTapped&gt;(_onTileTapped);<br>    on&lt;PuzzleReset&gt;(_onPuzzleReset);<br>  }</pre>

<pre>  void _onPuzzleInitialized(<br>    PuzzleInitialized event,<br>    Emitter&lt;PuzzleState&gt; emit,<br>  ) {...}<br>  void _onTileTapped(<br>    TileTapped event,<br>    Emitter&lt;PuzzleState&gt; emit,<br>  ) {...}<br>  void _onPuzzleReset(<br>    PuzzleReset event,<br>    Emitter&lt;PuzzleState&gt; emit,<br>  ) {...}<br>}</pre>

<h3>自訂主題</h3>

<p>樣本拼圖程式碼包含 Simple 和 Dashatar 兩種主題。這些可以用作您自訂主題的起點 - 盡情借用所需部分，或從頭開始。您如何實作拼圖取決於您自己！您可以考慮發揮創造力的其中一個地方是拼圖主題。</p>

<figure><img alt="Flutter slide puzzle with Dash in the lower right corner" src="https://cdn-images-1.medium.com/max/1024/0*BHUg3jHaaIRFW_5O" /></figure>

<p>所有演示中的主題都在 PuzzlePage 的頂部發生。它已抽象化，因此您只需要更新一個地方的主題元素，更改就會反映到所有地方。Simple 和 Dashatar 主題都定義了一系列選項，例如螢幕背景、選單、標誌、按鈕、文字顏色、主題是否顯示計時器（Dashatar 主題中出現，但 Simple 主題中沒有），等等。您可以在儲存庫根目錄的「dashatar」和「simple」目錄中找到它們。</p>

<pre>/// {@template simple_theme}<br>/// The simple puzzle theme.<br>/// {@endtemplate}<br>class SimpleTheme extends PuzzleTheme {<br>  /// {@macro simple_theme}<br>  const SimpleTheme() : super();</pre>

<pre>  @override<br>  Color get backgroundColor =&gt; PuzzleColors.white;</pre>

<pre>  @override<br>  Color get buttonColor =&gt; PuzzleColors.primary6;</pre>

<pre>  @override<br>  Color get hoverColor =&gt; PuzzleColors.primary3;</pre>

<pre>  @override<br>  Color get pressedColor =&gt; PuzzleColors.primary7;</pre>

<pre>  ...<br>}</pre>

<p>每個拼圖主題都有一個 LayoutDelegate，它計算該主題的佈局。您可以透過重複使用相同的佈局物件，僅調整一些主題選項來建立新的主題。對於更進階的設計，整個主題 LayoutDelegate 都可以自訂。例如，您可以覆寫 backgroundBuilder 以製作自訂背景，僅在大型螢幕上顯示。</p>

<pre>@override<br>Widget backgroundBuilder(PuzzleState state) {<br>  return Positioned(<br>    bottom: 74,<br>    right: 50,<br>    child: ResponsiveLayoutBuilder(<br>      small: (_, child) =&gt; const SizedBox(),<br>      medium: (_, child) =&gt; const SizedBox(),<br>      large: (_, child) =&gt; const DashatarThemePicker(),<br>    ),<br>  );<br>}</pre>

<h3>實作動畫</h3>

<p>動畫是您在滑動拼圖中探索的絕佳元素。雖然 Simple 主題不包含任何動畫，但 Dashatar 程式碼實作了一些動畫，其中一些是 [交錯](https://docs.flutter.dev/development/ui/animations/staggered-animations) 的。這些動畫由單一動畫控制器驅動，使用 [Interval](https://api.flutter.dev/flutter/animation/Interval-class.html) 調整以延遲動畫，並使用 [Tween](https://api.flutter.dev/flutter/animation/Tween-class.html) 定義動畫的數值範圍。這可以在 Dashatar 拼圖的成功狀態中看到，其中多個 Widget 透過動畫其偏移量和不透明度而逐漸出現。類似地，倒計時器的每個滴答都使用相同的技術，緩慢地增長然後淡出，就像下一個滴答即將出現一樣。</p>

<figure><img alt="Dashatar slide puzzle mid-shuffle with a puzzle timer above" src="https://cdn-images-1.medium.com/max/1024/0*YPUf0ml0ggq7RJIL" /></figure>

<p>Dashatar 主題中的大多數動畫都是隱含的。這表示您無需自行撰寫整個動畫，因為 Widget 會自行對屬性更改進行動畫。舉例來說，請查看 DashatarPuzzleTile Widget，了解如何對使用者點擊磁磚時磁磚的移動進行動畫。每當點擊磁磚時，其目前的 position 會更新，並透過隱含動畫的 AnimatedAlign 在給定的 movementDuration 內轉場。</p>

<pre>class DashatarPuzzleTile extends StatelessWidget {<br>  ... <br>  <br>  final Tile tile;<br>  <br>  @override<br>  Widget build(BuildContext context) {<br>    return AnimatedAlign(<br>      alignment: FractionalOffset(<br>        (tile.currentPosition.x - 1) / (size - 1),<br>        (tile.currentPosition.y - 1) / (size - 1),<br>      ),<br>      duration: movementDuration,<br>      curve: Curves.easeInOut,<br>      child: ResponsiveLayoutBuilder(...),<br>    );<br>  }<br>}</pre>

<h3>為網頁設計</h3>

<p>樣本拼圖是為網頁而建的。它為三個螢幕尺寸實作了響應式設計：小型、中型和大型。此外，還有一個 ResponsiveLayoutBuilder，它使用 Flutter LayoutBuilder Widget 的包裝器，允許您根據不同的斷點指定不同的 Widget。</p>

<p>由於我們以網頁為目標，因此有一些額外的注意事項需要牢記。應用程式會預先快取圖片和一些音訊，以幫助優化遊戲期間的效能。當使用者到達預設的 Simple 拼圖遊戲時，Dashatar 版本的資產會在後台載入（我們對 [I/O 照片亭](https://github.com/flutter/photobooth) 載入所有道具的方式採取了類似的方法）。這將確保一旦使用者導航到 Dashatar 主題，大多數資產將已經載入，確保順暢的使用者體驗。</p>

<p>雖然應用程式在網頁上很方便，但您可以挑戰自己探索以創新方式讓拼圖擴展到多個平台的方法。您的拼圖在行動裝置和桌面上會是什麼樣子？您如何為多個平台調整您的想法？</p>

<h3>無障礙性</h3>

<p>滑動拼圖的設計考慮了無障礙性。使用者可以使用鍵盤與拼圖互動。這是透過 RawKeyboardListener 完成的，RawKeyboardListener 是一個在使用者按下或放開鍵盤上的鍵時會呼叫回呼的 Widget。使用者也可以使用螢幕閱讀器與應用程式互動。這是透過 [語義標籤](https://api.flutter.dev/flutter/widgets/Semantics-class.html) 完成的。還有一些提示，使用 Tooltip Widget 為某些操作顯示。如果您要從頭開始建立滑動拼圖提交，我們強烈建議使用上面類似的策略，使您的拼圖對所有使用者都具有無障礙性。</p>

<h3>額外想法</h3>

<p>您可以隨意使用演示程式碼庫作為您的提交的基礎。或者，您可以從頭開始實作一個新想法。重要的是您的提交是一個有效的滑動拼圖 - 但您如何實現它取決於您自己！</p>

<p>Simple 和 Dashatar 範例應該可以讓您了解您可以自訂的地方，或者您可以自行建立的酷炫事物。我們探索的一個有趣想法是將 [由 Felix Blaschke 建立的 Flutter Plasma](https://flutterplasma.dev/) 投影到拼圖磁磚上。電漿效果可以使用包裝在 Transform Widget 中的 CustomPaint Widget 實現，並使用 AnimationController 進行動畫。您可以在 [此處](https://github.com/felixblaschke/sa3_liquid/blob/main/lib/liquid/plasma/plasma.dart) 找到用在演示中的電漿渲染器的範例。</p>

<figure><img alt="Slide puzzle with plasma gradient effect displayed on the tiles and rockstar Dash in the lower right corner" src="https://cdn-images-1.medium.com/max/1024/0*4sa1RI3GzrlpRcQ4" /></figure>

<p>另一個想法是從 API 擷取圖片或其他資料。例如，您可以使用 [Google 照片 API](https://developers.google.com/photos) 使用您最喜歡的 Google 照片相簿中的照片製作滑動拼圖。這個挑戰的可能性是無限的！</p>

<p>在此查看樣本拼圖程式碼 [here](https://github.com/VGVentures/slide_puzzle)。在 Twitter 上使用 #FlutterPuzzleHack 與我們分享您的創作。我們迫不及待想看看您會建立什麼！</p>

<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=93721ac5fad2" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/how-to-build-your-own-flutter-slide-puzzle-93721ac5fad2">如何建立您自己的 Flutter 滑動拼圖</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p> </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Rainvisitor</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">245</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">239</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rainvisitor</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
