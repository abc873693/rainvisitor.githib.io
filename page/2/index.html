<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>RainVisitor Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="RainVisitor Blog">
<meta property="og:url" content="https://blog.rainvisitor.me/page/2/index.html">
<meta property="og:site_name" content="RainVisitor Blog">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="Rainvisitor">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="RainVisitor Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">RainVisitor Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.rainvisitor.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2024-05-14T20:33:38.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/20788461.html" class="article-date">
  <time datetime="2024-05-14T12:33:38.000Z" itemprop="datePublished">2024-05-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/20788461.html">【文章翻譯】Landing Flutter 3.22 and Dart 3.4 at Google I/O 2024</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="在-Google-I-O-2024-上推出-Flutter-3-22-和-Dart-3-4"><a href="#在-Google-I-O-2024-上推出-Flutter-3-22-和-Dart-3-4" class="headerlink" title="在 Google I&#x2F;O 2024 上推出 Flutter 3.22 和 Dart 3.4"></a>在 Google I&#x2F;O 2024 上推出 Flutter 3.22 和 Dart 3.4</h2><h4><em>Flutter 網頁應用程式的重要里程碑、圖形效能升級、生產力實驗等等</em></h4>

<p>在過去的幾個月裡，Dart 和 Flutter 的空中交通管制一直格外繁忙，但我們很樂意宣布 Flutter 3.22 和 Dart 3.4 已經推出並於今天正式上線，恰逢今年的 <a href="https://io.google/2024/">Google I&#x2F;O</a>！</p>
<p>我們始終致力於提供強大的語言和框架配對，讓您能夠從單一、共享的程式碼庫中建立美觀、豐富且快速的應用程式，因此您可以將應用程式交付給行動、網頁和桌面上的使用者，而無需分散產品路線圖。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Mq-Uj8c8l7rrpPxYQ6Gemw.gif" />
</figure>

<p>Flutter 3.22 和 Dart 3.4 提供了效能改進和平台特定的細化，讓我們更接近這個願景。我們特別興奮地分享更多有關我們在 Wasm 上的旅程，但您還會發現更多內容，包括改進的 Impeller 渲染引擎、iOS 上更流暢的視覺效果和更低的 CPU 使用量、使用 Android 的預測式返回手勢增強平台導航、使用 Google 行動廣告 SDK 擴展變現選項，以及 DevTools 中一個新的強大的深層連結驗證器。Dart 開發人員將享受 IDE 中直接的 dart fix 帶來的簡化的 API 遷移，以及用於進階分析的新 DevTools 功能。此外，您現在可以預覽 Vertex AI for Firebase Dart SDK，將 AI 驅動的功能與強大的安全措施整合在一起。</p>
<p>今天，我們還將重點介紹使用 Flutter 來提高生產力並建立高性能體驗的頂尖公司。我們將重點介紹一些特別令人興奮的功能，這些功能讓我們更接近我們在跨平台提供類原生效能的目標，並包括我們在生產力、開發者體驗和遊戲方面的投資的選定更新。</p>
<p>如果您想詳細了解版本中包含的所有內容，請查看專門的 <a href="https://medium.com/flutter/fbde6c164fe3">Flutter</a> 和 <a href="https://medium.com/dartlang/dart-3-4-bd8d23b4462a">Dart</a> 文章。是時候 Dash 了！</p>
<h3 id="Flutter-實際應用"><a href="#Flutter-實際應用" class="headerlink" title="Flutter 實際應用"></a>Flutter 實際應用</h3><p>Flutter 開發人員正忙於將大型的新應用程式發佈到應用程式商店。讓我們看幾個。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*cF6UE3y05YTyMBQn" />
</figure>

<h4 id="幫助大型企業級應用程式交付行動和網頁"><a href="#幫助大型企業級應用程式交付行動和網頁" class="headerlink" title="幫助大型企業級應用程式交付行動和網頁"></a>幫助大型企業級應用程式交付行動和網頁</h4><ul>
<li>在英國，金融機構 <a href="https://uk.virginmoney.com/">Virgin Money</a> 在他們的行動銀行和信用卡應用程式套件中 <a href="http://flutter.dev/showcase/virgin-money">使用 Flutter</a>，以統一應用程式開發流程，加快變更速度，並提供業界領先的使用者體驗。</li>
<li>美國保險公司 <a href="https://www.geico.com/about/corporate/at-a-glance/">GEICO</a> 最近 <a href="https://www.geico.com/techblog/flutter-as-the-multi-channel-ux-framework/">分享</a>，Flutter 幫助他們改進了 iOS、Android 和網頁上的品牌使用者體驗，減少了程式碼庫的大小，並提高了開發效率，所有這些都在規模上實現。</li>
<li><a href="https://corporate.universaldestinationsandexperiences.com/">環球影城目的地與體驗</a> 發佈了他們在好萊塢、大阪和奧蘭多的公園的新 Flutter 行動應用程式。觀看下面的影片，了解他們為什麼選擇 Flutter，以及 Flutter 的表現如何。</li>
</ul>
<iframe src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FJTk2Exr7FO4%3Ffeature%3Doembed&amp;display_name=YouTube&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DJTk2Exr7FO4&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FJTk2Exr7FO4%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube" width="854" height="480" frameborder="0" scrolling="no"><a href="https://medium.com/media/721111dda3bc3595ada438b543af64a4/href">https://medium.com/media/721111dda3bc3595ada438b543af64a4/href</a></iframe>

<h4 id="超越行動和網頁"><a href="#超越行動和網頁" class="headerlink" title="超越行動和網頁"></a>超越行動和網頁</h4><ul>
<li><a href="https://canonical.com/">Canonical</a> 團隊一直在與 Flutter <a href="https://ubuntu.com/blog/flutter-and-ubuntu-so-far">合作</a> <a href="https://pub.dev/publishers/canonical.com/packages">自 2021 年以來</a> 啟用對 Ubuntu 中的 Flutter 生態系統的支援。在過去的一年中，Canonical 團隊使用 Flutter 從頭開始重建了 Ubuntu 安裝程式。</li>
<li><a href="https://www.lg.com/us">LG</a> 選擇 Flutter 來增強其智能電視作業系統 webOS。Flutter 的效能、生產力和強大的生態系統使 LG 能夠快速開發和部署 webOS 系統應用程式，這些應用程式運行流暢。到 2025 年，Flutter 將為全球數千萬台 LG 電視提供系統應用程式。</li>
</ul>
<p>這些成功的案例讓我們備受鼓舞，我們致力於使 Flutter 變得更好。讓我們深入了解最新的產品更新，以展示我們正在做些什麼來讓您能夠建立更多令人驚嘆的應用程式、遊戲和體驗。</p>
<h3 id="WebAssembly：在網頁上追求原生效能"><a href="#WebAssembly：在網頁上追求原生效能" class="headerlink" title="WebAssembly：在網頁上追求原生效能"></a>WebAssembly：在網頁上追求原生效能</h3><p>今天，我們宣布在穩定版本中支援將 Flutter 網頁應用程式 <a href="https://docs.flutter.dev/platform-integration/web/wasm">編譯</a> 到 WebAssembly (Wasm)。這是一種針對網頁瀏覽器的新型指令格式，它提供了一種可移植的、平台中立的二進制程式碼格式。</p>
<p>我們對 Wasm 的支援是一項深入的、多年來的投資。首先，我們與 Chrome 團隊合作，在 WebAssembly 中定義對 Dart 等高級別、受控語言的支援，這些語言通常使用垃圾回收。這產生的結果是 <a href="https://developer.chrome.com/blog/wasmgc/">WasmGC</a> <a href="https://github.com/WebAssembly/gc/blob/main/proposals/gc/Overview.md">提案</a>，它現在是一個完整且最終的標準，其運行時實作可在 Chrome（Chromium 119 及更高版本）和 Firefox（120 及更高版本）中使用，並且其他瀏覽器供應商預計會跟進。接下來，我們加入了一個全新的 Dart 編譯器後端，以生成 WasmGC 程式碼，並且 Dart 和 Flutter 團隊合作以將編譯後的應用程式程式碼和 Flutter 渲染引擎作為 Wasm 模組運行，並實現高效的 Wasm 到 Wasm 互操作。</p>
<p>那麼最終的結果是什麼？我們看到效能大幅提升，接近我們在運行機器程式碼的行動和桌面設備上的效能。在我們的內部基準測試中（在 M1 MacBook 上的 Chrome 中），<a href="https://flutter.gskinner.com/wonderous/">Wonderous</a> 的畫面渲染時間在一般情況下提高了 2 倍，在 99% 最差情況下效能提高了 3 倍。改進的渲染效能對於需要動畫和豐富轉場的苛刻應用程式至關重要，在這些應用程式中，超過畫面預算（分配給渲染下一畫面的時間）會導致非常明顯的卡頓。Wasm 有可能消除這種現象，如下所示，將 Wonderous 應用程式使用我們的傳統 JS 編譯與 Wasm 編譯並排比較。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/719/0*ebpdPSPlak3EwoAU" />
<figcaption><em>比較  [Wonderous](https://flutter.gskinner.com/wonderous/) 範例應用程式中 Javascript 與 Wasm 的渲染速度。</em></figcaption>
</figure>

<p>Flutter 網頁應用程式的 Wasm 編譯在今天就已在穩定版本中提供。若要開始使用，請查看我們的 <a href="https://dart.dev/web/wasm">Dart Wasm 文件</a> 和 <a href="https://docs.flutter.dev/platform-integration/web/wasm">Flutter Wasm 文件</a>。</p>
<h3 id="Dart-macros：提高開發抽象層級"><a href="#Dart-macros：提高開發抽象層級" class="headerlink" title="Dart macros：提高開發抽象層級"></a>Dart macros：提高開發抽象層級</h3><p>我們致力於提供一流的開發者體驗。這意味著解決 Dart 開發人員長期存在的痛點，例如序列化 JSON 資料。</p>
<p>這是一個普遍的模式，既簡單又乏味。目前的解決方案意味著要么手動辛苦地編碼和解碼樣板，要么以程式碼生成解決方案（如 <a href="https://docs.flutter.dev/data-and-backend/serialization/json#serializing-json-using-code-generation-libraries">JsonSerializable</a> 套件）的形式疊加額外的工具。</p>
<p>今天，我們宣布了一個更好的 JSON 選項的預覽版本：<a href="https://dart.dev/go/json-codable">JsonCodable</a> macro。</p>
<p>macros 是用於建立更多程式碼的程式碼。它們就像程式碼生成，只是 macro 系統是 <em>內建在 Dart 中</em>，並且在您編輯和運行程式碼時 <em>實時發生</em>。它是一個整合的體驗，沒有延遲，完全支援我們現有的開發工作流程，例如熱重載，如這個螢幕錄製所示：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/896/0*rWeEWxzBvcmOFNM4" />
<figcaption><em>螢幕錄製展示了使用 macro 的體驗：最初沒有 toJson 程式碼完成，但在將 @JsonCodable 加入到類別後，toJson 程式碼完成立即顯示。</em></figcaption>
</figure>

<p>我們很興奮地看到 macros 能夠為我們的開發人員解決各種問題。例如，資料類別，<a href="https://github.com/dart-lang/language/issues?q=is:issue+is:open+sort:reactions-+1-desc">投票率最高</a> 的 Dart 語言功能。除了具體的應用之外，我們的最終目標是在 Dart 中擁有一個 macro 系統，允許使用者建立自己的 macros 並提高 Dart 程式的抽象層級。</p>
<p>設計和實作這樣一個強大的 macro 系統是一項巨大的任務，因此目前沒有設定穩定版本的日期，如需更多詳細資訊，請查看 <a href="https://medium.com/dartlang/dart-3-4-bd8d23b4462a">Dart 3.4 文章</a>。同時，請立即嘗試 JsonCodable macro 的預覽版本。如需更多資訊，請查看 <a href="http://dart.dev/go/json-codable">macro 文件</a>。</p>
<h3 id="Flutter-遊戲開發的新資源"><a href="#Flutter-遊戲開發的新資源" class="headerlink" title="Flutter 遊戲開發的新資源"></a>Flutter 遊戲開發的新資源</h3><figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*F19xflZ4BfoCekFQ" />
</figure>

<p>我們看到我們對遊戲的早期投資取得了可喜的成果，包括來自行業領袖（如 <a href="http://flutter.dev/showcase/etermax">Etermax</a> 和 <a href="http://flutter.dev/showcase/supercell">Supercell</a>）的成功案例，他們每個都利用 Flutter 的力量和靈活性來高效地提供令人愉悅的使用者體驗並擴大他們的覆蓋範圍。</p>
<p>今天，我們很興奮地繼續利用這些新的 Flutter 遊戲開發者資源來保持這種勢頭：</p>
<ul>
<li><a href="https://pub.dev/packages/flutter_soloud">SoLoud 音訊引擎</a> 已經推出：我們與 Flutter 社群 (@<a href="https://github.com/alnitak">Marco Bavagnoli</a>) 合作，創建了一個免費且可移植的音訊引擎，它提供低延遲、高性能的聲音，對於許多遊戲來說至關重要。我們還創建了一個新的 <a href="https://codelabs.developers.google.com/codelabs/flutter-codelab-soloud#0">聲音和音樂 codelab</a>，它使用 SoLoud。</li>
<li>了解如何 <a href="https://codelabs.developers.google.com/codelabs/flutter-word-puzzle#0">生成廣泛的交叉字謎式網格</a> 以互鎖的文字，而不會影響使用者體驗，以及 <a href="https://codelabs.developers.google.com/codelabs/flutter-flame-forge2d#0">使用 2D 物理模擬在 Flutter 和 Flame 遊戲中製作遊戲機制</a>，就像名為 <a href="https://pub.dev/packages/forge2d">Forge2D</a> 的 Box2D 一樣。</li>
<li>一個針對 <a href="https://medium.com/flutter/best-practices-for-optimizing-flutter-web-loading-speed-7cc0df14ce5c">優化 Flutter 基於網頁的遊戲載入速度</a> 的新指南：漫長的載入時間是基於網頁的遊戲的主要障礙。按照這個指南（由 <a href="https://twitter.com/chenglinlim">Cheng Lin</a> 撰寫）來優化您的載入速度，這樣玩家就不會因為載入速度慢而放棄您的遊戲。</li>
</ul>
<h3 id="Empowering-Sustainable-Game-Development"><a href="#Empowering-Sustainable-Game-Development" class="headerlink" title="Empowering Sustainable Game Development"></a>Empowering Sustainable Game Development</h3><p>在 2024 年 1 月，受到他們使用 Flutter 的 <a href="https://www.youtube.com/watch?v=qgOlg173gcI&amp;pp=ygUWR2xvYmFsIENpdGl6ZW4gRmx1dHRlcg==">故事</a> 的啟發，我們與 Global Citizen 合作，向我們的社群發起挑戰，要求他們使用 Flutter 設計、構建和發佈永續性遊戲。這些遊戲旨在激勵和賦能玩家，讓他們為環境採取一些微小但有意義的行動。今天，我們宣布 <a href="https://medium.com/flutter/announcing-the-winners-of-the-global-gamers-challenge-1ccf4d271226">10 位獲勝者</a>。</p>
<iframe src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F_GgqdB9md1w&amp;display_name=YouTube&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D_GgqdB9md1w&amp;image=http%3A%2F%2Fi.ytimg.com%2Fvi%2F_GgqdB9md1w%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube" width="854" height="480" frameborder="0" scrolling="no"><a href="https://medium.com/media/f79ed19f8ef6235e83b919df5506662f/href">https://medium.com/media/f79ed19f8ef6235e83b919df5506662f/href</a></iframe>

<p>恭喜所有獲獎者！</p>
<h3 id="還有更多值得探索"><a href="#還有更多值得探索" class="headerlink" title="還有更多值得探索"></a>還有更多值得探索</h3><p>今天我們只能介紹這麼多，但還有許多其他令人興奮的改進我們沒有提到。以下是一些需要了解的內容：</p>
<ul>
<li>您可以 <a href="https://firebase.google.com/docs/vertex-ai/get-started?platform=flutter">預覽 Vertex AI for Firebase Dart SDK</a>，以便在 Dart 或 Flutter 應用程式中使用 Gemini API 來實現 AI 驅動的功能。SDK 與 Firebase App Check 整合，保護您的 API 呼叫，並保護您的後端基礎架構免受嚴重的威脅，例如帳單欺詐、網路釣魚和應用程式偽造。如需詳細資訊，請查看我們的 <a href="http://flutter.dev/ai">AI 頁面</a>。</li>
<li><a href="https://docs.flutter.dev/perf/impeller">Impeller</a>，我們的 <a href="https://docs.flutter.dev/perf/impeller">下一代渲染引擎</a>，現在已在 Android 上功能完備。</li>
<li><a href="https://developer.android.com/guide/navigation/custom-back/predictive-back-gesture">Android 的預測式返回手勢</a> 現在支援在 Flutter 應用程式內導航、導航到其他應用程式或導航到主畫面時。</li>
<li>iOS 上的 <a href="https://docs.flutter.dev/platform-integration/ios/platform-views">平台視圖</a> 已經過效能優化，將 CPU 使用量降低了 50%。</li>
<li><strong>Google 行動廣告 SDK</strong> 已經擴展到支援更多廣告合作夥伴和調解選項。</li>
<li>DevTools 擁有一個新的 <a href="https://docs.flutter.dev/tools/devtools/web/deep-linking">深層連結驗證器</a>，可幫助您識別和解決 Android 深層連結配置中的錯誤，以便您更輕鬆地將網頁體驗連接到 Flutter 應用程式。</li>
<li><strong>dart fix</strong>，我們的 API 遷移工具，現在可以直接從 IDE 中呼叫。</li>
<li><strong>DevTools</strong> 現在支援時間軸中的進階篩選和 CPU 樣本。</li>
</ul>
<p>請前往 <a href="https://medium.com/flutter/fbde6c164fe3">Flutter 技術文章</a> 和 <a href="https://medium.com/dartlang/dart-3-4-bd8d23b4462a">Dart 3.4 文章</a> 獲取更多有關這些內容和更多內容的詳細資訊。</p>
<p>與往常一樣，我們非常感謝您的持續支援、熱情、熱忱和回饋。沒有您，這個專案是不可能實現的，我們迫不及待地想看看您將如何繼續推動 Flutter 向前發展。 </p>
<p>Flutter 完畢。我們希望很快再次在船上見到您！</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=5e211f708a37" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/io24-5e211f708a37">在 Google I&#x2F;O 2024 上推出 Flutter 3.22 和 Dart 3.4</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/20788461.html" data-id="cm1ntp44e0003v5173tlq9e56" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Flutter/" rel="tag">Flutter</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2024-05-07T15:02:05.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/af71eac8.html" class="article-date">
  <time datetime="2024-05-07T07:02:05.000Z" itemprop="datePublished">2024-05-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/af71eac8.html">【文章翻譯】Cross Platform development with Flutter — How Google Classroom gets teachers and students on the…</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="使用-Flutter-開發跨平台應用程式-Google-Classroom-如何讓教師和學生步調一致"><a href="#使用-Flutter-開發跨平台應用程式-Google-Classroom-如何讓教師和學生步調一致" class="headerlink" title="使用 Flutter 開發跨平台應用程式 - Google Classroom 如何讓教師和學生步調一致"></a>使用 Flutter 開發跨平台應用程式 - Google Classroom 如何讓教師和學生步調一致</h2><p>Google 的 Classroom 應用程式最初於 2014 年推出，全球有 1.5 億名教育工作者和學生使用它來組織作業、成績和課堂上的溝通。該應用程式在 Android 和 iOS 上都可使用，開發工作最初始於同年，並橫跨了兩個行動平台上巨大變革的時代。事實證明，管理這些不同的變革具有挑戰性。</p>
<p>儘管努力進行同步，但 7 年後的 2021 年，Classroom 應用的 Android 和 iOS 獨立程式碼庫在功能、UI 和實作方面逐漸偏離。從最明顯的方面，例如不同平台對相同 UI 採取不同的方法，到不太明顯的方面，例如驗證和應用程式啟動邏輯的差異；Classroom 逐漸變成一個難以維護和改進的應用程式，兩個程式碼庫給少數開發人員的團隊帶來了沉重的負擔。</p>
<p>當時有許多選擇，從堅持現狀到增加更多開發人員，再到使用跨平台框架完全重寫兩個程式碼庫。團隊致力於改進，這排除了堅持現狀的選擇，然後評估穩定兩個現有程式碼庫需要付出什麼代價，這排除了僅僅增加更多開發人員的方案。最終，團隊選擇了第三個方案：重新構思 Classroom，使用單一來源、跨平台的解決方案，最終選擇了 Flutter。</p>
<h3 id="Flutter-如何簡化-Classroom-應用程式"><a href="#Flutter-如何簡化-Classroom-應用程式" class="headerlink" title="Flutter 如何簡化 Classroom 應用程式"></a>Flutter 如何簡化 Classroom 應用程式</h3><h4 id="不一致的-UI"><a href="#不一致的-UI" class="headerlink" title="不一致的 UI"></a>不一致的 UI</h4><p>Classroom 最明顯的問題 - UI 變異 - 強迫教師熟悉 Android 和 iOS 兩個 UI。畢竟，很容易想像學生會詢問關於這個作業螢幕和說明的問題，而一個平台上的說明與學生在另一台設備上看到的內容相比，沒有什麼意義。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*-u0y5vTqoC_sCyOHpvUnNA.png" />
</figure>

<p>傳統方法是由不同的團隊開發的獨立客戶端應用程式，這些應用程式會隨著時間推移而產生差異。只有對每個功能進行一致、細緻入微的同步工作才能防止這種情況。相比之下，Flutter 的本質顛覆了這種預設結果。使用 Flutter，UI 預設情況下是相同的 [1]，直到積極的工作（通常為了追求適應性）迫使它們為了使用者的利益而產生差異。</p>
<blockquote>[1] 在 Classroom 的 Flutter 客戶端中，仍然存在一些小的、刻意造成的差異，例如系統列和底部控制項。Flutter 保留了這些平台特有的細節，同時將螢幕中間 90% 的空間留給單一 UI 實作。</blockquote>

<h4 id="混亂的商業邏輯"><a href="#混亂的商業邏輯" class="headerlink" title="混亂的商業邏輯"></a>混亂的商業邏輯</h4><p>Classroom 的 Android 和 iOS 客戶端不僅在 UI 上不一致。受伺服器端解決方案的影響，該解決方案將一些複雜的商業邏輯卸載到客戶端，舊的 Classroom 應用程式還處理了核心實作之間的差異。除了造成偶爾的平台特定錯誤（這可能會讓工程師嘗試重現問題時感到沮喪！）之外，這還給任何評估任一實作的正確性的人帶來了相當大的心理負擔。</p>
<p>使用 Flutter 重寫 Classroom 解決了許多錯誤，包括以前已報告的和未報告的錯誤，這完全是因為 Flutter 如何處理原生平台互動。</p>
<p>在原始程式碼中，多年的持續開發偶爾會模糊 UI、商業和平台特定邏輯之間的界線。這意味著使用者的錯誤報告幾乎總是需要付出巨大的努力才能隔離，因為整個呼叫堆疊都有可能是罪魁禍首。請求的檔案沒有載入是因為檔案系統讀取不正確，是因為商業邏輯中的錯誤溝通，還是因為 UI 收到了檔案，但後來遺失了它？找出答案的唯一方法是 <em>調查所有內容</em>。</p>
<p>當然，Flutter 開發人員可以像其他人一樣模糊這些界線並混合邏輯，但 Classroom 工程團隊發現，遵循框架最佳實務會讓這種嘗試顯得痛苦地明顯。Flutter 的宣告式 UI 系統強烈建議不要意外地將商業邏輯放置在 UI Widget 中，而新的 MVVM 架構甚至有助於在 Flutter Widget 背後的龐大程式碼庫中強制執行明確的責任層級。</p>
<p>Flutter 應用程式仍然定期與底層平台通話 - 畢竟，上傳和檢視作業的使用者旅程無法在不使用檔案系統的情況下進行 - 但是，Flutter 將平台特定邏輯隔離到專用 Plugin 中的模式再次防止例如常規磁碟 I&#x2F;O 潛入不屬於它的位置。以下範例展示了 Flutter 應用程式存取檔案系統而不弄亂整個呼叫堆疊的實際方法。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:io&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:path/path.dart&#x27;</span> <span class="keyword">as</span> path;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:path_provider/path_provider.dart&#x27;</span> <span class="keyword">as</span> path_provider;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 載入學生為特定作業儲存的作業。</span></span><br><span class="line"><span class="comment">// 回傳值的 exists() 函數如果學生的狗吃了他們的作業，則會回傳 False。</span></span><br><span class="line">Future&lt;File&gt; getHomework(Assignment assignment) <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="comment">// 使用 `path_provider` 套件來抽象化平台特有的檔案系統怪癖</span></span><br><span class="line">  <span class="keyword">final</span> Directory homeworkDirectory =</span><br><span class="line">    <span class="keyword">await</span> path_provider.getApplicationSupportDirectory();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 擷取學生的上傳作業</span></span><br><span class="line">  <span class="keyword">return</span> File(</span><br><span class="line">    path.join([homeworkDirectory.absolute.path, assignment.name]),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>這個範例很簡單，而 Classroom 工程團隊最終開發了幾個他們自己的 Plugin 來包含更多複雜的與主機平台的互動。有趣的是，這麼做使他們的原生程式碼 <em>更容易除錯</em>，比他們在原始原生應用程式中所做的還要容易。這是怎麼做到的？在 Flutter Plugin 中遵循「不要重複自己」（DRY）原則意味著將盡可能多的商業邏輯提升到 Dart 程式碼中，只留下最簡單的輸入和輸出方法呼叫供原生互動使用。這迫使域邏輯和平台邏輯之間嚴格分離；這意味著 Classroom 的 Android 或 iOS 程式碼中的任何錯誤都可能出現在隔離的、單一責任的函數中，這些函數很容易推理。</p>
<h4 id="效能損耗"><a href="#效能損耗" class="headerlink" title="效能損耗"></a>效能損耗</h4><p>當使用者旅程失敗時，會提交一個具體的錯誤報告，所有人都同意需要修復它。但是，對於更柔和的問題，例如應用程式啟動時間緩慢，並且自應用程式推出以來逐年加劇，會發生什麼情況？加上對保持多個客戶端同步的擔憂，突然之間，對應用程式遲緩的啟動流程進行故障排除感覺像是個無望的任務。</p>
<p>在這裡，Flutter 有助於它本身足夠快，不會使問題惡化，更重要的是，它提供了從頭開始的機會。Classroom 團隊知道他們要建立的是全新的東西，而不是繞過多年開發的框架，因此他們透過移除多餘的 API 呼叫、並行化其他獨立的 API 呼叫，並在所有內容都解析時顯示閃爍效果和其他 UI 預覽，使他們的授權和啟動流程變得清晰。結果是應用程式啟動時間驚人地 *減少了 80%*！</p>
<h4 id="註解功能"><a href="#註解功能" class="headerlink" title="註解功能"></a>註解功能</h4><p>Classroom 的大部分功能都可以被視為一個相當例行的應用程式，將使用者聚集在共享內容周圍，例如作業和上傳的作業。但是，有一個功能脫穎而出，顯然 <em>很棘手</em>。Classroom 的一個主要功能是檔案共享，教師和學生都可以建立、檢視和編輯檔案，包括自由形式的註解，就像使用筆或記號筆在真實紙張上繪製一樣。這個註解共享功能已經存在於 Classroom 的原生 Android 和 iOS 客戶端中，因此將其移植到 Flutter 的任何摩擦都將是交易破壞者。</p>
<p>Classroom 團隊能夠將這個註解功能重新打包到一個 Plugin 中，該 Plugin 將平台特定實作委派給單獨的函式庫。對於檔案註解，這些變成了 Google One、Google Keep 和舊的 Classroom 應用程式中已使用的預先存在的原生函式庫的薄包裝。在內部，Android 和 iOS 對檔案共享有不同的實作要求。在 iOS 上，Classroom 應用程式透過原生視圖存取檔案，但在 Android 上，它會直接打開 Google Keep 應用程式。但是，良好的 Plugin 設計原則能夠隔離這些實作細節，並且仍然為應用程式中的其他部分提供乾淨、單一的 Dart API 來瀏覽。最終，Classroom 的「最棘手」功能之一已成功移植到 Flutter。</p>
<p>以下是 Classroom 在 Android 上的註解功能的視覺化圖示，概述了原生 UI 組件和 Flutter UI 組件的混合。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*yJhbJRuTHa2wt-ofA9fazw.png" />
<figcaption>四個並排的行動螢幕，共同展示了選擇和註解檔案的使用者流程</figcaption>
</figure>

<p>更廣泛地說，Flutter 中典型的 Plugin 設計如下所示，其中一個單一、簡化的介面載入平台特定函式庫，這些函式庫依次使用 FFI 或 JNI 與底層平台通話。這允許 Flutter 應用程式在所有構建目標中使用平台特定的原生 API，而不會將這些考量因素洩露到 Dart 程式碼中。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/928/1*slexehY5Bz7L36tuIuxP4g.png" />
<figcaption>如何設計 Flutter Plugin 的圖示</figcaption>
</figure>

<h3 id="回顧"><a href="#回顧" class="headerlink" title="回顧"></a>回顧</h3><h4 id="開發人員速度"><a href="#開發人員速度" class="headerlink" title="開發人員速度"></a>開發人員速度</h4><p>Classroom 團隊花了兩年時間使用一個團隊重寫了他們的應用程式，該團隊從 1 名工程師（用於最初的原型製作階段）到開發高峰期的 10 名全職工程師。這不是一筆小投資，但團隊做出了這個承諾，承諾在未來永久性地實現更快的開發和維護。Classroom 於 2023 年 6 月在 iOS 上推出了他們的 Flutter 重寫版本，並於 2024 年 1 月在 Android 上推出，完成了該專案。從那以後，平均花在新增功能上的工程師時間減少了三分之二，這意味著開發人員速度提高了三倍！在等待了 2 年新增功能後，利害關係人對久違的 ✨更快的功能開發✨ 到來感到興奮。</p>
<p>Classroom 團隊決定重寫的部分原因是，知道他們的專案永遠不會「完成」，因此新的功能可能會在很長一段時間內不斷新增。這為重寫提供了一個令人信服的理由，即使是昂貴的重寫，最終也會物超所值。Classroom 團隊在重寫投資後的哪個時間點會達到盈虧平衡的公式是：</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/1*JS2z5_kG8Z8hAfbrxeOtCw.png" />
<figcaption>估計使用 Flutter 重寫應用程式後速度提升何時會超過重寫時間的公式。公式是重寫時間除以使用 Flutter 撰寫功能時間減少量等於達到盈虧平衡所需的發佈後功能數量。</figcaption>
</figure>

<p>在發佈 iOS 版本的 9 個月裡，Classroom 估計已經透過 Flutter 提供的開發人員速度提高三倍，從而收回最初投資的 40%。</p>
<h4 id="開發人員體驗"><a href="#開發人員體驗" class="headerlink" title="開發人員體驗"></a>開發人員體驗</h4><p>比利害關係人更開心的只有開發人員 <em>本身</em>。對於 Classroom 團隊來說，他們開發人員速度提高三倍的結果來自於只撰寫每個功能一次（或者最多在具有大量原生組件的情況下撰寫 1.5 次），消除了兩個團隊（他們的時間安排通常相差數月）的協調成本，當然還有熱重載。熱重載本身，憑藉其約 99% 的重建時間減少，讓 Classroom 團隊的士氣比他們使用兩個原生客戶端時更高。最終，Classroom 團隊發現在他們轉向 Flutter 之後，很容易吸引和留住工程師。</p>
<p>此外，Classroom 團隊發現，新功能平均需要更少的程式碼行數來實作，減少了至少 50%。實際上，減少的幅度可能要高得多，因為他們在重寫過程中建立的每個功能甚至都沒有在兩個原生客戶端中正式實作！換句話說，減少 50% 的程式碼行數可以交付所有舊的功能，以及 <em>大型</em> 功能差距的覆蓋範圍（包括 iOS 上的離線支援）。</p>
<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>大約在開始重寫的兩年後，Classroom 團隊已將他們的應用程式發佈到 Android 和 iOS，並且新增了足夠多的功能來償還最初投資的 40%。他們的全新應用程式的啟動速度幾乎是舊版本的 <em>五倍</em>，為開發人員和最終使用者節省了時間和挫折。展望未來，新功能的開發成本平均是舊現狀的三分之一，享受在兩個平台上的同時發佈，<em>並且</em> 更容易進行故障排除和維護。總體而言，使用者、開發人員和利害關係人的士氣從未像 Classroom 轉向 Flutter 以重新投資他們的未來之後那樣高漲。</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=597d4f3b450c" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/cross-platform-development-with-flutter-how-google-classroom-gets-teachers-and-students-on-the-597d4f3b450c">使用 Flutter 開發跨平台應用程式 - Google Classroom 如何讓教師和學生步調一致</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/af71eac8.html" data-id="cm1ntp44b0000v5175q567zy3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Flutter/" rel="tag">Flutter</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2024-05-06T17:35:44.000Z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/cbc08ce3.html" class="article-date">
  <time datetime="2024-05-06T09:35:44.000Z" itemprop="datePublished">2024-05-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/cbc08ce3.html">【文章翻譯】Best practices for optimizing Flutter web loading speed</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【文章內容使用 Gemini 1.5 Pro 自動產生】</p>
<h2 id="優化-Flutter-網頁載入速度的最佳實務"><a href="#優化-Flutter-網頁載入速度的最佳實務" class="headerlink" title="優化 Flutter 網頁載入速度的最佳實務"></a>優化 Flutter 網頁載入速度的最佳實務</h2><p>作為一個與 Google Flutter 團隊合作，以及在私人時間裡也使用 Flutter 的開發者，我理解到 Flutter 網頁應用程式載入速度方面的疑慮。優化載入速度對於提升效能和提供良好的使用者體驗至關重要，特別是當 Flutter 開發者擴展到 Web 開發時。本指南提供可行的策略和最佳實務，以加速 Flutter 網頁應用程式的效能。</p>
<h3 id="渲染"><a href="#渲染" class="headerlink" title="渲染"></a>渲染</h3><p>CanvasKit 是 Flutter 網頁應用程式的預設 <a href="https://docs.flutter.dev/platform-integration/web/renderers">渲染器</a>，透過利用 WebGL 來提供高效能和跨平台的像素完美一致性。對於需要豐富動畫和高保真度的複雜圖形應用程式來說，此功能特別有用。但是，CanvasKit 本身的檔案大小（約 1.5 MB）可能是一個缺點，特別是對於初始載入時間至關重要的應用程式。</p>
<p>雖然 <code>flutter.js</code> 載入 API 並行下載 CanvasKit 和 <code>main.dart.js</code>，但所有 Flutter Widget 都必須等待它們完全載入到瀏覽器中，這可能會導致在應用程式變為互動式之前出現明顯的延遲。為了減輕這些疑慮並優化載入體驗，開發人員可以選擇 Wasm 渲染模式。</p>
<p>由於 Flutter 網頁中的 <a href="https://docs.flutter.dev/platform-integration/web/wasm">WebAssembly 支援</a> 被認為是實驗性的，並且可能會發生變化，因此這些步驟適用於願意實驗尖端功能的開發人員。功能和命令可能會發生變化，因此始終參考最新的 Flutter 文件以獲取當前做法。</p>
<h4 id="相容性"><a href="#相容性" class="headerlink" title="相容性"></a>相容性</h4><p>使用 Wasm 建置時，<code>dart:html</code> 套件不受支援。此限制意味著您必須仔細考慮應用程式依賴的 API。或者，[web 套件] (<a href="https://pub.dev/packages/web">https://pub.dev/packages/web</a>) 被 <code>dart2wasm</code> 和 <code>dart2js</code> 支援。</p>
<h4 id="效能"><a href="#效能" class="headerlink" title="效能"></a>效能</h4><p>Wasm 不僅減少了與 CanvasKit 相比的應用程式大小，而且與 JavaScript 相比，啟動速度也更快。</p>
<h3 id="惰性載入"><a href="#惰性載入" class="headerlink" title="惰性載入"></a>惰性載入</h3><p>Dart 的 <a href="https://dart.dev/language/libraries#lazily-loading-a-library">延遲匯入</a> 允許您分割程式碼，並且只在需要時載入部分程式碼，從而減少初始載入時間。以下幾節將討論如何使用延遲載入。</p>
<h4 id="宣告延遲匯入"><a href="#宣告延遲匯入" class="headerlink" title="宣告延遲匯入"></a>宣告延遲匯入</h4><p>在 Dart 檔案的頂部，宣告您要延遲的匯入。在匯入語句中，指定 <code>deferred</code>，後跟一個識別符號。當您需要使用函式庫時，請使用延遲匯入上的 <code>loadLibrary()</code> 方法異步載入它：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;package:myapp/hello.dart&#x27; deferred as hello;</span><br><span class="line"></span><br><span class="line">Future&lt;void&gt; loadHelloLibrary() async &#123;</span><br><span class="line">  await hello.loadLibrary();</span><br><span class="line">  hello.sayHi();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="呼叫載入函式"><a href="#呼叫載入函式" class="headerlink" title="呼叫載入函式"></a>呼叫載入函式</h4><p>在 Flutter 應用程式中，根據需要呼叫此函式，例如，作為對使用者互動的回應。以下範例在使用者按下 Widget 時載入所需的函式庫：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;package:flutter/material.dart&#x27;;</span><br><span class="line"></span><br><span class="line">void main() &#123;</span><br><span class="line">  runApp(MaterialApp(home: MyApp()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class MyApp extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    return Scaffold(</span><br><span class="line">      body: Center(</span><br><span class="line">        child: ElevatedButton(</span><br><span class="line">          onPressed: () &#123;</span><br><span class="line">            loadHelloLibrary();</span><br><span class="line">          &#125;,</span><br><span class="line">          child: Text(&#x27;Load Feature&#x27;),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="未等待的函式呼叫"><a href="#未等待的函式呼叫" class="headerlink" title="未等待的函式呼叫"></a>未等待的函式呼叫</h3><p>為了減少顯示應用程式初始 Widget 所花費的時間，請嘗試在呼叫 <code>runApp</code> 之前不要等待昂貴的未來。有些未來可以不等待，以便它們在完成後更新 UI。<code>unawaited</code> 函式允許應用程式程式設計師明確地告知「未等待的未來」警告，這些未來預計不會被等待。此改進透過使應用程式感覺更具回應性，增強了應用程式啟動和頁面載入過程中的使用者體驗。但是，務必仔細管理此類函式，以避免與應用程式狀態一致性和資源管理相關的問題。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;dart:async&#x27;;</span><br><span class="line">import &#x27;package:flutter/material.dart&#x27;;</span><br><span class="line"></span><br><span class="line">void main() &#123;</span><br><span class="line">  unawaited(downloadVideos().then((videos) &#123;</span><br><span class="line">    playlist.add(videos);</span><br><span class="line">  &#125;));</span><br><span class="line"></span><br><span class="line">  runApp(const MyApp());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="媒體檔案"><a href="#媒體檔案" class="headerlink" title="媒體檔案"></a>媒體檔案</h3><h4 id="以最佳解析度顯示資產"><a href="#以最佳解析度顯示資產" class="headerlink" title="以最佳解析度顯示資產"></a>以最佳解析度顯示資產</h4><p>Flutter 會自動根據設備的像素密度 <a href="https://docs.flutter.dev/ui/assets/assets-and-images#resolution-aware">載入適當解析度的資產</a>。這可以確保在不同螢幕尺寸上都能獲得最佳視覺效果。雖然優化資產以實現高效傳遞非常重要，但在探索替代圖片格式之前，請優先考慮提供所需準確解析度的資產，就像我們在下一節中將要討論的那樣。</p>
<h4 id="更好的圖片壓縮"><a href="#更好的圖片壓縮" class="headerlink" title="更好的圖片壓縮"></a>更好的圖片壓縮</h4><p>PNG 和 JPG 是網站上使用最廣泛的圖片格式之一。這些格式以其廣泛的支援和相容性而聞名。但是，新一代格式，例如 <a href="https://developers.google.com/speed/webp">WebP</a> 和 <a href="https://netflixtechblog.com/avif-for-next-generation-image-coding-b1d75675fe4">AVIF</a>，在減少檔案大小方面提供了顯著的進展，而不會顯著損害圖片品質。例如，原始大小為 319 KB 的 PNG 圖片可以在 WebP 格式中壓縮到僅 38 KB，或者更令人印象深刻的是，在 AVIF 格式中壓縮到 10 KB。這些檔案大小的減少是在人類視覺可察覺的品質損失最小的情況下實現的，這證明了這些格式在維持視覺保真度的同時，可以提高網站載入速度的潛力。</p>
<figure>
<img alt="" src="https://cdn-images-1.medium.com/max/1024/0*_bz3_DRzn9aoB0qD" />
<figcaption>PNG 319 KB / WebP 38 KB / AVIF 10 KB</figcaption>
</figure>

<p>但是，請注意，並非所有瀏覽器都支援 <a href="https://caniuse.com/webp">WebP</a> 和 <a href="https://caniuse.com/avif">AVIF</a> 圖片。在將這些格式整合到網站中之前，請驗證它們與您的受眾最常使用的瀏覽器是否相容。這將有助於您確定這些新一代圖片格式是否符合網站的要求和受眾需求。</p>
<h3 id="快取"><a href="#快取" class="headerlink" title="快取"></a>快取</h3><h4 id="記憶體、磁盤、Service-Workers-快取"><a href="#記憶體、磁盤、Service-Workers-快取" class="headerlink" title="記憶體、磁盤、Service Workers 快取"></a>記憶體、磁盤、Service Workers 快取</h4><p>利用記憶體快取、磁盤快取和 Service Workers 的功能可以顯著減少初始頁面載入後的載入時間。這是因為這些快取機制需要檔案先載入一次才能快取它們。記憶體快取儲存在 RAM 中，提供快速存取速度，但易失性。另一方面，磁盤快取雖然速度較慢，但提供持久性。Service Workers 作為可程式設計的網路代理，可以在記憶體和磁盤中啟用複雜的快取策略。</p>
<p>瀏覽器或作業系統通常會自動管理記憶體和磁盤快取，除非有特定要求需要以程式設計方式操縱它們，否則您不需要手動干預。雖然 Flutter 在一定程度上管理 Service Workers，但開發人員可以靈活地在 Flutter 之外實作自訂 Service Workers，以增強對快取和網路互動的控制。</p>
<h4 id="Wasm"><a href="#Wasm" class="headerlink" title="Wasm"></a>Wasm</h4><p>瀏覽器快取 Wasm 檔案（如 CanvasKit，以及很快將推出的 <code>dart2wasm</code> 輸出），以及它們的編譯原生程式碼。這意味著快取的 Wasm 模組載入速度與原生二進位檔案一樣快，這與 JavaScript 不同，JavaScript 需要重新解析、重新編譯和重新 JIT（即時）處理。</p>
<p>雖然 Flutter 的 Wasm 建置選項尚未完全穩定，但採用現代 JS-interop 做法將在 <code>dart2wasm</code> 穩定時對您有所幫助。例如，避免使用 <code>dart:html</code> 和 <code>dart:js</code> 等傳統函式庫，並且優先考慮 <code>package:web</code> 和 <code>dart:js_interop</code>。此外，請考慮檢查您使用的其他套件是否與 Wasm 相容。</p>
<h3 id="預載入"><a href="#預載入" class="headerlink" title="預載入"></a>預載入</h3><h4 id="HTML-、HTTP-回應標頭"><a href="#HTML-、HTTP-回應標頭" class="headerlink" title="HTML &lt;head tag&gt;、HTTP 回應標頭"></a>HTML &lt;head tag&gt;、HTTP 回應標頭</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel/preload">預載入資產</a>，例如圖片、字體和 JavaScript 檔案，可以顯著提高網頁載入速度。透過在 HTML &lt;head&gt; 標籤中預載入或使用 HTTP 回應標頭，您可以指示瀏覽器在需要渲染時之前下載這些資源。這可以消除延遲，並確保更流暢的使用者體驗。若要預載入資產，請在 &lt;head&gt; 部分中新增 &lt;link&gt; 標籤，並將 <code>rel</code> 屬性設定為 <code>preload</code>。僅預載入立即使用的資產，理想情況下是在應用程式的第一個畫面中，否則瀏覽器會將預載入視為浪費頻寬。</p>
<h4 id="HTML-標籤"><a href="#HTML-標籤" class="headerlink" title="HTML &lt;head&gt; 標籤"></a>HTML &lt;head&gt; 標籤</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;assets/logo.webp&quot;</span> <span class="attr">as</span>=<span class="string">&quot;image&quot;</span> <span class="attr">type</span>=<span class="string">&quot;image/webp&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">picture</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;assets/logo.webp&quot;</span> <span class="attr">type</span>=<span class="string">&quot;image/webp&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">picture</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="Firebase-主機的-HTTP-回應標頭"><a href="#Firebase-主機的-HTTP-回應標頭" class="headerlink" title="Firebase 主機的 HTTP 回應標頭"></a>Firebase 主機的 HTTP 回應標頭</h4><p>以下程式碼塊是一個 <code>firebase.json</code> 範例，其中包含一個鍵&#x2F;值組合，展示如何為資產預載入新增 HTTP 標頭。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;headers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Link&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&lt;assets/logo.webp&gt;; rel=preload; as=image&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<h4 id="首頁"><a href="#首頁" class="headerlink" title="首頁"></a>首頁</h4><p>Flutter 使您能夠使用純粹的 HTML&#x2F;CSS 為您的應用程式建立完全互動式的首頁。當使用者與您的首頁互動時，<code>flutter.js</code> 會預載入您的 Flutter 應用程式，確保在使用者導航到 Flutter 應用程式時可以立即啟動。這對具有播放按鈕的遊戲和需要登入的應用程式特別有用。</p>
<h3 id="載入-啟動畫面"><a href="#載入-啟動畫面" class="headerlink" title="載入&#x2F;啟動畫面"></a>載入&#x2F;啟動畫面</h3><p>雖然我們一直專注於應用程式載入速度的技術優化，但感知載入速度更為關鍵。您的目標應該是使應用程式 <em>感覺</em> 很快。</p>
<p>載入&#x2F;啟動畫面在增強這種感知方面非常有效。透過提供視覺活动，它們可以讓使用者確信應用程式正在快速啟動。相反，空白畫面會帶來不確定性，可能會導致沮喪和頁面重新整理。</p>
<p>為了獲得最快的回應速度，請使用純粹的 CSS&#x2F;HTML 在您的 <code>index.html</code> 檔案中直接實作您的啟動畫面。這可以最大限度地減少任何潛在的延遲。</p>
<p>例如，請查看 <a href="https://github.com/flutter/gallery/blob/cfcb9dbda56697fe8bafe4b64c1a9261dde908ae/web/index.html#L211">Flutter Gallery 實作</a>。</p>
<h3 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h3><p>在本指南中，我們探討了加速 Flutter 網頁應用程式初始載入和渲染效能的方法。您可以採用各種策略，但請記住，每個解決方案都涉及權衡取捨。選擇最適合您的特定需求和使用者需求的優化方法。透過結合這些方法，您可以為您的 Flutter 網頁應用程式創造更流暢、更具回應性的使用者體驗。</p>
<p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=7cc0df14ce5c" width="1" height="1" alt=""><hr><p><a href="https://medium.com/flutter/best-practices-for-optimizing-flutter-web-loading-speed-7cc0df14ce5c">優化 Flutter 網頁載入速度的最佳實務</a> 最初發佈在 <a href="https://medium.com/flutter">Flutter</a> 上的 Medium，人們在那裡透過突出顯示和回應這個故事來繼續討論。</p></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/cbc08ce3.html" data-id="cm1ntp44e0001v517bvcdf595" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Flutter/" rel="tag">Flutter</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android-app-store-tutorial" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/4254a2e9.html" class="article-date">
  <time datetime="2020-10-25T11:51:40.000Z" itemprop="datePublished">2020-10-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/4254a2e9.html">Android app 上架流程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本篇文章主要介紹在2020年 Goolge 改版後的 Play Store Console 如何上架 Android App</p>
<p>首先到 <a href="https://play.google.com/console/u/0/developers/" target="_blank" rel="noopener">Play Store Console</a> 右邊點擊新增應用程式</p>
<p><img src="../images/android-app-deploy/img1.png" alt=""></p>
<p>填寫以下應用程式詳細資訊</p>
<ul>
<li>應用程式名稱：會顯示在商店的App名稱</li>
<li>預設語言：預設App使用的語言，作為商店一開始提供的預設語言</li>
<li>應用程式類型：分類只有遊戲與應用程式，目的是要把遊戲區分出來，日後可更改</li>
<li>是否收費：設定App是否下載時需要費用，勾選收費後，需要至 <code>付費應用程式</code> 修改設定</li>
</ul>
<p>最後同意 <code>開發人員計畫政策</code> 及 <code>美國出口法律</code> 後，即可完成初始設定</p>
<p><img src="../images/android-app-deploy/img2.png" alt=""></p>
<p><img src="../images/android-app-deploy/img3.png" alt=""></p>
<p>接著進入到 <code>資訊主頁</code></p>
<p><img src="../images/android-app-deploy/img4.png" alt=""></p>
<p>第一次設定時會出現 <code>初始設定</code> 提示，可依序點擊設定，該步驟都是必須完成的步驟，否則無法完成審查上架</p>
<p><img src="../images/android-app-deploy/img5.png" alt=""></p>
<h1 id="應用程式存取權"><a href="#應用程式存取權" class="headerlink" title="應用程式存取權"></a>應用程式存取權</h1><p>設定 App 是否開放給全部使用者</p>
<p><img src="../images/android-app-deploy/img6.png" alt=""></p>
<p>或是部分功能有使用限制，需設定：</p>
<ul>
<li>名稱</li>
<li>使用者名稱/電話號碼</li>
<li>密碼</li>
<li>任何操作說明</li>
</ul>
<p>透過此可限制使用者下載應用程式</p>
<p><img src="../images/android-app-deploy/img7.png" alt=""></p>
<p><img src="../images/android-app-deploy/img8.png" alt=""></p>
<h1 id="廣告"><a href="#廣告" class="headerlink" title="廣告"></a>廣告</h1><p>設定App中是否有廣告，若有勾選廣告則會在Play商店上顯示 <code>含廣告內容</code> 的標籤</p>
<p><img src="../images/android-app-deploy/img10.png" alt=""></p>
<h1 id="內容分級"><a href="#內容分級" class="headerlink" title="內容分級"></a>內容分級</h1><p>根據國際年齡分級聯盟（英語：International Age Rating Coalition，縮寫IARC）設計的簡化各國分級的內容分級問卷，降低產品評比的過程，<a href="https://zh.wikipedia.org/wiki/%E5%9C%8B%E9%9A%9B%E5%B9%B4%E9%BD%A1%E5%88%86%E7%B4%9A%E8%81%AF%E7%9B%9F" target="_blank" rel="noopener">參考資料</a></p>
<p>填寫內容分級問卷，讓使用者了解App的分類，及是否會有不宜兒童的內容</p>
<p><img src="../images/android-app-deploy/img11.png" alt=""></p>
<p>首先填寫電子郵件，問卷完成會寄送一份結果至該信箱</p>
<p><img src="../images/android-app-deploy/img13.png" alt=""></p>
<p>選擇 App 的類別，以 <a href="https://play.google.com/store/apps/details?id=com.wtuc.ap" target="_blank" rel="noopener">文藻校務通</a> 為例，選擇 <code>參考資訊、新聞或教育內容</code></p>
<p><img src="../images/android-app-deploy/img12.png" alt=""></p>
<p>根據選擇的類型，需填寫相關內容是否有未成年暴力色情訊息</p>
<p><img src="../images/android-app-deploy/img14.png" alt=""></p>
<p>完成後會顯示基本的報表，點擊右下角提交完成問卷</p>
<p><img src="../images/android-app-deploy/img15.png" alt=""></p>
<p>完成後，若日後想在修改問卷內容，需至右上角 點擊 <code>Start new questionaire</code> 重新提交問卷</p>
<p><img src="../images/android-app-deploy/img16.png" alt=""></p>
<h1 id="目標對象"><a href="#目標對象" class="headerlink" title="目標對象"></a>目標對象</h1><p>填寫詳細的App發布目標對象</p>
<p>首先點選 <code>目標年齡層</code>，主要是確認目標對象是不是兒童，若對象未滿13歲則需要新增隱私權政策</p>
<p><img src="../images/android-app-deploy/img18.png" alt=""></p>
<p>勾選 <code>是否會引起兒童興趣</code>，若上者點擊13歲以下，可勾選 <code>是</code> 宣稱適合兒童</p>
<p><img src="../images/android-app-deploy/img19.png" alt=""></p>
<p>最後點擊 <code>儲存</code> 完成目標對象和內容</p>
<p><img src="../images/android-app-deploy/img20.png" alt=""></p>
<p>接著就完成一半了～～</p>
<p><img src="../images/android-app-deploy/img21.png" alt=""></p>
<h1 id="應用程式類別及詳細資料"><a href="#應用程式類別及詳細資料" class="headerlink" title="應用程式類別及詳細資料"></a>應用程式類別及詳細資料</h1><p>應用程式分類，區分應用程式或遊戲的類別，在Play 商店中，也會有類別排名</p>
<p><img src="../images/android-app-deploy/img22.png" alt=""></p>
<p>接著設定商店的聯絡詳細資訊，分別為</p>
<ul>
<li>電子郵件地址 (必填)</li>
<li>電話號碼</li>
<li>網站</li>
</ul>
<p><strong>以上訊息皆會在Play商店上顯示</strong></p>
<p><img src="../images/android-app-deploy/img23.png" alt=""></p>
<p>並勾選是否要在Play商店外行銷，讓外部網站可搜尋到你的App</p>
<p><img src="../images/android-app-deploy/img24.png" alt=""></p>
<p>完成後就只剩下最後一個步驟</p>
<p><img src="../images/android-app-deploy/img25.png" alt=""></p>
<h1 id="商店資訊"><a href="#商店資訊" class="headerlink" title="商店資訊"></a>商店資訊</h1><p>首先會根據一開始設定的<code>主要語言</code>，設定 App 在 Play 商店的資訊，可根據不同語言，設定不同的商店資訊，可點擊 <code>管理其他語言版本的翻譯內容</code> 管理其他語言的內容</p>
<h2 id="應用程式詳細資料"><a href="#應用程式詳細資料" class="headerlink" title="應用程式詳細資料"></a>應用程式詳細資料</h2><p>首先可設定</p>
<ul>
<li>應用程式名稱：App名稱，作為可供搜尋的關鍵字，上限50字</li>
<li>簡短說明：可在App頁面首要看到簡短說明，上限80字</li>
<li>完整說明：在點擊<code>關於這個應用程式</code>後顯示的完整說明</li>
</ul>
<p><img src="../images/android-app-deploy/img26.png" alt=""></p>
<p>可參照 Play 商店對應位置</p>
<p><img src="../images/android-app-deploy/img26-1.jpg" alt=""></p>
<p><img src="../images/android-app-deploy/img26-2.jpg" alt=""></p>
<p>接著設定 <code>應用程式圖示</code> 會顯示在 Play 商店的圖示，<strong>限定尺寸為 <code>512*512</code> 的解析度</strong>，上傳後都會以橢圓裁剪顯示</p>
<p><img src="../images/android-app-deploy/img27.png" alt=""></p>
<p>主要圖片顯示於商店資訊的最頂端，可用於宣傳應用程式，<strong>大小限制 <code>1024*500</code> 解析度的圖片</strong></p>
<p><img src="../images/android-app-deploy/img29.png" alt=""></p>
<p>螢幕截圖主要分為</p>
<ul>
<li>手機</li>
<li>七吋平板電腦</li>
<li>十吋平板電腦</li>
</ul>
<p>基本上，對應類型的裝置截圖都適用，也可自行製作符合規定的尺寸的圖片，<strong>皆為使用 JPEG 或 24 位元 PNG 圖片，長寬比建議16:9</strong></p>
<p><img src="../images/android-app-deploy/img30.png" alt=""></p>
<p><img src="../images/android-app-deploy/img31.png" alt=""></p>
<p>加入影片也會顯示於商店上</p>
<p><img src="../images/android-app-deploy/img32.png" alt=""></p>
<p>商店資訊設定完成後，若未來要修改都可直接修改，但修改後都需要等商店部署時間，通常都會為半天左右時間</p>
<h1 id="上傳App至商店"><a href="#上傳App至商店" class="headerlink" title="上傳App至商店"></a>上傳App至商店</h1><p>到 <code>發佈</code> 的目錄下，選擇App目前要發布的方式，有分成</p>
<ul>
<li>正式版：會發布給商店中所有設置的地區</li>
<li>公開測試：任何使用者可至 Play 商店點擊測試計畫，即可使用此版本</li>
<li>封閉測試：由開發人員建立電子郵件清單，或是可透過連結加入測試計畫 <a href="https://play.google.com/apps/testing/{app" target="_blank" rel="noopener">https://play.google.com/apps/testing/{app</a> id}</li>
<li>內部測試：由開發人員建立電子郵件清單，或是可透過內部邀請測試連結：<a href="https://play.google.com/apps/internaltest/{test" target="_blank" rel="noopener">https://play.google.com/apps/internaltest/{test</a> group id} 加入</li>
<li>搶先註冊：若還沒發佈正式版時，可利用此功能，在Play商店中顯示搶先體驗的字樣，並提供測試人員特殊獎勵</li>
</ul>
<p>不管利用哪種測試方式，接下來上傳App的方式都會相同，例如選擇 <code>正式版</code> 發布，並點擊右上方的 <code>建立新版本</code></p>
<p><img src="../images/android-app-deploy/img33.png" alt=""></p>
<p>接著第一次上架時需點擊 同意使用 <code>Google Play 應用程式簽署</code>，Google 會管理你簽署所使用的金鑰，並且該金鑰只能提供給該 App 使用</p>
<p>若今天金鑰遺失，可請帳戶擁有者聯絡<a href="https://support.google.com/googleplay/android-developer/contact/otherbugs" target="_blank" rel="noopener">支援小組</a>重新上傳金鑰</p>
<p>將利用 <code>Android Studio</code> 等等的 Android 編譯工具，將原生Android 的 <code>Apk</code> 或是 <code>App Bundle</code> 上傳至此頁面</p>
<p><strong>每次新上傳的 <code>版本號碼(version code)</code> 皆需大於先前上傳的</strong></p>
<p>關於金鑰使用詳細 <a href="https://support.google.com/googleplay/android-developer/answer/7384423" target="_blank" rel="noopener">可參考</a></p>
<p><img src="../images/android-app-deploy/img35.png" alt=""></p>
<h2 id="版本詳細資訊"><a href="#版本詳細資訊" class="headerlink" title="版本詳細資訊"></a>版本詳細資訊</h2><p>版本名稱會根據上傳的 <code>Apk</code> 或 <code>App Bundle</code> 命名</p>
<p>版本資訊會根據商店可提供的語言，以 <code>XML</code> 格式撰寫，將這次更新內容寫至 <code>語言碼(language code)</code> 中</p>
<p><img src="../images/android-app-deploy/img36.png" alt=""></p>
<p>完成後點擊儲存，並點擊檢查版本</p>
<p><img src="../images/android-app-deploy/img37.png" alt=""></p>
<p>接著會發現沒有設定提供地區</p>
<p><img src="../images/android-app-deploy/img38.png" alt=""></p>
<p>返回至上一頁的最上方，選擇 <code>國家與地區</code> 編輯針對正式版的發布國家/地區</p>
<p><img src="../images/android-app-deploy/img39.png" alt=""></p>
<p>若沒勾選，Play商店就不會發佈至此國家/地區</p>
<p><img src="../images/android-app-deploy/img40.png" alt=""></p>
<p>接著回到剛剛編輯的版本資訊，點擊 <code>開始發布(正式版)</code></p>
<p><img src="../images/android-app-deploy/img41.png" alt=""></p>
<p>最後會跳回正式版的頁面，並顯示審查中</p>
<p><img src="../images/android-app-deploy/img42.png" alt=""></p>
<p>自 2019 年開始，Play 商店在第一次審查時，最久大約會至七天，爾後提交大約都是一下子就完成審查，並都是半天會完全部署至商店(所有使用者都可以看到更新)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/4254a2e9.html" data-id="ckrhj405y0000gxb30xskeeey" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Flutter/" rel="tag">Flutter</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ios-app-store-tutorial" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/dc2c1f00.html" class="article-date">
  <time datetime="2020-10-24T12:27:58.000Z" itemprop="datePublished">2020-10-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Flutter/">Flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/dc2c1f00.html">iOS app 上架流程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本篇文章主要介紹在2020年 Apple 改版後的 App Store Connect 如何上架 iOS App</p>
<h1 id="新增-App"><a href="#新增-App" class="headerlink" title="新增 App"></a>新增 App</h1><p>到 <a href="https://appstoreconnect.apple.com/" target="_blank" rel="noopener">App Store Connect</a> 點擊 <code>我的App</code></p>
<p><img src="../images/ios-app-deploy/img1.png" alt=""></p>
<p>點擊 App 旁邊邊的 + 選擇 <code>新的 App</code></p>
<p><img src="../images/ios-app-deploy/img2.png" alt=""></p>
<h1 id="註冊Identifier"><a href="#註冊Identifier" class="headerlink" title="註冊Identifier"></a>註冊Identifier</h1><p>到 <a href="https://developer.apple.com/account/resources/identifiers/list" target="_blank" rel="noopener">憑證、識別碼及描述檔</a> 註冊App的 <code>Identifier</code></p>
<p><img src="../images/ios-app-deploy/img4-0.png" alt=""></p>
<p>選擇 <code>App IDs</code></p>
<p><img src="../images/ios-app-deploy/img4-1.png" alt=""></p>
<p>選擇 <code>App</code></p>
<p><img src="../images/ios-app-deploy/img4-2.png" alt=""></p>
<p><strong>Discription</strong> 填寫可以識別的名稱</p>
<p><strong>App ID Prefix</strong> 選擇 <code>Explicit</code> 並填上與 Xcode 中的 <code>Bundle Indentifier</code> 相同的 ID</p>
<p><strong>App ID Prefix 的 Bundle ID 上架後就不可修改</strong></p>
<p>最後點擊 <code>Continue</code> 然後 <code>Register</code> 完成註冊</p>
<p><img src="../images/ios-app-deploy/img4-3.png" alt=""></p>
<p>或是</p>
<p>懶人方法</p>
<p>使用 <code>Xcode</code> 在 <code>Target</code> 中的 <code>Runner</code> 選擇 <code>Signing &amp; Capabilities</code></p>
<p>選擇想要上架的Apple開發者帳號</p>
<p><img src="../images/ios-app-deploy/img3.png" alt=""></p>
<p>並點擊 <code>+ Capability</code> 隨意新增一個 Capability</p>
<p>此動作 <code>Xcode</code> 會自動註冊 <code>Indentifier</code> 至 App Store Connect</p>
<p>完成後再將其取消 </p>
<p>沒取消的話審查時會納入審查範圍 要特別注意</p>
<p><img src="../images/ios-app-deploy/img4-4.png" alt=""></p>
<p>接著填寫App基本資訊</p>
<ul>
<li>平台：選擇你的App會在哪些平台提供，若沒勾選可事後新增</li>
<li>名稱：在Apple Store的名稱，無法跟已上架App相同，命名上需要先搶先贏，除非對方把App刪除或修改名稱，也是使用者搜尋時能找到你的App的首要途徑</li>
<li>主要語言：首先可在商店提供的語言，若有發佈不同國家語系，可事後新增</li>
<li>套件識別碼：選擇剛才新增的 <code>Indentifier</code>，選擇後就不能修改，對應到原生的 <code>Bundle Indentifier</code></li>
<li>SKU：App ID 為獨一無二，可任意命名，填寫後不能修改，但不會公開顯示</li>
</ul>
<p><img src="../images/ios-app-deploy/img4-5.png" alt=""></p>
<h1 id="App-資訊"><a href="#App-資訊" class="headerlink" title="App 資訊"></a>App 資訊</h1><p>新增 App 後，可先來 一般資訊 -&gt; App 資訊，填寫 App 基本資訊，這邊會分兩個區塊，一個是可本地化資訊及一般資訊</p>
<h3 id="可本地化資訊"><a href="#可本地化資訊" class="headerlink" title="可本地化資訊"></a>可本地化資訊</h3><ul>
<li>名稱：必填，為一開始輸入的 App 名稱</li>
<li>副標題：必填，商店中會位於 App 名稱下方，建議使用簡短語句說明 App</li>
<li>隱私權政策：必填，聲明你的 App 隱私權政策的網址，不限制格式</li>
</ul>
<p><img src="../images/ios-app-deploy/img16.png" alt=""></p>
<h3 id="一般資訊"><a href="#一般資訊" class="headerlink" title="一般資訊"></a>一般資訊</h3><ul>
<li>Apple ID：由 Apple 產生，作為網頁上的編號，可至 <a href="https://apps.apple.com/tw/app/id`${你的" target="_blank" rel="noopener">https://apps.apple.com/tw/app/id`${你的</a> Apple ID}`，找到你的App</li>
<li>內容版權：聲明你的 App 是否有第三方內容，像是以校務通來說，資料來源於學校，就可以視為第三方內容 </li>
<li>年齡分級：必填，根據填寫 <a href="#/年齡分級問卷">年齡分級問卷</a> 的結果</li>
<li>許可協議：必填，預設使用 <a href="https://www.apple.com/legal/internet-services/itunes/dev/stdeula/" target="_blank" rel="noopener">《Apple 標準終端使用者許可協議》(EULA)</a>，可點擊自訂許可協議</li>
<li>類別：必填，在商店的分類，可選擇兩個，也作為與同類型App排名的分類</li>
</ul>
<p><img src="../images/ios-app-deploy/img17.png" alt=""></p>
<h1 id="定價與供應狀況"><a href="#定價與供應狀況" class="headerlink" title="定價與供應狀況"></a>定價與供應狀況</h1><ul>
<li>價格排程：選擇你的App定價方式，最低免費到最高 32900元，使用者付費購買後90天內都可以反悔</li>
<li>預定：第一次上架前會顯示，自訂日期在App成功發布後，會通知預定的使用者</li>
<li>供應狀況：需先填寫<code>供應國家與地區</code>，若選擇停止供應，會從商店下架，直到重新供應為止</li>
<li>Mac 上的 iOS App：如果你的iOS App有使用到 <a href="https://developer.apple.com/mac-catalyst/" target="_blank" rel="noopener">Mac Catalyst
</a>(Flutter 目前不支援)，會將你的iOS App發佈至 Mac App Store，若有發佈macOS App，則優先發布 macOS App</li>
<li>App發布方式：根據你的開發者帳號，若個人開發者帳號只能選擇公開在Apple Store，若是企業開發者帳號，則可以發布到私人的商店發布</li>
</ul>
<p><img src="../images/ios-app-deploy/img18.png" alt=""></p>
<p><img src="../images/ios-app-deploy/img18-1.png" alt=""></p>
<p><img src="../images/ios-app-deploy/img26.png" alt=""></p>
<h1 id="App版本資訊"><a href="#App版本資訊" class="headerlink" title="App版本資訊"></a>App版本資訊</h1><p>進入 App <code>版本資訊</code> 後</p>
<p>首先設定 <code>App預覽與截圖</code> 可參考以下規格 <strong><code>每個至少三張</code></strong></p>
<p>12.9 吋 iPad Pro 第三代 及 第二代 尺寸是可以相容的 故截圖第三代 可直接上傳到第二代</p>
<p>建議使用模擬器截圖 上傳完可用滑鼠拖曳改變顯示順序</p>
<table>
<thead>
<tr>
<th style="text-align:center">螢幕尺寸說明</th>
<th style="text-align:center">平台</th>
<th style="text-align:center">截圖尺寸</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">iPhone 6.5 吋</td>
<td style="text-align:center">iPhone 11 Pro Max、iPhone 11、iPhone X S Max、iPhone XR</td>
<td style="text-align:center">1242 x 2688 像素（直向） 2688 x 1242 像素（橫向）</td>
</tr>
<tr>
<td style="text-align:center">iPhone 5.5 吋</td>
<td style="text-align:center">iPhone 8 Plus、iPhone 7 Plus、iPhone 6s Plus</td>
<td style="text-align:center">1242 x 2208 像素（直向） 2208 x 1242 像素（橫向）</td>
</tr>
<tr>
<td style="text-align:center">12.9 吋 iPad Pro（第三代）</td>
<td style="text-align:center">iPad Pro 2018、iPad Pro 2020</td>
<td style="text-align:center">2048 x 2732 像素（直向） 2732 x 2048 像素（橫向）</td>
</tr>
<tr>
<td style="text-align:center">12.9 吋 iPad Pro（第二代）</td>
<td style="text-align:center">iPad Pro 2017</td>
<td style="text-align:center">2048 x 2732 像素（直向） 2732 x 2048 像素（橫向）</td>
</tr>
</tbody>
</table>
<p>更多詳細資訊 <a href="https://help.apple.com/app-store-connect/#/devd274dd925" target="_blank" rel="noopener">可參考</a></p>
<p><img src="../images/ios-app-deploy/img5.png" alt=""></p>
<p>接著填寫</p>
<ul>
<li>行銷宣傳文字：作為 App 行銷宣傳標語，建議簡短的文字，也要符合App的性質</li>
<li>關鍵字：在商店搜尋時，透過關鍵字加強找到App，並使用逗點隔開</li>
<li>描述：詳細介紹App的功能與特色</li>
<li>支援URL：對應商店開發者網頁</li>
<li>行銷URL：待補充</li>
<li>版本：可參考 <a href="https://semver.org/lang/zh-TW/" target="_blank" rel="noopener">語意化版本</a>，不限定兩碼或三碼，不能與先前定義的相同</li>
<li>版權：宣告App版權的註解</li>
<li>年齡分級：根據填寫 <a href="#/年齡分級問卷">年齡分級問卷</a> 的結果（需點擊編輯填寫）</li>
</ul>
<p><img src="../images/ios-app-deploy/img6.png" alt=""></p>
<p><img src="../images/ios-app-deploy/img7.png" alt=""></p>
<p>對應在商店的位置可參考</p>
<p><img src="../images/ios-app-deploy/img6-1.png" alt=""></p>
<p><img src="../images/ios-app-deploy/img6-2.png" alt=""></p>
<h2 id="年齡分級問卷"><a href="#年齡分級問卷" class="headerlink" title="年齡分級問卷"></a>年齡分級問卷</h2><p>針對App的內容填寫是否有兒童不宜的</p>
<p><img src="../images/ios-app-deploy/img9.png" alt=""></p>
<p><img src="../images/ios-app-deploy/img10.png" alt=""></p>
<h2 id="App審查資訊"><a href="#App審查資訊" class="headerlink" title="App審查資訊"></a>App審查資訊</h2><p>蘋果在審查時都是採用 <code>人工審查</code>，審查過程都須填寫完整的資料</p>
<ul>
<li>登入資訊：若你的App有設計登入功能，需提供測試帳號給審查人員</li>
<li>聯絡人資訊：當審查有問題時的聯絡人資訊，電話號碼需要加入國際冠碼</li>
<li>備註：資訊則提供其他資訊供審查人員了解你的App，像是之前就被問過這幾個問題，爾後我都在新的App加入這些回答<ul>
<li>Who is the target audience?</li>
<li>How do users obtain an account?</li>
<li>Is this app meant for internal distribution in your own company, in the company of one target client, or in multiple target clients’ companies?</li>
<li>In which countries will this app primarily be distributed?</li>
<li>If this app is meant for internal distribution, will the app be accessible by both internal and external partners? Or will it be exclusive to in-house employees?<ul>
<li>附件：可附上App操作影片，若你的App無法提供帳號測試，或是有些功能需要提供範例影片操作(ex.何時會使用到讀取wifi連線資訊的功能)，都需要附上影片</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="../images/ios-app-deploy/img8.png" alt=""></p>
<h3 id="建制版本"><a href="#建制版本" class="headerlink" title="建制版本"></a>建制版本</h3><p>接著選擇要送至審查的App版本，需先透過Xcode <code>Archive</code> 後上傳至App Store Connect，點擊藍色按鈕</p>
<p><img src="../images/ios-app-deploy/img11.png" alt=""></p>
<p>選擇對應想提交的版本，通常上傳完會需要一段時間處理，當完成處理都會email通知</p>
<p><img src="../images/ios-app-deploy/img11-1.png" alt=""></p>
<p>屆時才會出現在這邊</p>
<p><img src="../images/ios-app-deploy/img12.png" alt=""></p>
<p>接著選擇這次提交的出口合規資訊，點擊是否有使用加密功能，若點擊是的話，需要另外填寫出口法律資訊</p>
<p><img src="../images/ios-app-deploy/img13.png" alt=""></p>
<h3 id="廣告識別碼"><a href="#廣告識別碼" class="headerlink" title="廣告識別碼"></a>廣告識別碼</h3><p>最後是填寫是否有使用到 <code>廣告識別碼</code>，像是 Firebase Analytics 或是 Ad Mod 等第三方的廣告或分析工具，就需要聲明有使用到，若審查後發現錯誤，則需要重新上傳新的App版本</p>
<p><img src="../images/ios-app-deploy/img14.png" alt=""></p>
<p><strong>最後回到最上方點擊完成，並點擊審查，結著就會進入正在等待審查</strong></p>
<p><img src="../images/ios-app-deploy/img20.png" alt=""></p>
<p>通常審查時間已台灣都是晚上開始到半夜，對應到美國的白天時間，第一次審查都會比較久，大約2~3天，要耐心等待</p>
<p>但有時候會審查失敗，也會寄送 email 通知，可至連結查詢問題，並回覆審查人員</p>
<p>iOS Resolve Center : <a href="">https://appstoreconnect.apple.com/apps/<code>{apple id}</code>/appstore/platform/ios/resolutioncenter?m=</a></p>
<p>macOS Resolve Center : <a href="">https://appstoreconnect.apple.com/apps/<code>{apple id}</code>/appstore/platform/osx/resolutioncenter?m=</a></p>
<p><img src="../images/ios-app-deploy/img21.png" alt=""></p>
<p><img src="../images/ios-app-deploy/img21-1.png" alt=""></p>
<p>若審查成功，則會通知 <code>Ready for Sale</code>，完成這次版本審查</p>
<p><img src="../images/ios-app-deploy/img22.png" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/dc2c1f00.html" data-id="ckrhj40630001gxb3dhr7cdg2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Flutter/" rel="tag">Flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-window-10-安裝-docker-無法開啟-問題" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/archives/b0c060c4.html" class="article-date">
  <time datetime="2018-08-27T08:21:28.000Z" itemprop="datePublished">2018-08-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Docker/">Docker</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/archives/b0c060c4.html">window 10 安裝 docker 無法開啟 問題</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>若開啟docker後，vmware無法執行須關閉docker使用的hyper-v兩者會相衝，只能同時開其一<br><a href="https://stackoverflow.com/questions/48066994/docker-no-matching-manifest-for-windows-amd64-in-the-manifest-list-entries" target="_blank" rel="noopener">https://stackoverflow.com/questions/48066994/docker-no-matching-manifest-for-windows-amd64-in-the-manifest-list-entries</a></p>
<p>關閉系統hyper-v<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bcdedit /<span class="built_in">set</span> hypervisorlaunchtype off</span><br></pre></td></tr></table></figure></p>
<p>重新打開<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bcdedit /<span class="built_in">set</span> hypervisorlaunchtype auto</span><br></pre></td></tr></table></figure></p>
<p>上述兩指令 執行完都須重新開機</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.rainvisitor.me/archives/b0c060c4.html" data-id="ckrhj406a0004gxb35iri385y" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/">Flutter</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flutter/" rel="tag">Flutter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPU/" rel="tag">GPU</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/Flutter/" style="font-size: 20px;">Flutter</a> <a href="/tags/GPU/" style="font-size: 10px;">GPU</a> <a href="/tags/iOS/" style="font-size: 10px;">iOS</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">五月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/archives/0.html">(no title)</a>
          </li>
        
          <li>
            <a href="/archives/430aae7c.html">【文章翻譯】What’s new in Flutter 3.24</a>
          </li>
        
          <li>
            <a href="/archives/6243ded4.html">【文章翻譯】Announcing Flutter 3.24 and Dart 3.5</a>
          </li>
        
          <li>
            <a href="/archives/8ddf18fb.html">【文章翻譯】Getting started with Flutter GPU</a>
          </li>
        
          <li>
            <a href="/archives/807a2f46.html">【文章翻譯】Getting started with Flutter GPU</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 Rainvisitor<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FZZFH3T2TV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FZZFH3T2TV');
</script>
  </div>
</body>
</html>